window.EmberENV={FEATURES:{}};var runningTests=false;var define,requireModule,require,requirejs;(function(){var _isArray;if(!Array.isArray){_isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}}else{_isArray=Array.isArray}var registry={},seen={},state={};var FAILED=false;define=function(name,deps,callback){if(!_isArray(deps)){callback=deps;deps=[]}registry[name]={deps:deps,callback:callback}};function reify(deps,name,seen){var length=deps.length;var reified=new Array(length);var dep;var exports;for(var i=0,l=length;i<l;i++){dep=deps[i];if(dep==="exports"){exports=reified[i]=seen}else{reified[i]=require(resolve(dep,name))}}return{deps:reified,exports:exports}}requirejs=require=requireModule=function(name){if(state[name]!==FAILED&&seen.hasOwnProperty(name)){return seen[name]}if(!registry[name]){throw new Error("Could not find module "+name)}var mod=registry[name];var reified;var module;var loaded=false;seen[name]={};try{reified=reify(mod.deps,name,seen[name]);module=mod.callback.apply(this,reified.deps);loaded=true}finally{if(!loaded){state[name]=FAILED}}return reified.exports?seen[name]:seen[name]=module};function resolve(child,name){if(child.charAt(0)!=="."){return child}var parts=child.split("/");var nameParts=name.split("/");var parentBase;if(nameParts.length===1){parentBase=nameParts}else{parentBase=nameParts.slice(0,-1)}for(var i=0,l=parts.length;i<l;i++){var part=parts[i];if(part===".."){parentBase.pop()}else if(part==="."){continue}else{parentBase.push(part)}}return parentBase.join("/")}requirejs.entries=requirejs._eak_seen=registry;requirejs.clear=function(){requirejs.entries=requirejs._eak_seen=registry={};seen=state={}}})();(function(global,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document")}return factory(w)}}else{factory(global)}})(typeof window!=="undefined"?window:this,function(window,noGlobal){var deletedIds=[];var slice=deletedIds.slice;var concat=deletedIds.concat;var push=deletedIds.push;var indexOf=deletedIds.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var version="1.11.1",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return num!=null?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:deletedIds.sort,splice:deletedIds.splice};jQuery.extend=jQuery.fn.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(i===length){target=this;i--}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}return target};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj!=null&&obj==obj.window},isNumeric:function(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)>=0},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},isPlainObject:function(obj){var key;if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}if(support.ownLast){for(key in obj){return hasOwn.call(obj,key)}}for(key in obj){}return key===undefined||hasOwn.call(obj,key)},type:function(obj){if(obj==null){return obj+""}return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(data){if(data&&jQuery.trim(data)){(window.execScript||function(data){window["eval"].call(window,data)})(data)}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===false){break}}}else{for(i in obj){value=callback.apply(obj[i],args);if(value===false){break}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}}return obj},trim:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArraylike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr)}else{push.call(ret,arr)}}return ret},inArray:function(elem,arr,i){var len;if(arr){if(indexOf){return indexOf.call(arr,elem,i)}len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in arr&&arr[i]===elem){return i}}}return-1},merge:function(first,second){var len=+second.length,j=0,i=first.length;while(j<len){first[i++]=second[j++]}if(len!==len){while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i])}}return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}return concat.apply([],ret)},guid:1,proxy:function(fn,context){var args,proxy,tmp;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:function(){return+new Date},support:support});jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return false}if(obj.nodeType===1&&length){return true}return type==="array"||length===0||typeof length==="number"&&length>0&&length-1 in obj}var Sizzle=function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+-new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true}return 0},strundefined=typeof undefined,MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i}}return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320)};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while(target[j++]=els[i++]){}target.length=j-1}}}function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;results=results||[];if(!selector||typeof selector!=="string"){return results}if((nodeType=context.nodeType)!==1&&nodeType!==9){return[]}if(documentIsHTML&&!seed){if(match=rquickExpr.exec(selector)){if(m=match[1]){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){nid=old=expando;newContext=context;newSelector=nodeType===9&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if(old=context.getAttribute("id")){nid=old.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i])}newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;newSelector=groups.join(",")}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()]}return cache[key+" "]=value}return cache}function markFunction(fn){fn[expando]=true;return fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return false}finally{if(div.parentNode){div.parentNode.removeChild(div)}div=null}}function addHandle(attrs,handler){var arr=attrs.split("|"),i=attrs.length;while(i--){Expr.attrHandle[arr[i]]=handler}}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while(cur=cur.nextSibling){if(cur===b){return-1}}}return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j])}}})})}function testContext(context){return context&&typeof context.getElementsByTagName!==strundefined&&context}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};setDocument=Sizzle.setDocument=function(node){var hasCompare,doc=node?node.ownerDocument||node:preferredDoc,parent=doc.defaultView;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}document=doc;docElem=doc.documentElement;documentIsHTML=!isXML(doc);if(parent&&parent!==parent.top){if(parent.addEventListener){parent.addEventListener("unload",function(){setDocument()},false)}else if(parent.attachEvent){parent.attachEvent("onunload",function(){setDocument()})}}support.attributes=assert(function(div){div.className="i";return!div.getAttribute("className")});support.getElementsByTagName=assert(function(div){div.appendChild(doc.createComment(""));return!div.getElementsByTagName("*").length});support.getElementsByClassName=rnative.test(doc.getElementsByClassName)&&assert(function(div){div.innerHTML="<div class='a'></div><div class='a i'></div>";div.firstChild.className="i";return div.getElementsByClassName("i").length===2});support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!doc.getElementsByName||!doc.getElementsByName(expando).length});if(support.getById){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId}}}Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag)}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while(elem=results[i++]){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!==strundefined&&documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if(support.qsa=rnative.test(doc.querySelectorAll)){assert(function(div){div.innerHTML="<select msallowclip=''><option selected=''></option></select>";if(div.querySelectorAll("[msallowclip^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")")}if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}});assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=")}if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}if(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true}}}return false};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0}var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||!support.sortDetached&&b.compareDocumentPosition(a)===compare){if(a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1}if(b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}return sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0}return compare&4?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0}else if(aup===bup){return siblingCheck(a,b)}cur=a;while(cur=cur.parentNode){ap.unshift(cur)}cur=b;while(cur=cur.parentNode){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return doc};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++]){if(elem===results[i]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while(node=elem[i++]){ret+=getText(node)}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+(match[7]+match[8]||match[3]==="odd")}else if(match[3]){Sizzle.error(match[0])}return match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null}if(match[3]){match[2]=match[4]||match[5]||""}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}return match.slice(0,3)}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false}},CHILD:function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false}}start=dir=type==="only"&&!start&&"nextSibling"}return true}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1]}else{while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff]}if(node===elem){break}}}}diff-=last;return diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang")){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return false}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false}}return true},parent:function(elem){return!Expr.pseudos["empty"](elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},text:function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i)}for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i)}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters;tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=false;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true}}}}else{while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return newCache[2]=oldCache[2]}else{outerCache[dir]=newCache;if(newCache[2]=matcher(elem,context,xml)){return true}}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;
if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){temp.push(matcherIn[i]=elem)}}postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=dirruns+=contextBackup==null?1:Math.random()||.1,len=elems.length;if(outermost){outermostContext=context!==document&&context}for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while(matcher=elementMatchers[j++]){if(matcher(elem,context,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique}}if(bySet){if(elem=!matcher&&elem){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector)}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else if(compiled){context=context.parentNode}selector=selector.slice(tokens.shift().value.length)}i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type]){break}if(find=Expr.find[type]){if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#"})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}})}if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")===""})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue}})}if(!assert(function(div){return div.getAttribute("disabled")==null})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}return Sizzle}(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not})}if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return elem===qualifier!==not})}if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return jQuery.inArray(elem,qualifier)>=0!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")"}return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1}))};jQuery.fn.extend({find:function(selector){var i,ret=[],self=this,len=self.length;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true}}}))}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],false))},not:function(selector){return this.pushStack(winnow(this,selector||[],true))},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length}});var rootjQuery,document=window.document,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector){return this}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else if(jQuery.isFunction(selector)){return typeof rootjQuery.ready!=="undefined"?rootjQuery.ready(selector):selector(jQuery)}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.extend({dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});jQuery.fn.extend({has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++){if(jQuery.contains(this,targets[i])){return true}}})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){if(!elem){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem))}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){do{cur=cur[dir]}while(cur&&cur.nodeType!==1);return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}if(this.length>1){if(!guaranteedUnique[name]){ret=jQuery.unique(ret)}if(rparentsprev.test(name)){ret=ret.reverse()}}return this.pushStack(ret)}});var rnotwhite=/\S+/g;var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?optionsCache[options]||createOptions(options):jQuery.extend({},options);var firing,memory,fired,firingLength,firingIndex,firingStart,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift())}}else if(memory){list=[]}else{self.disable()}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg)}}else if(arg&&arg.length&&type!=="string"){add(arg)}})})(arguments);if(firing){firingLength=list.length}else if(memory){firingStart=start;fire(memory)}}return this},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}if(index<=firingIndex){firingIndex--}}}})}return this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!!(list&&list.length)},empty:function(){list=[];firingLength=0;return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return!list},lock:function(){stack=undefined;if(!memory){self.disable()}return this},locked:function(){return!stack},fireWith:function(context,args){if(list&&(!fired||stack)){args=args||[];args=[context,args.slice?args.slice():args];if(firing){stack.push(args)}else{fire(args)}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(!--remaining){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}if(!document.body){return setTimeout(jQuery.ready)}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready")}}});function detach(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",completed,false);window.removeEventListener("load",completed,false)}else{document.detachEvent("onreadystatechange",completed);window.detachEvent("onload",completed)}}function completed(){if(document.addEventListener||event.type==="load"||document.readyState==="complete"){detach();jQuery.ready()}}jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready)}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",completed,false);window.addEventListener("load",completed,false)}else{document.attachEvent("onreadystatechange",completed);window.attachEvent("onload",completed);var top=false;try{top=window.frameElement==null&&document.documentElement}catch(e){}if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}detach();jQuery.ready()}})()}}}return readyList.promise(obj)};var strundefined=typeof undefined;var i;for(i in jQuery(support)){break}support.ownLast=i!=="0";support.inlineBlockNeedsLayout=false;jQuery(function(){var val,div,body,container;body=document.getElementsByTagName("body")[0];if(!body||!body.style){return}div=document.createElement("div");container=document.createElement("div");container.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";body.appendChild(container).appendChild(div);if(typeof div.style.zoom!==strundefined){div.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";support.inlineBlockNeedsLayout=val=div.offsetWidth===3;if(val){body.style.zoom=1}}body.removeChild(container)});(function(){var div=document.createElement("div");if(support.deleteExpando==null){support.deleteExpando=true;try{delete div.test}catch(e){support.deleteExpando=false}}div=null})();jQuery.acceptData=function(elem){var noData=jQuery.noData[(elem.nodeName+" ").toLowerCase()],nodeType=+elem.nodeType||1;return nodeType!==1&&nodeType!==9?false:!noData||noData!==true&&elem.getAttribute("classid")===noData};var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else{data=undefined}}return data}function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue}if(name!=="toJSON"){return false}}return true}function internalData(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return}var ret,thisCache,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||!pvt&&!cache[id].data)&&data===undefined&&typeof name==="string"){return}if(!id){if(isNode){id=elem[internalKey]=deletedIds.pop()||jQuery.guid++}else{id=internalKey}}if(!cache[id]){cache[id]=isNode?{}:{toJSON:jQuery.noop}}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name)}else{cache[id].data=jQuery.extend(cache[id].data,name)}}thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={}}thisCache=thisCache.data}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data}if(typeof name==="string"){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)]}}else{ret=thisCache}return ret}function internalRemoveData(elem,name,pvt){if(!jQuery.acceptData(elem)){return}var thisCache,i,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id]){return}if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name]}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name]}else{name=name.split(" ")}}}else{name=name.concat(jQuery.map(name,jQuery.camelCase))}i=name.length;while(i--){delete thisCache[name[i]]}if(pvt?!isEmptyDataObject(thisCache):!jQuery.isEmptyObject(thisCache)){return}}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return}}if(isNode){jQuery.cleanData([elem],true)}else if(support.deleteExpando||cache!=cache.window){delete cache[id]}else{cache[id]=null}}jQuery.extend({cache:{},noData:{"applet ":true,"embed ":true,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return!!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data){return internalData(elem,name,data)},removeData:function(elem,name){return internalRemoveData(elem,name)},_data:function(elem,name,data){return internalData(elem,name,data,true)},_removeData:function(elem,name){return internalRemoveData(elem,name,true)}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}jQuery._data(elem,"parsedAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}return arguments.length>1?this.each(function(){jQuery.data(this,key,value)}):elem?dataAttr(elem,key,jQuery.data(elem,key)):undefined},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue");jQuery._removeData(elem,key)})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!--count){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)};var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){jQuery.access(elems,fn,i,key[i],true,emptyGet,raw)}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<length;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet};var rcheckableType=/^(?:checkbox|radio)$/i;(function(){var input=document.createElement("input"),div=document.createElement("div"),fragment=document.createDocumentFragment();div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";support.leadingWhitespace=div.firstChild.nodeType===3;support.tbody=!div.getElementsByTagName("tbody").length;support.htmlSerialize=!!div.getElementsByTagName("link").length;support.html5Clone=document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";input.type="checkbox";input.checked=true;fragment.appendChild(input);support.appendChecked=input.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue;fragment.appendChild(div);div.innerHTML="<input type='radio' checked='checked' name='t'/>";support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;support.noCloneEvent=true;if(div.attachEvent){div.attachEvent("onclick",function(){support.noCloneEvent=false});div.cloneNode(true).click()}if(support.deleteExpando==null){support.deleteExpando=true;try{delete div.test}catch(e){support.deleteExpando=false}}})();(function(){var i,eventName,div=document.createElement("div");for(i in{submit:true,change:true,focusin:true}){eventName="on"+i;if(!(support[i+"Bubbles"]=eventName in window)){div.setAttribute(eventName,"t");support[i+"Bubbles"]=div.attributes[eventName].expando===false}}div=null})();var rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return true}function returnFalse(){return false}function safeActiveElement(){try{return document.activeElement}catch(err){}}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var tmp,events,t,handleObjIn,special,eventHandle,handleObj,handlers,type,namespaces,origType,elemData=jQuery._data(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined};eventHandle.elem=elem}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}elem=null},remove:function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events)){return}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery._removeData(elem,"events")}},trigger:function(event,data,elem,onlyHandlers){var handle,ontype,cur,bubbleType,special,tmp,i,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem}data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;
handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&handle.apply&&jQuery.acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault()}}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;try{elem[type]()}catch(e){}jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event);var i,ret,handleObj,matched,j,handlerQueue=[],args=slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers:function(event,handlers){var sel,handleObj,matches,i,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||event.type!=="click")){for(;cur!=this;cur=cur.parentNode||this){if(cur.nodeType===1&&(cur.disabled!==true||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=originalEvent.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var body,eventDoc,doc,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement}if(!event.which&&button!==undefined){event.which=button&1?1:button&2?3:button&4?2:0}return event}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){try{this.focus();return false}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(jQuery.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]===strundefined){elem[name]=null}elem.detachEvent(name,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&e.stopImmediatePropagation){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!jQuery._data(form,"submitBubbles")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true});jQuery._data(form,"submitBubbles",true)}})},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true)}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.remove(this,"._submit")}}}if(!support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false}jQuery.event.simulate("change",this,event,true)})}return false}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"changeBubbles")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true)}});jQuery._data(elem,"changeBubbles",true)}})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||elem.type!=="radio"&&elem.type!=="checkbox"){return event.handleObj.handler.apply(this,arguments)}},teardown:function(){jQuery.event.remove(this,"._change");return!rformElems.test(this.nodeName)}}}if(!support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true)}jQuery._data(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);jQuery._removeData(doc,fix)}else{jQuery._data(doc,fix,attaches)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var type,origFn;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}if(fn===false){fn=returnFalse}else if(!fn){return this}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true)}}});function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop())}}return safeFrag}var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function getAll(context,tag){var elems,elem,i=0,found=typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!==strundefined?context.querySelectorAll(tag||"*"):undefined;if(!found){for(found=[],elems=context.childNodes||context;(elem=elems[i])!=null;i++){if(!tag||jQuery.nodeName(elem,tag)){found.push(elem)}else{jQuery.merge(found,getAll(elem,tag))}}}return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found}function fixDefaultChecked(elem){if(rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked}}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){elem.type=(jQuery.find.attr(elem,"type")!==null)+"/"+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute("type")}return elem}function setGlobalEval(elems,refElements){var elem,i=0;for(;(elem=elems[i])!=null;i++){jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"))}}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return}var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}if(curData.data){curData.data=jQuery.extend({},curData.data)}}function fixCloneNodeIssues(src,dest){var nodeName,e,data;if(dest.nodeType!==1){return}nodeName=dest.nodeName.toLowerCase();if(!support.noCloneEvent&&dest[jQuery.expando]){data=jQuery._data(dest);for(e in data.events){jQuery.removeEvent(dest,e,data.handle)}dest.removeAttribute(jQuery.expando)}if(nodeName==="script"&&dest.text!==src.text){disableScript(dest).text=src.text;restoreScript(dest)}else if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML}if(support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML}}else if(nodeName==="input"&&rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value){dest.value=src.value}}else if(nodeName==="option"){dest.defaultSelected=dest.selected=src.defaultSelected}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true)}else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild)}if((!support.noCloneEvent||!support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0;(node=srcElements[i])!=null;++i){if(destElements[i]){fixCloneNodeIssues(node,destElements[i])}}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0;(node=srcElements[i])!=null;i++){cloneCopyEvent(node,destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"))}destElements=srcElements=node=null;return clone},buildFragment:function(elems,context,scripts,selection){var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||safe.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}if(!support.leadingWhitespace&&rleadingWhitespace.test(elem)){nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0]))}if(!support.tbody){elem=tag==="table"&&!rtbody.test(elem)?tmp.firstChild:wrap[1]==="<table>"&&!rtbody.test(elem)?tmp:0;j=elem&&elem.childNodes.length;while(j--){if(jQuery.nodeName(tbody=elem.childNodes[j],"tbody")&&!tbody.childNodes.length){elem.removeChild(tbody)}}}jQuery.merge(nodes,tmp.childNodes);tmp.textContent="";while(tmp.firstChild){tmp.removeChild(tmp.firstChild)}tmp=safe.lastChild}}}if(tmp){safe.removeChild(tmp)}if(!support.appendChecked){jQuery.grep(getAll(nodes,"input"),fixDefaultChecked)}i=0;while(elem=nodes[i++]){if(selection&&jQuery.inArray(elem,selection)!==-1){continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(safe.appendChild(elem),"script");if(contains){setGlobalEval(tmp)}if(scripts){j=0;while(elem=tmp[j++]){if(rscriptType.test(elem.type||"")){scripts.push(elem)}}}}tmp=null;return safe},cleanData:function(elems,acceptData){var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}if(cache[id]){delete cache[id];if(deleteExpando){delete elem[internalKey]}else if(typeof elem.removeAttribute!==strundefined){elem.removeAttribute(internalKey)}else{elem[internalKey]=null}deletedIds.push(id)}}}}}});jQuery.fn.extend({text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},remove:function(selector,keepData){var elem,elems=selector?jQuery.filter(selector,this):this,i=0;for(;(elem=elems[i])!=null;i++){if(!keepData&&elem.nodeType===1){jQuery.cleanData(getAll(elem))}if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,"script"))}elem.parentNode.removeChild(elem)}}return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false))}while(elem.firstChild){elem.removeChild(elem.firstChild)}if(elem.options&&jQuery.nodeName(elem,"select")){elem.options.length=0}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(support.htmlSerialize||!rnoshimcache.test(value))&&(support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];this.domManip(arguments,function(elem){arg=this.parentNode;jQuery.cleanData(getAll(this));if(arg){arg.replaceChild(elem,this)}});return arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,true)},domManip:function(args,callback){args=concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value)){return this.each(function(index){var self=set.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}self.domManip(args,callback)})}if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,false,this);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"))}}callback.call(this[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,""))}}}}fragment=first=null}}return this}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}return this.pushStack(ret)}});var iframe,elemdisplay={};function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");elem.detach();return display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=(iframe[0].contentWindow||iframe[0].contentDocument).document;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}(function(){var shrinkWrapBlocksVal;support.shrinkWrapBlocks=function(){if(shrinkWrapBlocksVal!=null){return shrinkWrapBlocksVal}shrinkWrapBlocksVal=false;var div,body,container;body=document.getElementsByTagName("body")[0];if(!body||!body.style){return}div=document.createElement("div");container=document.createElement("div");container.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";body.appendChild(container).appendChild(div);if(typeof div.style.zoom!==strundefined){div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;"+"padding:1px;width:1px;zoom:1";div.appendChild(document.createElement("div")).style.width="5px";shrinkWrapBlocksVal=div.offsetWidth!==3}body.removeChild(container);return shrinkWrapBlocksVal}})();var rmargin=/^margin/;var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles,curCSS,rposition=/^(top|right|bottom|left)$/;if(window.getComputedStyle){getStyles=function(elem){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)};curCSS=function(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed.getPropertyValue(name)||computed[name]:undefined;if(computed){if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret===undefined?ret:ret+""}}else if(document.documentElement.currentStyle){getStyles=function(elem){return elem.currentStyle};curCSS=function(elem,name,computed){var left,rs,rsLeft,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed[name]:undefined;if(ret==null&&style&&style[name]){ret=style[name]}if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rs=elem.runtimeStyle;rsLeft=rs&&rs.left;if(rsLeft){rs.left=elem.currentStyle.left}style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){rs.left=rsLeft}}return ret===undefined?ret:ret+""||"auto"}}function addGetHookIf(conditionFn,hookFn){return{get:function(){var condition=conditionFn();if(condition==null){return}if(condition){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}(function(){var div,style,a,pixelPositionVal,boxSizingReliableVal,reliableHiddenOffsetsVal,reliableMarginRightVal;div=document.createElement("div");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=div.getElementsByTagName("a")[0];style=a&&a.style;if(!style){return}style.cssText="float:left;opacity:.5";support.opacity=style.opacity==="0.5";support.cssFloat=!!style.cssFloat;div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";support.boxSizing=style.boxSizing===""||style.MozBoxSizing===""||style.WebkitBoxSizing==="";jQuery.extend(support,{reliableHiddenOffsets:function(){if(reliableHiddenOffsetsVal==null){computeStyleTests()}return reliableHiddenOffsetsVal},boxSizingReliable:function(){if(boxSizingReliableVal==null){computeStyleTests()}return boxSizingReliableVal},pixelPosition:function(){if(pixelPositionVal==null){computeStyleTests()}return pixelPositionVal},reliableMarginRight:function(){if(reliableMarginRightVal==null){computeStyleTests()}return reliableMarginRightVal}});function computeStyleTests(){var div,body,container,contents;body=document.getElementsByTagName("body")[0];if(!body||!body.style){return}div=document.createElement("div");container=document.createElement("div");container.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";body.appendChild(container).appendChild(div);div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+"box-sizing:border-box;display:block;margin-top:1%;top:1%;"+"border:1px;padding:1px;width:4px;position:absolute";pixelPositionVal=boxSizingReliableVal=false;reliableMarginRightVal=true;if(window.getComputedStyle){pixelPositionVal=(window.getComputedStyle(div,null)||{}).top!=="1%";boxSizingReliableVal=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";contents=div.appendChild(document.createElement("div"));contents.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;padding:0";contents.style.marginRight=contents.style.width="0";div.style.width="1px";reliableMarginRightVal=!parseFloat((window.getComputedStyle(contents,null)||{}).marginRight)}div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";contents=div.getElementsByTagName("td");contents[0].style.cssText="margin:0;border:0;padding:0;display:none";reliableHiddenOffsetsVal=contents[0].offsetHeight===0;if(reliableHiddenOffsetsVal){contents[0].style.display="";contents[1].style.display="none";reliableHiddenOffsetsVal=contents[0].offsetHeight===0}body.removeChild(container)}})();jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret};var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style){return name}var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}return origName}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=jQuery._data(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if(display&&display!=="none"||!hidden){jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return
}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||value!==value){return}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit"}if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value}catch(e){}}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra,styles){var num,val,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name,styles)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(extra===""||extra){num=parseFloat(val);return extra===true||jQuery.isNumeric(num)?num||0:val}return val}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles):0)}}});if(!support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if((value>=1||value==="")&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(value===""||currentStyle&&!currentStyle.filter){return}}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}}}jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles)}return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide()}return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||unit!=="px"&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3];parts=parts||[];start=+target||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations)}if(parts){start=tween.start=+start||+target||0;tween.unit=unit;tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]}return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined});return fxNow=jQuery.now()}function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}function createTween(value,prop,animation){var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(tween=collection[index].call(animation,prop,value)){return tween}}}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=jQuery._data(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?jQuery._data(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){if(!support.inlineBlockNeedsLayout||defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block"}else{style.zoom=1}}}if(opts.overflow){style.overflow="hidden";if(!support.shrinkWrapBlocks()){anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true}else{continue}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=undefined}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden}}else{dataShow=jQuery._data(elem,"fxshow",{})}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}else if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return false}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=true;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.split(" ")}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||jQuery._data(this,"finish")){anim.stop(true)}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(type!==false){type=type||"fx"}return this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})};(function(){var input,div,select,a,opt;div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=div.getElementsByTagName("a")[0];select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px";support.getSetAttribute=div.className!=="t";support.style=/top/.test(a.getAttribute("style"));support.hrefNormalized=a.getAttribute("href")==="/a";support.checkOn=!!input.value;support.optSelected=opt.selected;support.enctype=!!document.createElement("form").enctype;select.disabled=true;support.optDisabled=!opt.disabled;input=document.createElement("input");input.setAttribute("value","");support.input=input.getAttribute("value")==="";input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t"})();var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}if(val==null){val=""}else if(typeof val==="number"){val+=""}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(jQuery.inArray(jQuery.valHooks.option.get(option),values)>=0){try{option.selected=optionSet=true}catch(_){option.scrollHeight}}else{option.selected=false}}if(!optionSet){elem.selectedIndex=-1}return options}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value}}});var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=support.getSetAttribute,getSetInput=support.input;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}if(typeof elem.getAttribute===strundefined){return jQuery.prop(elem,name,value)}if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name)}else if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,value+"");return value}}else if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while(name=attrNames[i++]){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){if(getSetInput&&getSetAttribute||!ruseDefault.test(name)){elem[propName]=false}else{elem[jQuery.camelCase("default-"+name)]=elem[propName]=false}}else{jQuery.attr(elem,name,"")}elem.removeAttribute(getSetAttribute?name:propName)}}},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name)}else if(getSetInput&&getSetAttribute||!ruseDefault.test(name)){elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name)}else{elem[jQuery.camelCase("default-"+name)]=elem[name]=true}return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=getSetInput&&getSetAttribute||!ruseDefault.test(name)?function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle}return ret}:function(elem,name,isXML){if(!isXML){return elem[jQuery.camelCase("default-"+name)]?name.toLowerCase():null}}});if(!getSetInput||!getSetAttribute){jQuery.attrHooks.value={set:function(elem,value,name){if(jQuery.nodeName(elem,"input")){elem.defaultValue=value}else{return nodeHook&&nodeHook.set(elem,value,name)}}}}if(!getSetAttribute){nodeHook={set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){elem.setAttributeNode(ret=elem.ownerDocument.createAttribute(name))}ret.value=value+="";if(name==="value"||value===elem.getAttribute(name)){return value}}};attrHandle.id=attrHandle.name=attrHandle.coords=function(elem,name,isXML){var ret;if(!isXML){return(ret=elem.getAttributeNode(name))&&ret.value!==""?ret.value:null}};jQuery.valHooks.button={get:function(elem,name){var ret=elem.getAttributeNode(name);if(ret&&ret.specified){return ret.value}},set:nodeHook.set};jQuery.attrHooks.contenteditable={set:function(elem,value,name){nodeHook.set(elem,value===""?false:value,name)}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]={set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value}}}})}if(!support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText||undefined},set:function(elem,value){return elem.style.cssText=value+""}}}var rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name]}catch(e){}})}});jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){return hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value}else{return hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null?ret:elem[name]}},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}}});if(!support.hrefNormalized){jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={get:function(elem){return elem.getAttribute(name,4)}}})}if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}return null}}}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});if(!support.enctype){jQuery.propFix.enctype="encoding"}var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0,len=this.length,proceed=typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;while(clazz=classes[j++]){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" "}}finalValue=jQuery.trim(cur);if(elem.className!==finalValue){elem.className=finalValue}}}}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0,len=this.length,proceed=arguments.length===0||typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;while(clazz=classes[j++]){while(cur.indexOf(" "+clazz+" ")>=0){cur=cur.replace(" "+clazz+" "," ")}}finalValue=value?jQuery.trim(cur):"";if(elem.className!==finalValue){elem.className=finalValue}}}}return this},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value)}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];while(className=classNames[i++]){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else if(type===strundefined||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||""}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true}}return false}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now();var rquery=/\?/;var rvalidtokens=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;jQuery.parseJSON=function(data){if(window.JSON&&window.JSON.parse){return window.JSON.parse(data+"")}var requireNonComma,depth=null,str=jQuery.trim(data+"");return str&&!jQuery.trim(str.replace(rvalidtokens,function(token,comma,open,close){if(requireNonComma&&comma){depth=0}if(depth===0){return token}requireNonComma=open||comma;depth+=!close-!open;return""}))?Function("return "+str)():jQuery.error("Invalid JSON: "+data)};jQuery.parseXML=function(data){var xml,tmp;if(!data||typeof data!=="string"){return null}try{if(window.DOMParser){tmp=new DOMParser;xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while(dataType=dataTypes[i++]){if(dataType.charAt(0)==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false}else if(seekingTransport){return!(selected=dataTypeOrTransport)}});return selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:deep||(deep={}))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}return target}function ajaxHandleResponses(s,jqXHR,responses){var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]
}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1])}break}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}}}return{state:"success",data:response}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?"80":"443"))!==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443"))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data;delete s.data}if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified}}if(status===204||s.type==="HEAD"){statusText="nocontent"}else if(status===304){statusText="notmodified"}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!--jQuery.active){jQuery.event.trigger("ajaxStop")}}}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}});jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,"throws":true})};jQuery.fn.extend({wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0||!support.reliableHiddenOffsets()&&(elem.style&&elem.style.display||jQuery.css(elem,"display"))==="none"};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}})}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value==null?"":value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.ajaxSettings.xhr=window.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&createStandardXHR()||createActiveXHR()}:createStandardXHR;var xhrId=0,xhrCallbacks={},xhrSupported=jQuery.ajaxSettings.xhr();if(window.ActiveXObject){jQuery(window).on("unload",function(){for(var key in xhrCallbacks){xhrCallbacks[key](undefined,true)}})}support.cors=!!xhrSupported&&"withCredentials"in xhrSupported;xhrSupported=support.ajax=!!xhrSupported;if(xhrSupported){jQuery.ajaxTransport(function(options){if(!options.crossDomain||support.cors){var callback;return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}for(i in headers){if(headers[i]!==undefined){xhr.setRequestHeader(i,headers[i]+"")}}xhr.send(options.hasContent&&options.data||null);callback=function(_,isAbort){var status,statusText,responses;if(callback&&(isAbort||xhr.readyState===4)){delete xhrCallbacks[id];callback=undefined;xhr.onreadystatechange=jQuery.noop;if(isAbort){if(xhr.readyState!==4){xhr.abort()}}else{responses={};status=xhr.status;if(typeof xhr.responseText==="string"){responses.text=xhr.responseText}try{statusText=xhr.statusText}catch(e){statusText=""}if(!status&&options.isLocal&&!options.crossDomain){status=responses.text?200:404}else if(status===1223){status=204}}}if(responses){complete(status,statusText,responses,xhr.getAllResponseHeaders())}};if(!options.async){callback()}else if(xhr.readyState===4){setTimeout(callback)}else{xhr.onreadystatechange=xhrCallbacks[id]=callback}},abort:function(){if(callback){callback(undefined,true)}}}}})}function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET";s.global=false}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async=true;if(s.scriptCharset){script.charset=s.scriptCharset}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(script.parentNode){script.parentNode.removeChild(script)}script=null;if(!isAbort){callback(200,"success")}}};head.insertBefore(script,head.firstChild)},abort:function(){if(script){script.onload(undefined,true)}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName)}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){keepScripts=context;context=false}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=jQuery.buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}var selector,response,type,self=this,off=url.indexOf(" ");if(off>=0){selector=jQuery.trim(url.slice(off,url.length));url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else if(params&&typeof params==="object"){type="POST"}if(self.length>0){jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])})}return this};jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative"}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=options.top-curOffset.top+curTop}if(options.left!=null){props.left=options.left-curOffset.left+curLeft}if("using"in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,win,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}if(typeof elem.getBoundingClientRect!==strundefined){box=elem.getBoundingClientRect()}win=getWindow(doc);return{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}},position:function(){if(!this[0]){return}var offsetParent,offset,parentOffset={top:0,left:0},elem=this[0];if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true)}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||docElem;while(offsetParent&&(!jQuery.nodeName(offsetParent,"html")&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent||docElem})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?prop in win?win[prop]:win.document.documentElement[method]:elem[method]}if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop())}else{elem[method]=val}},method,val,arguments.length,null)}});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}})});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});jQuery.fn.size=function(){return this.length};jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery})}var _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery};if(typeof noGlobal===strundefined){window.jQuery=window.$=jQuery}return jQuery});var Handlebars=function(){var __module3__=function(){"use strict";var __exports__;function SafeString(string){this.string=string}SafeString.prototype.toString=function(){return""+this.string};__exports__=SafeString;return __exports__}();var __module2__=function(__dependency1__){"use strict";var __exports__={};var SafeString=__dependency1__;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g;var possible=/[&<>"'`]/;function escapeChar(chr){return escape[chr]||"&amp;"}function extend(obj,value){for(var key in value){if(Object.prototype.hasOwnProperty.call(value,key)){obj[key]=value[key]}}}__exports__.extend=extend;var toString=Object.prototype.toString;__exports__.toString=toString;var isFunction=function(value){return typeof value==="function"};if(isFunction(/x/)){isFunction=function(value){return typeof value==="function"&&toString.call(value)==="[object Function]"}}var isFunction;__exports__.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&typeof value==="object"?toString.call(value)==="[object Array]":false};__exports__.isArray=isArray;function escapeExpression(string){if(string instanceof SafeString){return string.toString()}else if(!string&&string!==0){return""}string=""+string;if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)}__exports__.escapeExpression=escapeExpression;function isEmpty(value){if(!value&&value!==0){return true}else if(isArray(value)&&value.length===0){return true}else{return false}}__exports__.isEmpty=isEmpty;return __exports__}(__module3__);var __module4__=function(){"use strict";var __exports__;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];function Exception(message,node){var line;if(node&&node.firstLine){line=node.firstLine;message+=" - "+line+":"+node.firstColumn}var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}if(line){this.lineNumber=line;this.column=node.firstColumn}}Exception.prototype=new Error;__exports__=Exception;return __exports__}();var __module1__=function(__dependency1__,__dependency2__){"use strict";var __exports__={};var Utils=__dependency1__;var Exception=__dependency2__;var VERSION="1.3.0";__exports__.VERSION=VERSION;var COMPILER_REVISION=4;__exports__.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};__exports__.REVISION_CHANGES=REVISION_CHANGES;var isArray=Utils.isArray,isFunction=Utils.isFunction,toString=Utils.toString,objectType="[object Object]";function HandlebarsEnvironment(helpers,partials){this.helpers=helpers||{};this.partials=partials||{};registerDefaultHelpers(this)}__exports__.HandlebarsEnvironment=HandlebarsEnvironment;HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function(name,fn,inverse){if(toString.call(name)===objectType){if(inverse||fn){throw new Exception("Arg not supported with multiple helpers")}Utils.extend(this.helpers,name)}else{if(inverse){fn.not=inverse}this.helpers[name]=fn}},registerPartial:function(name,str){if(toString.call(name)===objectType){Utils.extend(this.partials,name)}else{this.partials[name]=str}}};function registerDefaultHelpers(instance){instance.registerHelper("helperMissing",function(arg){if(arguments.length===2){return undefined}else{throw new Exception("Missing helper: '"+arg+"'")}});instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;if(isFunction(context)){context=context.call(this)}if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(isArray(context)){if(context.length>0){return instance.helpers.each(context,options)}else{return inverse(this)}}else{return fn(context)}});instance.registerHelper("each",function(context,options){var fn=options.fn,inverse=options.inverse;var i=0,ret="",data;if(isFunction(context)){context=context.call(this)}if(options.data){data=createFrame(options.data)}if(context&&typeof context==="object"){if(isArray(context)){for(var j=context.length;i<j;i++){if(data){data.index=i;data.first=i===0;data.last=i===context.length-1}ret=ret+fn(context[i],{data:data})}}else{for(var key in context){if(context.hasOwnProperty(key)){if(data){data.key=key;data.index=i;data.first=i===0}ret=ret+fn(context[key],{data:data});i++}}}}if(i===0){ret=inverse(this)}return ret});instance.registerHelper("if",function(conditional,options){if(isFunction(conditional)){conditional=conditional.call(this)}if(!options.hash.includeZero&&!conditional||Utils.isEmpty(conditional)){return options.inverse(this)}else{return options.fn(this)}});instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})});instance.registerHelper("with",function(context,options){if(isFunction(context)){context=context.call(this)}if(!Utils.isEmpty(context))return options.fn(context)});instance.registerHelper("log",function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;instance.log(level,context)})}var logger={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,obj){if(logger.level<=level){var method=logger.methodMap[level];if(typeof console!=="undefined"&&console[method]){console[method].call(console,obj)}}}};__exports__.logger=logger;function log(level,obj){logger.log(level,obj)}__exports__.log=log;var createFrame=function(object){var obj={};Utils.extend(obj,object);return obj};__exports__.createFrame=createFrame;return __exports__}(__module2__,__module4__);var __module5__=function(__dependency1__,__dependency2__,__dependency3__){"use strict";var __exports__={};var Utils=__dependency1__;var Exception=__dependency2__;var COMPILER_REVISION=__dependency3__.COMPILER_REVISION;var REVISION_CHANGES=__dependency3__.REVISION_CHANGES;function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=REVISION_CHANGES[currentRevision],compilerVersions=REVISION_CHANGES[compilerRevision];throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}else{throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+").")}}}__exports__.checkRevision=checkRevision;function template(templateSpec,env){if(!env){throw new Exception("No environment passed to template")}var invokePartialWrapper=function(partial,name,context,helpers,partials,data){var result=env.VM.invokePartial.apply(this,arguments);if(result!=null){return result}if(env.compile){var options={helpers:helpers,partials:partials,data:data};partials[name]=env.compile(partial,{data:data!==undefined},env);return partials[name](context,options)}else{throw new Exception("The partial "+name+" could not be compiled when running in runtime-only mode")}};var container={escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data){programWrapper=program(i,fn,data)}else if(!programWrapper){programWrapper=this.programs[i]=program(i,fn)}return programWrapper},merge:function(param,common){var ret=param||common;if(param&&common&&param!==common){ret={};Utils.extend(ret,common);Utils.extend(ret,param)}return ret},programWithDepth:env.VM.programWithDepth,noop:env.VM.noop,compilerInfo:null};return function(context,options){options=options||{};var namespace=options.partial?options:env,helpers,partials;if(!options.partial){helpers=options.helpers;partials=options.partials}var result=templateSpec.call(container,namespace,context,helpers,partials,options.data);if(!options.partial){env.VM.checkRevision(container.compilerInfo)}return result}}__exports__.template=template;function programWithDepth(i,fn,data){var args=Array.prototype.slice.call(arguments,3);var prog=function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args))};prog.program=i;prog.depth=args.length;return prog}__exports__.programWithDepth=programWithDepth;function program(i,fn,data){var prog=function(context,options){options=options||{};return fn(context,options.data||data)};prog.program=i;prog.depth=0;return prog}__exports__.program=program;function invokePartial(partial,name,context,helpers,partials,data){var options={partial:true,helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Exception("The partial "+name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}}__exports__.invokePartial=invokePartial;function noop(){return""}__exports__.noop=noop;return __exports__}(__module2__,__module4__,__module1__);var __module0__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){"use strict";var __exports__;var base=__dependency1__;var SafeString=__dependency2__;var Exception=__dependency3__;var Utils=__dependency4__;var runtime=__dependency5__;var create=function(){var hb=new base.HandlebarsEnvironment;Utils.extend(hb,base);hb.SafeString=SafeString;hb.Exception=Exception;hb.Utils=Utils;hb.VM=runtime;hb.template=function(spec){return runtime.template(spec,hb)};return hb};var Handlebars=create();Handlebars.create=create;__exports__=Handlebars;return __exports__}(__module1__,__module3__,__module4__,__module2__,__module5__);return __module0__}();(function(){var enifed,requireModule,eriuqer,requirejs,Ember;(function(){Ember=this.Ember=this.Ember||{};if(typeof Ember==="undefined"){Ember={}}if(typeof Ember.__loader==="undefined"){var registry={},seen={};enifed=function(name,deps,callback){registry[name]={deps:deps,callback:callback}};requirejs=eriuqer=requireModule=function(name){if(seen.hasOwnProperty(name)){return seen[name]}seen[name]={};if(!registry[name]){throw new Error("Could not find module "+name)}var mod=registry[name];var deps=mod.deps;var callback=mod.callback;var reified=[];var exports;for(var i=0,l=deps.length;i<l;i++){if(deps[i]==="exports"){reified.push(exports={})}else{reified.push(requireModule(resolve(deps[i])))}}var value=callback.apply(this,reified);return seen[name]=exports||value;function resolve(child){if(child.charAt(0)!=="."){return child}var parts=child.split("/");var parentBase=name.split("/").slice(0,-1);for(var i=0,l=parts.length;i<l;i++){var part=parts[i];if(part===".."){parentBase.pop()}else if(part==="."){continue}else{parentBase.push(part)}}return parentBase.join("/")}};requirejs._eak_seen=registry;Ember.__loader={define:enifed,require:eriuqer,registry:registry}}else{enifed=Ember.__loader.define;requirejs=eriuqer=requireModule=Ember.__loader.require}})();enifed("backburner",["backburner/utils","backburner/platform","backburner/binary-search","backburner/deferred-action-queues","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var each=__dependency1__.each;
var isString=__dependency1__.isString;var isFunction=__dependency1__.isFunction;var isNumber=__dependency1__.isNumber;var isCoercableNumber=__dependency1__.isCoercableNumber;var wrapInTryCatch=__dependency1__.wrapInTryCatch;var now=__dependency1__.now;var needsIETryCatchFix=__dependency2__.needsIETryCatchFix;var searchTimer=__dependency3__["default"];var DeferredActionQueues=__dependency4__["default"];var slice=[].slice;var pop=[].pop;var global=this;function Backburner(queueNames,options){this.queueNames=queueNames;this.options=options||{};if(!this.options.defaultQueue){this.options.defaultQueue=queueNames[0]}this.instanceStack=[];this._debouncees=[];this._throttlers=[];this._timers=[]}Backburner.prototype={begin:function(){var options=this.options;var onBegin=options&&options.onBegin;var previousInstance=this.currentInstance;if(previousInstance){this.instanceStack.push(previousInstance)}this.currentInstance=new DeferredActionQueues(this.queueNames,options);if(onBegin){onBegin(this.currentInstance,previousInstance)}},end:function(){var options=this.options;var onEnd=options&&options.onEnd;var currentInstance=this.currentInstance;var nextInstance=null;var finallyAlreadyCalled=false;try{currentInstance.flush()}finally{if(!finallyAlreadyCalled){finallyAlreadyCalled=true;this.currentInstance=null;if(this.instanceStack.length){nextInstance=this.instanceStack.pop();this.currentInstance=nextInstance}if(onEnd){onEnd(currentInstance,nextInstance)}}}},run:function(target,method){var onError=getOnError(this.options);this.begin();if(!method){method=target;target=null}if(isString(method)){method=target[method]}var args=slice.call(arguments,2);var didFinally=false;if(onError){try{return method.apply(target,args)}catch(error){onError(error)}finally{if(!didFinally){didFinally=true;this.end()}}}else{try{return method.apply(target,args)}finally{if(!didFinally){didFinally=true;this.end()}}}},defer:function(queueName,target,method){if(!method){method=target;target=null}if(isString(method)){method=target[method]}var stack=this.DEBUG?new Error:undefined;var length=arguments.length;var args;if(length>3){args=new Array(length-3);for(var i=3;i<length;i++){args[i-3]=arguments[i]}}else{args=undefined}if(!this.currentInstance){createAutorun(this)}return this.currentInstance.schedule(queueName,target,method,args,false,stack)},deferOnce:function(queueName,target,method){if(!method){method=target;target=null}if(isString(method)){method=target[method]}var stack=this.DEBUG?new Error:undefined;var length=arguments.length;var args;if(length>3){args=new Array(length-3);for(var i=3;i<length;i++){args[i-3]=arguments[i]}}else{args=undefined}if(!this.currentInstance){createAutorun(this)}return this.currentInstance.schedule(queueName,target,method,args,true,stack)},setTimeout:function(){var l=arguments.length;var args=new Array(l);for(var x=0;x<l;x++){args[x]=arguments[x]}var length=args.length,method,wait,target,methodOrTarget,methodOrWait,methodOrArgs;if(length===0){return}else if(length===1){method=args.shift();wait=0}else if(length===2){methodOrTarget=args[0];methodOrWait=args[1];if(isFunction(methodOrWait)||isFunction(methodOrTarget[methodOrWait])){target=args.shift();method=args.shift();wait=0}else if(isCoercableNumber(methodOrWait)){method=args.shift();wait=args.shift()}else{method=args.shift();wait=0}}else{var last=args[args.length-1];if(isCoercableNumber(last)){wait=args.pop()}else{wait=0}methodOrTarget=args[0];methodOrArgs=args[1];if(isFunction(methodOrArgs)||isString(methodOrArgs)&&methodOrTarget!==null&&methodOrArgs in methodOrTarget){target=args.shift();method=args.shift()}else{method=args.shift()}}var executeAt=now()+parseInt(wait,10);if(isString(method)){method=target[method]}var onError=getOnError(this.options);function fn(){if(onError){try{method.apply(target,args)}catch(e){onError(e)}}else{method.apply(target,args)}}var i=searchTimer(executeAt,this._timers);this._timers.splice(i,0,executeAt,fn);updateLaterTimer(this,executeAt,wait);return fn},throttle:function(target,method){var backburner=this;var args=arguments;var immediate=pop.call(args);var wait,throttler,index,timer;if(isNumber(immediate)||isString(immediate)){wait=immediate;immediate=true}else{wait=pop.call(args)}wait=parseInt(wait,10);index=findThrottler(target,method,this._throttlers);if(index>-1){return this._throttlers[index]}timer=global.setTimeout(function(){if(!immediate){backburner.run.apply(backburner,args)}var index=findThrottler(target,method,backburner._throttlers);if(index>-1){backburner._throttlers.splice(index,1)}},wait);if(immediate){this.run.apply(this,args)}throttler=[target,method,timer];this._throttlers.push(throttler);return throttler},debounce:function(target,method){var backburner=this;var args=arguments;var immediate=pop.call(args);var wait,index,debouncee,timer;if(isNumber(immediate)||isString(immediate)){wait=immediate;immediate=false}else{wait=pop.call(args)}wait=parseInt(wait,10);index=findDebouncee(target,method,this._debouncees);if(index>-1){debouncee=this._debouncees[index];this._debouncees.splice(index,1);clearTimeout(debouncee[2])}timer=global.setTimeout(function(){if(!immediate){backburner.run.apply(backburner,args)}var index=findDebouncee(target,method,backburner._debouncees);if(index>-1){backburner._debouncees.splice(index,1)}},wait);if(immediate&&index===-1){backburner.run.apply(backburner,args)}debouncee=[target,method,timer];backburner._debouncees.push(debouncee);return debouncee},cancelTimers:function(){var clearItems=function(item){clearTimeout(item[2])};each(this._throttlers,clearItems);this._throttlers=[];each(this._debouncees,clearItems);this._debouncees=[];if(this._laterTimer){clearTimeout(this._laterTimer);this._laterTimer=null}this._timers=[];if(this._autorun){clearTimeout(this._autorun);this._autorun=null}},hasTimers:function(){return!!this._timers.length||!!this._debouncees.length||!!this._throttlers.length||this._autorun},cancel:function(timer){var timerType=typeof timer;if(timer&&timerType==="object"&&timer.queue&&timer.method){return timer.queue.cancel(timer)}else if(timerType==="function"){for(var i=0,l=this._timers.length;i<l;i+=2){if(this._timers[i+1]===timer){this._timers.splice(i,2);if(i===0){if(this._laterTimer){clearTimeout(this._laterTimer);this._laterTimer=null}if(this._timers.length>0){updateLaterTimer(this,this._timers[0],this._timers[0]-now())}}return true}}}else if(Object.prototype.toString.call(timer)==="[object Array]"){return this._cancelItem(findThrottler,this._throttlers,timer)||this._cancelItem(findDebouncee,this._debouncees,timer)}else{return}},_cancelItem:function(findMethod,array,timer){var item,index;if(timer.length<3){return false}index=findMethod(timer[0],timer[1],array);if(index>-1){item=array[index];if(item[2]===timer[2]){array.splice(index,1);clearTimeout(timer[2]);return true}}return false}};Backburner.prototype.schedule=Backburner.prototype.defer;Backburner.prototype.scheduleOnce=Backburner.prototype.deferOnce;Backburner.prototype.later=Backburner.prototype.setTimeout;if(needsIETryCatchFix){var originalRun=Backburner.prototype.run;Backburner.prototype.run=wrapInTryCatch(originalRun);var originalEnd=Backburner.prototype.end;Backburner.prototype.end=wrapInTryCatch(originalEnd)}function getOnError(options){return options.onError||options.onErrorTarget&&options.onErrorTarget[options.onErrorMethod]}function createAutorun(backburner){backburner.begin();backburner._autorun=global.setTimeout(function(){backburner._autorun=null;backburner.end()})}function updateLaterTimer(backburner,executeAt,wait){var n=now();if(!backburner._laterTimer||executeAt<backburner._laterTimerExpiresAt||backburner._laterTimerExpiresAt<n){if(backburner._laterTimer){clearTimeout(backburner._laterTimer);if(backburner._laterTimerExpiresAt<n){wait=Math.max(0,executeAt-n)}}backburner._laterTimer=global.setTimeout(function(){backburner._laterTimer=null;backburner._laterTimerExpiresAt=null;executeTimers(backburner)},wait);backburner._laterTimerExpiresAt=n+wait}}function executeTimers(backburner){var n=now();var fns,i,l;backburner.run(function(){i=searchTimer(n,backburner._timers);fns=backburner._timers.splice(0,i);for(i=1,l=fns.length;i<l;i+=2){backburner.schedule(backburner.options.defaultQueue,null,fns[i])}});if(backburner._timers.length){updateLaterTimer(backburner,backburner._timers[0],backburner._timers[0]-n)}}function findDebouncee(target,method,debouncees){return findItem(target,method,debouncees)}function findThrottler(target,method,throttlers){return findItem(target,method,throttlers)}function findItem(target,method,collection){var item;var index=-1;for(var i=0,l=collection.length;i<l;i++){item=collection[i];if(item[0]===target&&item[1]===method){index=i;break}}return index}__exports__["default"]=Backburner});enifed("backburner.umd",["./backburner"],function(__dependency1__){"use strict";var Backburner=__dependency1__["default"];if(typeof enifed==="function"&&enifed.amd){enifed(function(){return Backburner})}else if(typeof module!=="undefined"&&module.exports){module.exports=Backburner}else if(typeof this!=="undefined"){this["Backburner"]=Backburner}});enifed("backburner/binary-search",["exports"],function(__exports__){"use strict";__exports__["default"]=function binarySearch(time,timers){var start=0;var end=timers.length-2;var middle,l;while(start<end){l=(end-start)/2;middle=start+l-l%2;if(time>=timers[middle]){start=middle+2}else{end=middle}}return time>=timers[start]?start+2:start}});enifed("backburner/deferred-action-queues",["./utils","./queue","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var each=__dependency1__.each;var isString=__dependency1__.isString;var Queue=__dependency2__["default"];function DeferredActionQueues(queueNames,options){var queues=this.queues={};this.queueNames=queueNames=queueNames||[];this.options=options;each(queueNames,function(queueName){queues[queueName]=new Queue(queueName,options[queueName],options)})}function noSuchQueue(name){throw new Error("You attempted to schedule an action in a queue ("+name+") that doesn't exist")}DeferredActionQueues.prototype={schedule:function(name,target,method,args,onceFlag,stack){var queues=this.queues;var queue=queues[name];if(!queue){noSuchQueue(name)}if(onceFlag){return queue.pushUnique(target,method,args,stack)}else{return queue.push(target,method,args,stack)}},invoke:function(target,method,args,_,_errorRecordedForStack){if(args&&args.length>0){method.apply(target,args)}else{method.call(target)}},invokeWithOnError:function(target,method,args,onError,errorRecordedForStack){try{if(args&&args.length>0){method.apply(target,args)}else{method.call(target)}}catch(error){onError(error,errorRecordedForStack)}},flush:function(){var queues=this.queues;var queueNames=this.queueNames;var queueName,queue,queueItems,priorQueueNameIndex;var queueNameIndex=0;var numberOfQueues=queueNames.length;var options=this.options;var onError=options.onError||options.onErrorTarget&&options.onErrorTarget[options.onErrorMethod];var invoke=onError?this.invokeWithOnError:this.invoke;while(queueNameIndex<numberOfQueues){queueName=queueNames[queueNameIndex];queue=queues[queueName];queueItems=queue._queueBeingFlushed=queue._queue.slice();queue._queue=[];queue.targetQueues=Object.create(null);var queueOptions=queue.options;var before=queueOptions&&queueOptions.before;var after=queueOptions&&queueOptions.after;var target,method,args,errorRecordedForStack;var queueIndex=0;var numberOfQueueItems=queueItems.length;if(numberOfQueueItems&&before){before()}while(queueIndex<numberOfQueueItems){target=queueItems[queueIndex];method=queueItems[queueIndex+1];args=queueItems[queueIndex+2];errorRecordedForStack=queueItems[queueIndex+3];if(isString(method)){method=target[method]}if(method){invoke(target,method,args,onError,errorRecordedForStack)}queueIndex+=4}queue._queueBeingFlushed=null;if(numberOfQueueItems&&after){after()}if((priorQueueNameIndex=indexOfPriorQueueWithActions(this,queueNameIndex))!==-1){queueNameIndex=priorQueueNameIndex}else{queueNameIndex++}}}};function indexOfPriorQueueWithActions(daq,currentQueueIndex){var queueName,queue;for(var i=0,l=currentQueueIndex;i<=l;i++){queueName=daq.queueNames[i];queue=daq.queues[queueName];if(queue._queue.length){return i}}return-1}__exports__["default"]=DeferredActionQueues});enifed("backburner/platform",["exports"],function(__exports__){"use strict";var needsIETryCatchFix=function(e,x){try{x()}catch(e){}return!!e}();__exports__.needsIETryCatchFix=needsIETryCatchFix});enifed("backburner/queue",["exports"],function(__exports__){"use strict";function Queue(name,options,globalOptions){this.name=name;this.globalOptions=globalOptions||{};this.options=options;this._queue=[];this.targetQueues=Object.create(null);this._queueBeingFlushed=undefined}Queue.prototype={push:function(target,method,args,stack){var queue=this._queue;queue.push(target,method,args,stack);return{queue:this,target:target,method:method}},pushUniqueWithoutGuid:function(target,method,args,stack){var queue=this._queue;for(var i=0,l=queue.length;i<l;i+=4){var currentTarget=queue[i];var currentMethod=queue[i+1];if(currentTarget===target&&currentMethod===method){queue[i+2]=args;queue[i+3]=stack;return}}queue.push(target,method,args,stack)},targetQueue:function(targetQueue,target,method,args,stack){var queue=this._queue;for(var i=0,l=targetQueue.length;i<l;i+=4){var currentMethod=targetQueue[i];var currentIndex=targetQueue[i+1];if(currentMethod===method){queue[currentIndex+2]=args;queue[currentIndex+3]=stack;return}}targetQueue.push(method,queue.push(target,method,args,stack)-4)},pushUniqueWithGuid:function(guid,target,method,args,stack){var hasLocalQueue=this.targetQueues[guid];if(hasLocalQueue){this.targetQueue(hasLocalQueue,target,method,args,stack)}else{this.targetQueues[guid]=[method,this._queue.push(target,method,args,stack)-4]}return{queue:this,target:target,method:method}},pushUnique:function(target,method,args,stack){var queue=this._queue,currentTarget,currentMethod,i,l;var KEY=this.globalOptions.GUID_KEY;if(target&&KEY){var guid=target[KEY];if(guid){return this.pushUniqueWithGuid(guid,target,method,args,stack)}}this.pushUniqueWithoutGuid(target,method,args,stack);return{queue:this,target:target,method:method}},flush:function(){var queue=this._queue;var globalOptions=this.globalOptions;var options=this.options;var before=options&&options.before;var after=options&&options.after;var onError=globalOptions.onError||globalOptions.onErrorTarget&&globalOptions.onErrorTarget[globalOptions.onErrorMethod];var target,method,args,stack,i,l=queue.length;this.targetQueues=Object.create(null);if(l&&before){before()}for(i=0;i<l;i+=4){target=queue[i];method=queue[i+1];args=queue[i+2];stack=queue[i+3];if(args&&args.length>0){if(onError){try{method.apply(target,args)}catch(e){onError(e)}}else{method.apply(target,args)}}else{if(onError){try{method.call(target)}catch(e){onError(e)}}else{method.call(target)}}}if(l&&after){after()}if(queue.length>l){this._queue=queue.slice(l);this.flush()}else{this._queue.length=0}},cancel:function(actionToCancel){var queue=this._queue,currentTarget,currentMethod,i,l;var target=actionToCancel.target;var method=actionToCancel.method;var GUID_KEY=this.globalOptions.GUID_KEY;if(GUID_KEY&&this.targetQueues&&target){var targetQueue=this.targetQueues[target[GUID_KEY]];if(targetQueue){for(i=0,l=targetQueue.length;i<l;i++){if(targetQueue[i]===method){targetQueue.splice(i,1)}}}}for(i=0,l=queue.length;i<l;i+=4){currentTarget=queue[i];currentMethod=queue[i+1];if(currentTarget===target&&currentMethod===method){queue.splice(i,4);return true}}queue=this._queueBeingFlushed;if(!queue){return}for(i=0,l=queue.length;i<l;i+=4){currentTarget=queue[i];currentMethod=queue[i+1];if(currentTarget===target&&currentMethod===method){queue[i+1]=null;return true}}}};__exports__["default"]=Queue});enifed("backburner/utils",["exports"],function(__exports__){"use strict";var NUMBER=/\d+/;function each(collection,callback){for(var i=0;i<collection.length;i++){callback(collection[i])}}__exports__.each=each;var now=Date.now||function(){return(new Date).getTime()};__exports__.now=now;function isString(suspect){return typeof suspect==="string"}__exports__.isString=isString;function isFunction(suspect){return typeof suspect==="function"}__exports__.isFunction=isFunction;function isNumber(suspect){return typeof suspect==="number"}__exports__.isNumber=isNumber;function isCoercableNumber(number){return isNumber(number)||NUMBER.test(number)}__exports__.isCoercableNumber=isCoercableNumber;function wrapInTryCatch(func){return function(){try{return func.apply(this,arguments)}catch(e){throw e}}}__exports__.wrapInTryCatch=wrapInTryCatch});enifed("calculateVersion",[],function(){"use strict";"use strict";var fs=eriuqer("fs");var path=eriuqer("path");module.exports=function(){var packageVersion=eriuqer("../package.json").version;var output=[packageVersion];var gitPath=path.join(__dirname,"..",".git");var headFilePath=path.join(gitPath,"HEAD");if(packageVersion.indexOf("+")>-1){try{if(fs.existsSync(headFilePath)){var headFile=fs.readFileSync(headFilePath,{encoding:"utf8"});var branchName=headFile.split("/").slice(-1)[0].trim();var refPath=headFile.split(" ")[1];var branchSHA;if(refPath){var branchPath=path.join(gitPath,refPath.trim());branchSHA=fs.readFileSync(branchPath)}else{branchSHA=branchName}output.push(branchSHA.slice(0,10))}}catch(err){console.error(err.stack)}return output.join(".")}else{return packageVersion}}});enifed("container",["container/container","exports"],function(__dependency1__,__exports__){"use strict";Ember.MODEL_FACTORY_INJECTIONS=false;if(Ember.ENV&&typeof Ember.ENV.MODEL_FACTORY_INJECTIONS!=="undefined"){Ember.MODEL_FACTORY_INJECTIONS=!!Ember.ENV.MODEL_FACTORY_INJECTIONS}var Container=__dependency1__["default"];__exports__["default"]=Container});enifed("container/container",["ember-metal/core","ember-metal/keys","ember-metal/dictionary","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var emberKeys=__dependency2__["default"];var dictionary=__dependency3__["default"];function Container(parent){this.parent=parent;this.children=[];this.resolver=parent&&parent.resolver||function(){};this.registry=dictionary(parent?parent.registry:null);this.cache=dictionary(parent?parent.cache:null);this.factoryCache=dictionary(parent?parent.factoryCache:null);this.resolveCache=dictionary(parent?parent.resolveCache:null);this.typeInjections=dictionary(parent?parent.typeInjections:null);this.injections=dictionary(null);this.normalizeCache=dictionary(null);this.factoryTypeInjections=dictionary(parent?parent.factoryTypeInjections:null);this.factoryInjections=dictionary(null);this._options=dictionary(parent?parent._options:null);this._typeOptions=dictionary(parent?parent._typeOptions:null)}Container.prototype={parent:null,children:null,resolver:null,registry:null,cache:null,typeInjections:null,injections:null,_options:null,_typeOptions:null,child:function(){var container=new Container(this);this.children.push(container);return container},set:function(object,key,value){object[key]=value},register:function(fullName,factory,options){if(factory===undefined){throw new TypeError("Attempting to register an unknown factory: `"+fullName+"`")}var normalizedName=this.normalize(fullName);if(normalizedName in this.cache){throw new Error("Cannot re-register: `"+fullName+"`, as it has already been looked up.")}this.registry[normalizedName]=factory;this._options[normalizedName]=options||{}},unregister:function(fullName){var normalizedName=this.normalize(fullName);delete this.registry[normalizedName];delete this.cache[normalizedName];delete this.factoryCache[normalizedName];delete this.resolveCache[normalizedName];delete this._options[normalizedName]},resolve:function(fullName){return resolve(this,this.normalize(fullName))},describe:function(fullName){return fullName},normalizeFullName:function(fullName){return fullName},normalize:function(fullName){return this.normalizeCache[fullName]||(this.normalizeCache[fullName]=this.normalizeFullName(fullName))},makeToString:function(factory,fullName){return factory.toString()},lookup:function(fullName,options){return lookup(this,this.normalize(fullName),options)},lookupFactory:function(fullName){return factoryFor(this,this.normalize(fullName))},has:function(fullName){return has(this,this.normalize(fullName))},optionsForType:function(type,options){if(this.parent){illegalChildOperation("optionsForType")}this._typeOptions[type]=options},options:function(type,options){this.optionsForType(type,options)},typeInjection:function(type,property,fullName){if(this.parent){illegalChildOperation("typeInjection")}var fullNameType=fullName.split(":")[0];if(fullNameType===type){throw new Error("Cannot inject a `"+fullName+"` on other "+type+"(s). Register the `"+fullName+"` as a different type and perform the typeInjection.")}addTypeInjection(this.typeInjections,type,property,fullName)},injection:function(fullName,property,injectionName){if(this.parent){illegalChildOperation("injection")}validateFullName(injectionName);var normalizedInjectionName=this.normalize(injectionName);if(fullName.indexOf(":")===-1){return this.typeInjection(fullName,property,normalizedInjectionName)}var normalizedName=this.normalize(fullName);if(this.cache[normalizedName]){throw new Error("Attempted to register an injection for a type that has already been looked up. ('"+normalizedName+"', '"+property+"', '"+injectionName+"')")}addInjection(this.injections,normalizedName,property,normalizedInjectionName)},factoryTypeInjection:function(type,property,fullName){if(this.parent){illegalChildOperation("factoryTypeInjection")}addTypeInjection(this.factoryTypeInjections,type,property,this.normalize(fullName))},factoryInjection:function(fullName,property,injectionName){if(this.parent){illegalChildOperation("injection")}var normalizedName=this.normalize(fullName);var normalizedInjectionName=this.normalize(injectionName);validateFullName(injectionName);if(fullName.indexOf(":")===-1){return this.factoryTypeInjection(normalizedName,property,normalizedInjectionName)}if(this.factoryCache[normalizedName]){throw new Error("Attempted to register a factoryInjection for a type that has already "+"been looked up. ('"+normalizedName+"', '"+property+"', '"+injectionName+"')")}addInjection(this.factoryInjections,normalizedName,property,normalizedInjectionName)},destroy:function(){for(var i=0,length=this.children.length;i<length;i++){this.children[i].destroy()}this.children=[];eachDestroyable(this,function(item){item.destroy()});this.parent=undefined;this.isDestroyed=true},reset:function(){for(var i=0,length=this.children.length;i<length;i++){resetCache(this.children[i])}resetCache(this)}};function resolve(container,normalizedName){var cached=container.resolveCache[normalizedName];if(cached){return cached}var resolved=container.resolver(normalizedName)||container.registry[normalizedName];container.resolveCache[normalizedName]=resolved;return resolved}function has(container,fullName){if(container.cache[fullName]){return true}return!!container.resolve(fullName)}function lookup(container,fullName,options){options=options||{};if(container.cache[fullName]&&options.singleton!==false){return container.cache[fullName]}var value=instantiate(container,fullName);if(value===undefined){return}if(isSingleton(container,fullName)&&options.singleton!==false){container.cache[fullName]=value}return value}function illegalChildOperation(operation){throw new Error(operation+" is not currently supported on child containers")}function isSingleton(container,fullName){var singleton=option(container,fullName,"singleton");return singleton!==false}function buildInjections(container,injections){var hash={};if(!injections){return hash}var injection,injectable;for(var i=0,length=injections.length;i<length;i++){injection=injections[i];injectable=lookup(container,injection.fullName);if(injectable!==undefined){hash[injection.property]=injectable}else{throw new Error("Attempting to inject an unknown injection: `"+injection.fullName+"`")}}return hash}function option(container,fullName,optionName){var options=container._options[fullName];if(options&&options[optionName]!==undefined){return options[optionName]}var type=fullName.split(":")[0];options=container._typeOptions[type];if(options){return options[optionName]}}function factoryFor(container,fullName){var cache=container.factoryCache;if(cache[fullName]){return cache[fullName]}var factory=container.resolve(fullName);if(factory===undefined){return}var type=fullName.split(":")[0];if(!factory||typeof factory.extend!=="function"||!Ember.MODEL_FACTORY_INJECTIONS&&type==="model"){cache[fullName]=factory;return factory}else{var injections=injectionsFor(container,fullName);var factoryInjections=factoryInjectionsFor(container,fullName);factoryInjections._toString=container.makeToString(factory,fullName);var injectedFactory=factory.extend(injections);injectedFactory.reopenClass(factoryInjections);cache[fullName]=injectedFactory;return injectedFactory}}function injectionsFor(container,fullName){var splitName=fullName.split(":");var type=splitName[0];var injections=[];injections=injections.concat(container.typeInjections[type]||[]);injections=injections.concat(container.injections[fullName]||[]);injections=buildInjections(container,injections);injections._debugContainerKey=fullName;injections.container=container;return injections}function factoryInjectionsFor(container,fullName){var splitName=fullName.split(":");var type=splitName[0];var factoryInjections=[];factoryInjections=factoryInjections.concat(container.factoryTypeInjections[type]||[]);factoryInjections=factoryInjections.concat(container.factoryInjections[fullName]||[]);factoryInjections=buildInjections(container,factoryInjections);factoryInjections._debugContainerKey=fullName;return factoryInjections}function instantiate(container,fullName){var factory=factoryFor(container,fullName);if(option(container,fullName,"instantiate")===false){return factory}if(factory){if(typeof factory.create!=="function"){throw new Error("Failed to create an instance of '"+fullName+"'. "+"Most likely an improperly defined class or an invalid module export.")}if(typeof factory.extend==="function"){return factory.create()}else{return factory.create(injectionsFor(container,fullName))}}}function eachDestroyable(container,callback){var cache=container.cache;var keys=emberKeys(cache);var key,value;for(var i=0,l=keys.length;i<l;i++){key=keys[i];value=cache[key];if(option(container,key,"instantiate")!==false){callback(value)}}}function resetCache(container){eachDestroyable(container,function(value){value.destroy()});container.cache.dict=dictionary(null)}function addTypeInjection(rules,type,property,fullName){var injections=rules[type];if(!injections){injections=[];rules[type]=injections}injections.push({property:property,fullName:fullName})}var VALID_FULL_NAME_REGEXP=/^[^:]+.+:[^:]+$/;function validateFullName(fullName){if(!VALID_FULL_NAME_REGEXP.test(fullName)){throw new TypeError("Invalid Fullname, expected: `type:name` got: "+fullName)}return true}function addInjection(rules,factoryName,property,injectionName){var injections=rules[factoryName]=rules[factoryName]||[];injections.push({property:property,fullName:injectionName})}__exports__["default"]=Container});enifed("ember-application",["ember-metal/core","ember-runtime/system/lazy_load","ember-application/system/dag","ember-application/system/resolver","ember-application/system/application","ember-application/ext/controller"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__){"use strict";var Ember=__dependency1__["default"];var runLoadHooks=__dependency2__.runLoadHooks;var DAG=__dependency3__["default"];var Resolver=__dependency4__.Resolver;var DefaultResolver=__dependency4__["default"];var Application=__dependency5__["default"];Ember.Application=Application;Ember.DAG=DAG;Ember.Resolver=Resolver;Ember.DefaultResolver=DefaultResolver;runLoadHooks("Ember.Application",Application)});enifed("ember-application/ext/controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/error","ember-metal/utils","ember-metal/computed","ember-runtime/mixins/controller","ember-routing/system/controller_for","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var EmberError=__dependency4__["default"];var inspect=__dependency5__.inspect;var computed=__dependency6__.computed;var ControllerMixin=__dependency7__["default"];var meta=__dependency5__.meta;var controllerFor=__dependency8__["default"];function verifyNeedsDependencies(controller,container,needs){var dependency,i,l;var missing=[];for(i=0,l=needs.length;i<l;i++){dependency=needs[i];if(dependency.indexOf(":")===-1){dependency="controller:"+dependency}if(!container.has(dependency)){missing.push(dependency)}}if(missing.length){throw new EmberError(inspect(controller)+" needs [ "+missing.join(", ")+" ] but "+(missing.length>1?"they":"it")+" could not be found")}}var defaultControllersComputedProperty=computed(function(){var controller=this;return{needs:get(controller,"needs"),container:get(controller,"container"),unknownProperty:function(controllerName){var needs=this.needs;var dependency,i,l;for(i=0,l=needs.length;i<l;i++){dependency=needs[i];if(dependency===controllerName){return this.container.lookup("controller:"+controllerName)}}var errorMessage=inspect(controller)+"#needs does not include `"+controllerName+"`. To access the "+controllerName+" controller from "+inspect(controller)+", "+inspect(controller)+" should have a `needs` property that is an array of the controllers it has access to.";throw new ReferenceError(errorMessage)},setUnknownProperty:function(key,value){throw new Error("You cannot overwrite the value of `controllers."+key+"` of "+inspect(controller))}}});ControllerMixin.reopen({concatenatedProperties:["needs"],needs:[],init:function(){var needs=get(this,"needs");var length=get(needs,"length");if(length>0){if(this.container){verifyNeedsDependencies(this,this.container,needs)}get(this,"controllers")}this._super.apply(this,arguments)},controllerFor:function(controllerName){return controllerFor(get(this,"container"),controllerName)},controllers:defaultControllersComputedProperty});__exports__["default"]=ControllerMixin});enifed("ember-application/system/application",["ember-metal","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/lazy_load","ember-application/system/dag","ember-runtime/system/namespace","ember-runtime/mixins/deferred","ember-application/system/resolver","ember-metal/platform","ember-metal/run_loop","ember-metal/utils","container/container","ember-runtime/controllers/controller","ember-metal/enumerable_utils","ember-runtime/controllers/object_controller","ember-runtime/controllers/array_controller","ember-handlebars/controls/select","ember-views/system/event_dispatcher","ember-views/system/jquery","ember-routing/system/route","ember-routing/system/router","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/location/none_location","ember-routing/system/cache","ember-metal/core","ember-handlebars-compiler","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__dependency18__,__dependency19__,__dependency20__,__dependency21__,__dependency22__,__dependency23__,__dependency24__,__dependency25__,__dependency26__,__dependency27__,__dependency28__,__exports__){"use strict";
var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var runLoadHooks=__dependency4__.runLoadHooks;var DAG=__dependency5__["default"];var Namespace=__dependency6__["default"];var DeferredMixin=__dependency7__["default"];var DefaultResolver=__dependency8__["default"];var create=__dependency9__.create;var run=__dependency10__["default"];var canInvoke=__dependency11__.canInvoke;var Container=__dependency12__["default"];var Controller=__dependency13__["default"];var EnumerableUtils=__dependency14__["default"];var ObjectController=__dependency15__["default"];var ArrayController=__dependency16__["default"];var SelectView=__dependency17__["default"];var EventDispatcher=__dependency18__["default"];var jQuery=__dependency19__["default"];var Route=__dependency20__["default"];var Router=__dependency21__["default"];var HashLocation=__dependency22__["default"];var HistoryLocation=__dependency23__["default"];var AutoLocation=__dependency24__["default"];var NoneLocation=__dependency25__["default"];var BucketCache=__dependency26__["default"];var K=__dependency27__.K;var EmberHandlebars=__dependency28__["default"];var ContainerDebugAdapter;function props(obj){var properties=[];for(var key in obj){properties.push(key)}return properties}var Application=Namespace.extend(DeferredMixin,{_suppressDeferredDeprecation:true,rootElement:"body",eventDispatcher:null,customEvents:null,_readinessDeferrals:1,init:function(){if(!this.$){this.$=jQuery}this.__container__=this.buildContainer();this.Router=this.defaultRouter();this._super();this.scheduleInitialize();Ember.libraries.registerCoreLibrary("Handlebars"+(EmberHandlebars.compile?"":"-runtime"),EmberHandlebars.VERSION);Ember.libraries.registerCoreLibrary("jQuery",jQuery().jquery);if(Ember.LOG_VERSION){Ember.LOG_VERSION=false;var nameLengths=EnumerableUtils.map(Ember.libraries,function(item){return get(item,"name.length")});var maxNameLength=Math.max.apply(this,nameLengths);Ember.libraries.each(function(name,version){var spaces=new Array(maxNameLength-name.length+1).join(" ")})}},buildContainer:function(){var container=this.__container__=Application.buildContainer(this);return container},defaultRouter:function(){if(this.Router===false){return}var container=this.__container__;if(this.Router){container.unregister("router:main");container.register("router:main",this.Router)}return container.lookupFactory("router:main")},scheduleInitialize:function(){var self=this;if(!this.$||this.$.isReady){run.schedule("actions",self,"_initialize")}else{this.$().ready(function runInitialize(){run(self,"_initialize")})}},deferReadiness:function(){this._readinessDeferrals++},advanceReadiness:function(){this._readinessDeferrals--;if(this._readinessDeferrals===0){run.once(this,this.didBecomeReady)}},register:function(){var container=this.__container__;container.register.apply(container,arguments)},inject:function(){var container=this.__container__;container.injection.apply(container,arguments)},initialize:function(){},_initialize:function(){if(this.isDestroyed){return}if(this.Router){var container=this.__container__;container.unregister("router:main");container.register("router:main",this.Router)}this.runInitializers();runLoadHooks("application",this);this.advanceReadiness();return this},reset:function(){this._readinessDeferrals=1;function handleReset(){var router=this.__container__.lookup("router:main");router.reset();run(this.__container__,"destroy");this.buildContainer();run.schedule("actions",this,function(){this._initialize()})}run.join(this,handleReset)},runInitializers:function(){var initializersByName=get(this.constructor,"initializers");var initializers=props(initializersByName);var container=this.__container__;var graph=new DAG;var namespace=this;var name,initializer;for(var i=0;i<initializers.length;i++){initializer=initializersByName[initializers[i]];graph.addEdges(initializer.name,initializer.initialize,initializer.before,initializer.after)}graph.topsort(function(vertex){var initializer=vertex.value;initializer(container,namespace)})},didBecomeReady:function(){this.setupEventDispatcher();this.ready();this.startRouting();if(!Ember.testing){Ember.Namespace.processAll();Ember.BOOTED=true}this.resolve(this)},setupEventDispatcher:function(){var customEvents=get(this,"customEvents");var rootElement=get(this,"rootElement");var dispatcher=this.__container__.lookup("event_dispatcher:main");set(this,"eventDispatcher",dispatcher);dispatcher.setup(customEvents,rootElement)},startRouting:function(){var router=this.__container__.lookup("router:main");if(!router){return}router.startRouting()},handleURL:function(url){var router=this.__container__.lookup("router:main");router.handleURL(url)},ready:K,resolver:null,Resolver:null,willDestroy:function(){Ember.BOOTED=false;this.__container__.lookup("router:main").reset();this.__container__.destroy()},initializer:function(options){this.constructor.initializer(options)},then:function(){this._super.apply(this,arguments)}});Application.reopenClass({initializers:create(null),initializer:function(initializer){if(this.superclass.initializers!==undefined&&this.superclass.initializers===this.initializers){this.reopenClass({initializers:create(this.initializers)})}this.initializers[initializer.name]=initializer},buildContainer:function(namespace){var container=new Container;container.set=set;container.resolver=resolverFor(namespace);container.normalizeFullName=container.resolver.normalize;container.describe=container.resolver.describe;container.makeToString=container.resolver.makeToString;container.optionsForType("component",{singleton:false});container.optionsForType("view",{singleton:false});container.optionsForType("template",{instantiate:false});container.optionsForType("helper",{instantiate:false});container.register("application:main",namespace,{instantiate:false});container.register("controller:basic",Controller,{instantiate:false});container.register("controller:object",ObjectController,{instantiate:false});container.register("controller:array",ArrayController,{instantiate:false});container.register("view:select",SelectView);container.register("route:basic",Route,{instantiate:false});container.register("event_dispatcher:main",EventDispatcher);container.register("router:main",Router);container.injection("router:main","namespace","application:main");container.register("location:auto",AutoLocation);container.register("location:hash",HashLocation);container.register("location:history",HistoryLocation);container.register("location:none",NoneLocation);container.injection("controller","target","router:main");container.injection("controller","namespace","application:main");container.register("-bucket-cache:main",BucketCache);container.injection("router","_bucketCache","-bucket-cache:main");container.injection("route","_bucketCache","-bucket-cache:main");container.injection("controller","_bucketCache","-bucket-cache:main");container.injection("route","router","router:main");container.injection("location","rootURL","-location-setting:root-url");container.register("resolver-for-debugging:main",container.resolver.__resolver__,{instantiate:false});container.injection("container-debug-adapter:main","resolver","resolver-for-debugging:main");container.injection("data-adapter:main","containerDebugAdapter","container-debug-adapter:main");if(!ContainerDebugAdapter){ContainerDebugAdapter=requireModule("ember-extension-support/container_debug_adapter")["default"]}container.register("container-debug-adapter:main",ContainerDebugAdapter);return container}});function resolverFor(namespace){if(namespace.get("resolver")){}var ResolverClass=namespace.get("resolver")||namespace.get("Resolver")||DefaultResolver;var resolver=ResolverClass.create({namespace:namespace});function resolve(fullName){return resolver.resolve(fullName)}resolve.describe=function(fullName){return resolver.lookupDescription(fullName)};resolve.makeToString=function(factory,fullName){return resolver.makeToString(factory,fullName)};resolve.normalize=function(fullName){if(resolver.normalize){return resolver.normalize(fullName)}else{return fullName}};resolve.__resolver__=resolver;return resolve}__exports__["default"]=Application});enifed("ember-application/system/dag",["ember-metal/error","exports"],function(__dependency1__,__exports__){"use strict";var EmberError=__dependency1__["default"];function visit(vertex,fn,visited,path){var name=vertex.name;var vertices=vertex.incoming;var names=vertex.incomingNames;var len=names.length;var i;if(!visited){visited={}}if(!path){path=[]}if(visited.hasOwnProperty(name)){return}path.push(name);visited[name]=true;for(i=0;i<len;i++){visit(vertices[names[i]],fn,visited,path)}fn(vertex,path);path.pop()}function DAG(){this.names=[];this.vertices=Object.create(null)}function Vertex(name){this.name=name;this.incoming={};this.incomingNames=[];this.hasOutgoing=false;this.value=null}DAG.prototype.add=function(name){if(!name){throw new Error("Can't add Vertex without name")}if(this.vertices[name]!==undefined){return this.vertices[name]}var vertex=new Vertex(name);this.vertices[name]=vertex;this.names.push(name);return vertex};DAG.prototype.map=function(name,value){this.add(name).value=value};DAG.prototype.addEdge=function(fromName,toName){if(!fromName||!toName||fromName===toName){return}var from=this.add(fromName);var to=this.add(toName);if(to.incoming.hasOwnProperty(fromName)){return}function checkCycle(vertex,path){if(vertex.name===toName){throw new EmberError("cycle detected: "+toName+" <- "+path.join(" <- "))}}visit(from,checkCycle);from.hasOutgoing=true;to.incoming[fromName]=from;to.incomingNames.push(fromName)};DAG.prototype.topsort=function(fn){var visited={};var vertices=this.vertices;var names=this.names;var len=names.length;var i,vertex;for(i=0;i<len;i++){vertex=vertices[names[i]];if(!vertex.hasOutgoing){visit(vertex,fn,visited)}}};DAG.prototype.addEdges=function(name,value,before,after){var i;this.map(name,value);if(before){if(typeof before==="string"){this.addEdge(name,before)}else{for(i=0;i<before.length;i++){this.addEdge(name,before[i])}}}if(after){if(typeof after==="string"){this.addEdge(after,name)}else{for(i=0;i<after.length;i++){this.addEdge(after[i],name)}}}};__exports__["default"]=DAG});enifed("ember-application/system/resolver",["ember-metal/core","ember-metal/property_get","ember-metal/logger","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/system/namespace","ember-handlebars","ember-metal/dictionary","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var Logger=__dependency3__["default"];var classify=__dependency4__.classify;var capitalize=__dependency4__.capitalize;var decamelize=__dependency4__.decamelize;var EmberObject=__dependency5__["default"];var Namespace=__dependency6__["default"];var EmberHandlebars=__dependency7__["default"];var Resolver=EmberObject.extend({namespace:null,normalize:Ember.required(Function),resolve:Ember.required(Function),parseName:Ember.required(Function),lookupDescription:Ember.required(Function),makeToString:Ember.required(Function),resolveOther:Ember.required(Function),_logLookup:Ember.required(Function)});__exports__.Resolver=Resolver;var dictionary=__dependency8__["default"];__exports__["default"]=EmberObject.extend({namespace:null,init:function(){this._parseNameCache=dictionary(null)},normalize:function(fullName){var split=fullName.split(":",2);var type=split[0];var name=split[1];if(type!=="template"){var result=name;if(result.indexOf(".")>-1){result=result.replace(/\.(.)/g,function(m){return m.charAt(1).toUpperCase()})}if(name.indexOf("_")>-1){result=result.replace(/_(.)/g,function(m){return m.charAt(1).toUpperCase()})}return type+":"+result}else{return fullName}},resolve:function(fullName){var parsedName=this.parseName(fullName);var resolveMethodName=parsedName.resolveMethodName;var resolved;if(!(parsedName.name&&parsedName.type)){throw new TypeError("Invalid fullName: `"+fullName+"`, must be of the form `type:name` ")}if(this[resolveMethodName]){resolved=this[resolveMethodName](parsedName)}if(!resolved){resolved=this.resolveOther(parsedName)}if(parsedName.root&&parsedName.root.LOG_RESOLVER){this._logLookup(resolved,parsedName)}return resolved},parseName:function(fullName){return this._parseNameCache[fullName]||(this._parseNameCache[fullName]=this._parseName(fullName))},_parseName:function(fullName){var nameParts=fullName.split(":");var type=nameParts[0],fullNameWithoutType=nameParts[1];var name=fullNameWithoutType;var namespace=get(this,"namespace");var root=namespace;if(type!=="template"&&name.indexOf("/")!==-1){var parts=name.split("/");name=parts[parts.length-1];var namespaceName=capitalize(parts.slice(0,-1).join("."));root=Namespace.byName(namespaceName)}return{fullName:fullName,type:type,fullNameWithoutType:fullNameWithoutType,name:name,root:root,resolveMethodName:"resolve"+classify(type)}},lookupDescription:function(fullName){var parsedName=this.parseName(fullName);if(parsedName.type==="template"){return"template at "+parsedName.fullNameWithoutType.replace(/\./g,"/")}var description=parsedName.root+"."+classify(parsedName.name);if(parsedName.type!=="model"){description+=classify(parsedName.type)}return description},makeToString:function(factory,fullName){return factory.toString()},useRouterNaming:function(parsedName){parsedName.name=parsedName.name.replace(/\./g,"_");if(parsedName.name==="basic"){parsedName.name=""}},resolveTemplate:function(parsedName){var templateName=parsedName.fullNameWithoutType.replace(/\./g,"/");if(Ember.TEMPLATES[templateName]){return Ember.TEMPLATES[templateName]}templateName=decamelize(templateName);if(Ember.TEMPLATES[templateName]){return Ember.TEMPLATES[templateName]}},resolveView:function(parsedName){this.useRouterNaming(parsedName);return this.resolveOther(parsedName)},resolveController:function(parsedName){this.useRouterNaming(parsedName);return this.resolveOther(parsedName)},resolveRoute:function(parsedName){this.useRouterNaming(parsedName);return this.resolveOther(parsedName)},resolveModel:function(parsedName){var className=classify(parsedName.name);var factory=get(parsedName.root,className);if(factory){return factory}},resolveHelper:function(parsedName){return this.resolveOther(parsedName)||EmberHandlebars.helpers[parsedName.fullNameWithoutType]},resolveOther:function(parsedName){var className=classify(parsedName.name)+classify(parsedName.type);var factory=get(parsedName.root,className);if(factory){return factory}},_logLookup:function(found,parsedName){var symbol,padding;if(found){symbol="[✓]"}else{symbol="[ ]"}if(parsedName.fullName.length>60){padding="."}else{padding=new Array(60-parsedName.fullName.length).join(".")}Logger.info(symbol,parsedName.fullName,padding,this.lookupDescription(parsedName.fullName))}})});enifed("ember-extension-support",["ember-metal/core","ember-extension-support/data_adapter","ember-extension-support/container_debug_adapter"],function(__dependency1__,__dependency2__,__dependency3__){"use strict";var Ember=__dependency1__["default"];var DataAdapter=__dependency2__["default"];var ContainerDebugAdapter=__dependency3__["default"];Ember.DataAdapter=DataAdapter;Ember.ContainerDebugAdapter=ContainerDebugAdapter});enifed("ember-extension-support/container_debug_adapter",["ember-metal/core","ember-runtime/system/native_array","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__exports__){"use strict";var Ember=__dependency1__["default"];var emberA=__dependency2__.A;var typeOf=__dependency3__.typeOf;var dasherize=__dependency4__.dasherize;var classify=__dependency4__.classify;var Namespace=__dependency5__["default"];var EmberObject=__dependency6__["default"];__exports__["default"]=EmberObject.extend({container:null,resolver:null,canCatalogEntriesByType:function(type){if(type==="model"||type==="template")return false;return true},catalogEntriesByType:function(type){var namespaces=emberA(Namespace.NAMESPACES),types=emberA(),self=this;var typeSuffixRegex=new RegExp(classify(type)+"$");namespaces.forEach(function(namespace){if(namespace!==Ember){for(var key in namespace){if(!namespace.hasOwnProperty(key)){continue}if(typeSuffixRegex.test(key)){var klass=namespace[key];if(typeOf(klass)==="class"){types.push(dasherize(key.replace(typeSuffixRegex,"")))}}}}});return types}})});enifed("ember-extension-support/data_adapter",["ember-metal/core","ember-metal/property_get","ember-metal/run_loop","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/native_array","ember-application/system/application","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var run=__dependency3__["default"];var dasherize=__dependency4__.dasherize;var Namespace=__dependency5__["default"];var EmberObject=__dependency6__["default"];var emberA=__dependency7__.A;var Application=__dependency8__["default"];__exports__["default"]=EmberObject.extend({init:function(){this._super();this.releaseMethods=emberA()},container:null,containerDebugAdapter:undefined,attributeLimit:3,releaseMethods:emberA(),getFilters:function(){return emberA()},watchModelTypes:function(typesAdded,typesUpdated){var modelTypes=this.getModelTypes();var self=this;var releaseMethods=emberA();var typesToSend;typesToSend=modelTypes.map(function(type){var klass=type.klass;var wrapped=self.wrapModelType(klass,type.name);releaseMethods.push(self.observeModelType(klass,typesUpdated));return wrapped});typesAdded(typesToSend);var release=function(){releaseMethods.forEach(function(fn){fn()});self.releaseMethods.removeObject(release)};this.releaseMethods.pushObject(release);return release},_nameToClass:function(type){if(typeof type==="string"){type=this.container.lookupFactory("model:"+type)}return type},watchRecords:function(type,recordsAdded,recordsUpdated,recordsRemoved){var self=this,releaseMethods=emberA(),records=this.getRecords(type),release;var recordUpdated=function(updatedRecord){recordsUpdated([updatedRecord])};var recordsToSend=records.map(function(record){releaseMethods.push(self.observeRecord(record,recordUpdated));return self.wrapRecord(record)});var contentDidChange=function(array,idx,removedCount,addedCount){for(var i=idx;i<idx+addedCount;i++){var record=array.objectAt(i);var wrapped=self.wrapRecord(record);releaseMethods.push(self.observeRecord(record,recordUpdated));recordsAdded([wrapped])}if(removedCount){recordsRemoved(idx,removedCount)}};var observer={didChange:contentDidChange,willChange:Ember.K};records.addArrayObserver(self,observer);release=function(){releaseMethods.forEach(function(fn){fn()});records.removeArrayObserver(self,observer);self.releaseMethods.removeObject(release)};recordsAdded(recordsToSend);this.releaseMethods.pushObject(release);return release},willDestroy:function(){this._super();this.releaseMethods.forEach(function(fn){fn()})},detect:function(klass){return false},columnsForType:function(type){return emberA()},observeModelType:function(type,typesUpdated){var self=this;var records=this.getRecords(type);var onChange=function(){typesUpdated([self.wrapModelType(type)])};var observer={didChange:function(){run.scheduleOnce("actions",this,onChange)},willChange:Ember.K};records.addArrayObserver(this,observer);var release=function(){records.removeArrayObserver(self,observer)};return release},wrapModelType:function(type,name){var records=this.getRecords(type);var self=this;var release,typeToSend;typeToSend={name:name||type.toString(),count:get(records,"length"),columns:this.columnsForType(type),object:type};return typeToSend},getModelTypes:function(){var self=this;var containerDebugAdapter=this.get("containerDebugAdapter");var types;if(containerDebugAdapter.canCatalogEntriesByType("model")){types=containerDebugAdapter.catalogEntriesByType("model")}else{types=this._getObjectsOnNamespaces()}types=emberA(types).map(function(name){return{klass:self._nameToClass(name),name:name}});types=emberA(types).filter(function(type){return self.detect(type.klass)});return emberA(types)},_getObjectsOnNamespaces:function(){var namespaces=emberA(Namespace.NAMESPACES);var types=emberA();var self=this;namespaces.forEach(function(namespace){for(var key in namespace){if(!namespace.hasOwnProperty(key)){continue}if(!self.detect(namespace[key])){continue}var name=dasherize(key);if(!(namespace instanceof Application)&&namespace.toString()){name=namespace+"/"+name}types.push(name)}});return types},getRecords:function(type){return emberA()},wrapRecord:function(record){var recordToSend={object:record};var columnValues={};var self=this;recordToSend.columnValues=this.getRecordColumnValues(record);recordToSend.searchKeywords=this.getRecordKeywords(record);recordToSend.filterValues=this.getRecordFilterValues(record);recordToSend.color=this.getRecordColor(record);return recordToSend},getRecordColumnValues:function(record){return{}},getRecordKeywords:function(record){return emberA()},getRecordFilterValues:function(record){return{}},getRecordColor:function(record){return null},observeRecord:function(record,recordUpdated){return function(){}}})});enifed("ember-extension-support/initializers",[],function(){"use strict"});enifed("ember-handlebars-compiler",["ember-metal/core","exports"],function(__dependency1__,__exports__){var Ember=__dependency1__["default"];if(typeof Ember.assert==="undefined"){Ember.assert=function(){}}if(typeof Ember.FEATURES==="undefined"){Ember.FEATURES={isEnabled:function(){}}}var objectCreate=Object.create||function(parent){function F(){}F.prototype=parent;return new F};var View,Component;var Handlebars=Ember.imports&&Ember.imports.Handlebars||this&&this.Handlebars;if(!Handlebars&&typeof eriuqer==="function"){Handlebars=eriuqer("handlebars")}var EmberHandlebars=Ember.Handlebars=objectCreate(Handlebars);EmberHandlebars.helper=function(name,value){if(!View){View=requireModule("ember-views/views/view")["default"]}if(!Component){Component=requireModule("ember-views/views/component")["default"]}if(View.detect(value)){EmberHandlebars.registerHelper(name,EmberHandlebars.makeViewHelper(value))}else{EmberHandlebars.registerBoundHelper.apply(null,arguments)}};EmberHandlebars.makeViewHelper=function(ViewClass){return function(options){return EmberHandlebars.helpers.view.call(this,ViewClass,options)}};EmberHandlebars.helpers=objectCreate(Handlebars.helpers);EmberHandlebars.Compiler=function(){};if(Handlebars.Compiler){EmberHandlebars.Compiler.prototype=objectCreate(Handlebars.Compiler.prototype)}EmberHandlebars.Compiler.prototype.compiler=EmberHandlebars.Compiler;EmberHandlebars.JavaScriptCompiler=function(){};if(Handlebars.JavaScriptCompiler){EmberHandlebars.JavaScriptCompiler.prototype=objectCreate(Handlebars.JavaScriptCompiler.prototype);EmberHandlebars.JavaScriptCompiler.prototype.compiler=EmberHandlebars.JavaScriptCompiler}EmberHandlebars.JavaScriptCompiler.prototype.namespace="Ember.Handlebars";EmberHandlebars.JavaScriptCompiler.prototype.initializeBuffer=function(){return"''"};EmberHandlebars.JavaScriptCompiler.prototype.appendToBuffer=function(string){return"data.buffer.push("+string+");"};var DOT_LOOKUP_REGEX=/helpers\.(.*?)\)/;var BRACKET_STRING_LOOKUP_REGEX=/helpers\['(.*?)'/;var INVOCATION_SPLITTING_REGEX=/(.*blockHelperMissing\.call\(.*)(stack[0-9]+)(,.*)/;EmberHandlebars.JavaScriptCompiler.stringifyLastBlockHelperMissingInvocation=function(source){var helperInvocation=source[source.length-1];var helperName=(DOT_LOOKUP_REGEX.exec(helperInvocation)||BRACKET_STRING_LOOKUP_REGEX.exec(helperInvocation))[1];var matches=INVOCATION_SPLITTING_REGEX.exec(helperInvocation);source[source.length-1]=matches[1]+"'"+helperName+"'"+matches[3]};var stringifyBlockHelperMissing=EmberHandlebars.JavaScriptCompiler.stringifyLastBlockHelperMissingInvocation;var originalBlockValue=EmberHandlebars.JavaScriptCompiler.prototype.blockValue;EmberHandlebars.JavaScriptCompiler.prototype.blockValue=function(){originalBlockValue.apply(this,arguments);stringifyBlockHelperMissing(this.source)};var originalAmbiguousBlockValue=EmberHandlebars.JavaScriptCompiler.prototype.ambiguousBlockValue;EmberHandlebars.JavaScriptCompiler.prototype.ambiguousBlockValue=function(){originalAmbiguousBlockValue.apply(this,arguments);stringifyBlockHelperMissing(this.source)};EmberHandlebars.Compiler.prototype.mustache=function(mustache){if(!(mustache.params.length||mustache.hash)){var id=new Handlebars.AST.IdNode([{part:"_triageMustache"}]);if(!mustache.escaped){mustache.hash=mustache.hash||new Handlebars.AST.HashNode([]);mustache.hash.pairs.push(["unescaped",new Handlebars.AST.StringNode("true")])}mustache=new Handlebars.AST.MustacheNode([id].concat([mustache.id]),mustache.hash,!mustache.escaped)}return Handlebars.Compiler.prototype.mustache.call(this,mustache)};EmberHandlebars.precompile=function(value,asObject){var ast=Handlebars.parse(value);var options={knownHelpers:{action:true,unbound:true,"bind-attr":true,template:true,view:true,_triageMustache:true},data:true,stringParams:true};asObject=asObject===undefined?true:asObject;var environment=(new EmberHandlebars.Compiler).compile(ast,options);return(new EmberHandlebars.JavaScriptCompiler).compile(environment,options,undefined,asObject)};if(Handlebars.compile){EmberHandlebars.compile=function(string){var ast=Handlebars.parse(string);var options={data:true,stringParams:true};var environment=(new EmberHandlebars.Compiler).compile(ast,options);var templateSpec=(new EmberHandlebars.JavaScriptCompiler).compile(environment,options,undefined,true);var template=EmberHandlebars.template(templateSpec);template.isMethod=false;return template}}__exports__["default"]=EmberHandlebars});enifed("ember-handlebars",["ember-handlebars-compiler","ember-metal/core","ember-runtime/system/lazy_load","ember-handlebars/loader","ember-handlebars/ext","ember-handlebars/string","ember-handlebars/helpers/shared","ember-handlebars/helpers/binding","ember-handlebars/helpers/collection","ember-handlebars/helpers/view","ember-handlebars/helpers/unbound","ember-handlebars/helpers/debug","ember-handlebars/helpers/each","ember-handlebars/helpers/template","ember-handlebars/helpers/partial","ember-handlebars/helpers/yield","ember-handlebars/helpers/loc","ember-handlebars/controls/checkbox","ember-handlebars/controls/select","ember-handlebars/controls/text_area","ember-handlebars/controls/text_field","ember-handlebars/controls/text_support","ember-handlebars/controls","ember-handlebars/component_lookup","ember-handlebars/views/handlebars_bound_view","ember-handlebars/views/metamorph_view","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__dependency18__,__dependency19__,__dependency20__,__dependency21__,__dependency22__,__dependency23__,__dependency24__,__dependency25__,__dependency26__,__exports__){"use strict";var EmberHandlebars=__dependency1__["default"];var Ember=__dependency2__["default"];var runLoadHooks=__dependency3__.runLoadHooks;var bootstrap=__dependency4__["default"];var normalizePath=__dependency5__.normalizePath;var template=__dependency5__.template;var makeBoundHelper=__dependency5__.makeBoundHelper;var registerBoundHelper=__dependency5__.registerBoundHelper;var resolveHash=__dependency5__.resolveHash;var resolveParams=__dependency5__.resolveParams;var getEscaped=__dependency5__.getEscaped;var handlebarsGet=__dependency5__.handlebarsGet;var evaluateUnboundHelper=__dependency5__.evaluateUnboundHelper;var helperMissingHelper=__dependency5__.helperMissingHelper;var blockHelperMissingHelper=__dependency5__.blockHelperMissingHelper;var resolvePaths=__dependency7__["default"];var bind=__dependency8__.bind;var _triageMustacheHelper=__dependency8__._triageMustacheHelper;var resolveHelper=__dependency8__.resolveHelper;var bindHelper=__dependency8__.bindHelper;var boundIfHelper=__dependency8__.boundIfHelper;var unboundIfHelper=__dependency8__.unboundIfHelper;var withHelper=__dependency8__.withHelper;var ifHelper=__dependency8__.ifHelper;var unlessHelper=__dependency8__.unlessHelper;var bindAttrHelper=__dependency8__.bindAttrHelper;var bindAttrHelperDeprecated=__dependency8__.bindAttrHelperDeprecated;var bindClasses=__dependency8__.bindClasses;var collectionHelper=__dependency9__["default"];var ViewHelper=__dependency10__.ViewHelper;var viewHelper=__dependency10__.viewHelper;var unboundHelper=__dependency11__["default"];var logHelper=__dependency12__.logHelper;var debuggerHelper=__dependency12__.debuggerHelper;var EachView=__dependency13__.EachView;var GroupedEach=__dependency13__.GroupedEach;var eachHelper=__dependency13__.eachHelper;var templateHelper=__dependency14__["default"];var partialHelper=__dependency15__["default"];var yieldHelper=__dependency16__["default"];var locHelper=__dependency17__["default"];var Checkbox=__dependency18__["default"];var Select=__dependency19__.Select;var SelectOption=__dependency19__.SelectOption;var SelectOptgroup=__dependency19__.SelectOptgroup;var TextArea=__dependency20__["default"];var TextField=__dependency21__["default"];var TextSupport=__dependency22__["default"];var inputHelper=__dependency23__.inputHelper;var textareaHelper=__dependency23__.textareaHelper;var ComponentLookup=__dependency24__["default"];var _HandlebarsBoundView=__dependency25__._HandlebarsBoundView;var SimpleHandlebarsView=__dependency25__.SimpleHandlebarsView;var _wrapMap=__dependency26__._wrapMap;var _SimpleMetamorphView=__dependency26__._SimpleMetamorphView;var _MetamorphView=__dependency26__._MetamorphView;var _Metamorph=__dependency26__._Metamorph;EmberHandlebars.bootstrap=bootstrap;EmberHandlebars.template=template;EmberHandlebars.makeBoundHelper=makeBoundHelper;EmberHandlebars.registerBoundHelper=registerBoundHelper;EmberHandlebars.resolveHash=resolveHash;EmberHandlebars.resolveParams=resolveParams;EmberHandlebars.resolveHelper=resolveHelper;EmberHandlebars.get=handlebarsGet;EmberHandlebars.getEscaped=getEscaped;EmberHandlebars.evaluateUnboundHelper=evaluateUnboundHelper;EmberHandlebars.bind=bind;EmberHandlebars.bindClasses=bindClasses;EmberHandlebars.EachView=EachView;EmberHandlebars.GroupedEach=GroupedEach;EmberHandlebars.resolvePaths=resolvePaths;EmberHandlebars.ViewHelper=ViewHelper;EmberHandlebars.normalizePath=normalizePath;Ember.Handlebars=EmberHandlebars;Ember.ComponentLookup=ComponentLookup;Ember._SimpleHandlebarsView=SimpleHandlebarsView;Ember._HandlebarsBoundView=_HandlebarsBoundView;Ember._SimpleMetamorphView=_SimpleMetamorphView;Ember._MetamorphView=_MetamorphView;Ember._Metamorph=_Metamorph;Ember._metamorphWrapMap=_wrapMap;Ember.TextSupport=TextSupport;Ember.Checkbox=Checkbox;Ember.Select=Select;Ember.SelectOption=SelectOption;Ember.SelectOptgroup=SelectOptgroup;Ember.TextArea=TextArea;Ember.TextField=TextField;Ember.TextSupport=TextSupport;EmberHandlebars.registerHelper("helperMissing",helperMissingHelper);EmberHandlebars.registerHelper("blockHelperMissing",blockHelperMissingHelper);EmberHandlebars.registerHelper("bind",bindHelper);EmberHandlebars.registerHelper("boundIf",boundIfHelper);EmberHandlebars.registerHelper("_triageMustache",_triageMustacheHelper);EmberHandlebars.registerHelper("unboundIf",unboundIfHelper);EmberHandlebars.registerHelper("with",withHelper);EmberHandlebars.registerHelper("if",ifHelper);EmberHandlebars.registerHelper("unless",unlessHelper);EmberHandlebars.registerHelper("bind-attr",bindAttrHelper);
EmberHandlebars.registerHelper("bindAttr",bindAttrHelperDeprecated);EmberHandlebars.registerHelper("collection",collectionHelper);EmberHandlebars.registerHelper("log",logHelper);EmberHandlebars.registerHelper("debugger",debuggerHelper);EmberHandlebars.registerHelper("each",eachHelper);EmberHandlebars.registerHelper("loc",locHelper);EmberHandlebars.registerHelper("partial",partialHelper);EmberHandlebars.registerHelper("template",templateHelper);EmberHandlebars.registerHelper("yield",yieldHelper);EmberHandlebars.registerHelper("view",viewHelper);EmberHandlebars.registerHelper("unbound",unboundHelper);EmberHandlebars.registerHelper("input",inputHelper);EmberHandlebars.registerHelper("textarea",textareaHelper);runLoadHooks("Ember.Handlebars",EmberHandlebars);__exports__["default"]=EmberHandlebars});enifed("ember-handlebars/component_lookup",["ember-runtime/system/object","exports"],function(__dependency1__,__exports__){"use strict";var EmberObject=__dependency1__["default"];var ComponentLookup=EmberObject.extend({lookupFactory:function(name,container){container=container||this.container;var fullName="component:"+name;var templateFullName="template:components/"+name;var templateRegistered=container&&container.has(templateFullName);if(templateRegistered){container.injection(fullName,"layout",templateFullName)}var Component=container.lookupFactory(fullName);if(templateRegistered||Component){if(!Component){container.register(fullName,Ember.Component);Component=container.lookupFactory(fullName)}return Component}}});__exports__["default"]=ComponentLookup});enifed("ember-handlebars/controls",["ember-handlebars/controls/checkbox","ember-handlebars/controls/text_field","ember-handlebars/controls/text_area","ember-metal/core","ember-handlebars-compiler","ember-handlebars/ext","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__exports__){"use strict";var Checkbox=__dependency1__["default"];var TextField=__dependency2__["default"];var TextArea=__dependency3__["default"];var Ember=__dependency4__["default"];var EmberHandlebars=__dependency5__["default"];var handlebarsGet=__dependency6__.handlebarsGet;var helpers=EmberHandlebars.helpers;function _resolveOption(context,options,key){if(options.hashTypes[key]==="ID"){return handlebarsGet(context,options.hash[key],options)}else{return options.hash[key]}}function inputHelper(options){var hash=options.hash;var types=options.hashTypes;var inputType=_resolveOption(this,options,"type");var onEvent=hash.on;if(inputType==="checkbox"){delete hash.type;delete types.type;return helpers.view.call(this,Checkbox,options)}else{delete hash.on;hash.onEvent=onEvent||"enter";return helpers.view.call(this,TextField,options)}}__exports__.inputHelper=inputHelper;function textareaHelper(options){var hash=options.hash;var types=options.hashTypes;return helpers.view.call(this,TextArea,options)}__exports__.textareaHelper=textareaHelper});enifed("ember-handlebars/controls/checkbox",["ember-metal/property_get","ember-metal/property_set","ember-views/views/view","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var get=__dependency1__.get;var set=__dependency2__.set;var View=__dependency3__["default"];__exports__["default"]=View.extend({instrumentDisplay:'{{input type="checkbox"}}',classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","indeterminate","disabled","tabindex","name","autofocus","required","form"],type:"checkbox",checked:false,disabled:false,indeterminate:false,init:function(){this._super();this.on("change",this,this._updateElementValue)},didInsertElement:function(){this._super();get(this,"element").indeterminate=!!get(this,"indeterminate")},_updateElementValue:function(){set(this,"checked",this.$().prop("checked"))}})});enifed("ember-handlebars/controls/select",["ember-handlebars-compiler","ember-metal/enumerable_utils","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/collection_view","ember-metal/utils","ember-metal/is_none","ember-metal/computed","ember-runtime/system/native_array","ember-metal/mixin","ember-metal/properties","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__exports__){"use strict";var EmberHandlebars=__dependency1__["default"];var forEach=__dependency2__.forEach;var indexOf=__dependency2__.indexOf;var indexesOf=__dependency2__.indexesOf;var replace=__dependency2__.replace;var get=__dependency3__.get;var set=__dependency4__.set;var View=__dependency5__["default"];var CollectionView=__dependency6__["default"];var isArray=__dependency7__.isArray;var isNone=__dependency8__["default"];var computed=__dependency9__.computed;var emberA=__dependency10__.A;var observer=__dependency11__.observer;var defineProperty=__dependency12__.defineProperty;var precompileTemplate=EmberHandlebars.compile;var SelectOption=View.extend({instrumentDisplay:"Ember.SelectOption",tagName:"option",attributeBindings:["value","selected"],defaultTemplate:function(context,options){options={data:options.data,hash:{}};EmberHandlebars.helpers.bind.call(context,"view.label",options)},init:function(){this.labelPathDidChange();this.valuePathDidChange();this._super()},selected:computed(function(){var content=get(this,"content");var selection=get(this,"parentView.selection");if(get(this,"parentView.multiple")){return selection&&indexOf(selection,content.valueOf())>-1}else{return content==selection}}).property("content","parentView.selection"),labelPathDidChange:observer("parentView.optionLabelPath",function(){var labelPath=get(this,"parentView.optionLabelPath");if(!labelPath){return}defineProperty(this,"label",computed(function(){return get(this,labelPath)}).property(labelPath))}),valuePathDidChange:observer("parentView.optionValuePath",function(){var valuePath=get(this,"parentView.optionValuePath");if(!valuePath){return}defineProperty(this,"value",computed(function(){return get(this,valuePath)}).property(valuePath))})});var SelectOptgroup=CollectionView.extend({instrumentDisplay:"Ember.SelectOptgroup",tagName:"optgroup",attributeBindings:["label"],selectionBinding:"parentView.selection",multipleBinding:"parentView.multiple",optionLabelPathBinding:"parentView.optionLabelPath",optionValuePathBinding:"parentView.optionValuePath",itemViewClassBinding:"parentView.optionView"});var Select=View.extend({instrumentDisplay:"Ember.Select",tagName:"select",classNames:["ember-select"],defaultTemplate:Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Ember.Handlebars.helpers);data=data||{};var buffer="",stack1,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1;data.buffer.push('<option value="">');stack1=helpers._triageMustache.call(depth0,"view.prompt",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data});if(stack1||stack1===0){data.buffer.push(stack1)}data.buffer.push("</option>");return buffer}function program3(depth0,data){var stack1;stack1=helpers.each.call(depth0,"view.groupedContent",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(4,program4,data),contexts:[depth0],types:["ID"],data:data});if(stack1||stack1===0){data.buffer.push(stack1)}else{data.buffer.push("")}}function program4(depth0,data){data.buffer.push(escapeExpression(helpers.view.call(depth0,"view.groupView",{hash:{content:"content",label:"label"},hashTypes:{content:"ID",label:"ID"},hashContexts:{content:depth0,label:depth0},contexts:[depth0],types:["ID"],data:data})))}function program6(depth0,data){var stack1;stack1=helpers.each.call(depth0,"view.content",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(7,program7,data),contexts:[depth0],types:["ID"],data:data});if(stack1||stack1===0){data.buffer.push(stack1)}else{data.buffer.push("")}}function program7(depth0,data){data.buffer.push(escapeExpression(helpers.view.call(depth0,"view.optionView",{hash:{content:""},hashTypes:{content:"ID"},hashContexts:{content:depth0},contexts:[depth0],types:["ID"],data:data})))}stack1=helpers["if"].call(depth0,"view.prompt",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(1,program1,data),contexts:[depth0],types:["ID"],data:data});if(stack1||stack1===0){data.buffer.push(stack1)}stack1=helpers["if"].call(depth0,"view.optionGroupPath",{hash:{},hashTypes:{},hashContexts:{},inverse:self.program(6,program6,data),fn:self.program(3,program3,data),contexts:[depth0],types:["ID"],data:data});if(stack1||stack1===0){data.buffer.push(stack1)}return buffer}),attributeBindings:["multiple","disabled","tabindex","name","required","autofocus","form","size"],multiple:false,disabled:false,required:false,content:null,selection:null,value:computed(function(key,value){if(arguments.length===2){return value}var valuePath=get(this,"optionValuePath").replace(/^content\.?/,"");return valuePath?get(this,"selection."+valuePath):get(this,"selection")}).property("selection"),prompt:null,optionLabelPath:"content",optionValuePath:"content",optionGroupPath:null,groupView:SelectOptgroup,groupedContent:computed(function(){var groupPath=get(this,"optionGroupPath");var groupedContent=emberA();var content=get(this,"content")||[];forEach(content,function(item){var label=get(item,groupPath);if(get(groupedContent,"lastObject.label")!==label){groupedContent.pushObject({label:label,content:emberA()})}get(groupedContent,"lastObject.content").push(item)});return groupedContent}).property("optionGroupPath","content.@each"),optionView:SelectOption,_change:function(){if(get(this,"multiple")){this._changeMultiple()}else{this._changeSingle()}},selectionDidChange:observer("selection.@each",function(){var selection=get(this,"selection");if(get(this,"multiple")){if(!isArray(selection)){set(this,"selection",emberA([selection]));return}this._selectionDidChangeMultiple()}else{this._selectionDidChangeSingle()}}),valueDidChange:observer("value",function(){var content=get(this,"content");var value=get(this,"value");var valuePath=get(this,"optionValuePath").replace(/^content\.?/,"");var selectedValue=valuePath?get(this,"selection."+valuePath):get(this,"selection");var selection;if(value!==selectedValue){selection=content?content.find(function(obj){return value===(valuePath?get(obj,valuePath):obj)}):null;this.set("selection",selection)}}),_triggerChange:function(){var selection=get(this,"selection");var value=get(this,"value");if(!isNone(selection)){this.selectionDidChange()}if(!isNone(value)){this.valueDidChange()}this._change()},_changeSingle:function(){var selectedIndex=this.$()[0].selectedIndex;var content=get(this,"content");var prompt=get(this,"prompt");if(!content||!get(content,"length")){return}if(prompt&&selectedIndex===0){set(this,"selection",null);return}if(prompt){selectedIndex-=1}set(this,"selection",content.objectAt(selectedIndex))},_changeMultiple:function(){var options=this.$("option:selected");var prompt=get(this,"prompt");var offset=prompt?1:0;var content=get(this,"content");var selection=get(this,"selection");if(!content){return}if(options){var selectedIndexes=options.map(function(){return this.index-offset}).toArray();var newSelection=content.objectsAt(selectedIndexes);if(isArray(selection)){replace(selection,0,get(selection,"length"),newSelection)}else{set(this,"selection",newSelection)}}},_selectionDidChangeSingle:function(){var el=this.get("element");if(!el){return}var content=get(this,"content");var selection=get(this,"selection");var selectionIndex=content?indexOf(content,selection):-1;var prompt=get(this,"prompt");if(prompt){selectionIndex+=1}if(el){el.selectedIndex=selectionIndex}},_selectionDidChangeMultiple:function(){var content=get(this,"content");var selection=get(this,"selection");var selectedIndexes=content?indexesOf(content,selection):[-1];var prompt=get(this,"prompt");var offset=prompt?1:0;var options=this.$("option");var adjusted;if(options){options.each(function(){adjusted=this.index>-1?this.index-offset:-1;this.selected=indexOf(selectedIndexes,adjusted)>-1})}},init:function(){this._super();this.on("didInsertElement",this,this._triggerChange);this.on("change",this,this._change)}});__exports__["default"]=Select;__exports__.Select=Select;__exports__.SelectOption=SelectOption;__exports__.SelectOptgroup=SelectOptgroup});enifed("ember-handlebars/controls/text_area",["ember-metal/property_get","ember-views/views/component","ember-handlebars/controls/text_support","ember-metal/mixin","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var get=__dependency1__.get;var Component=__dependency2__["default"];var TextSupport=__dependency3__["default"];var observer=__dependency4__.observer;__exports__["default"]=Component.extend(TextSupport,{instrumentDisplay:"{{textarea}}",classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols","name","selectionEnd","selectionStart","wrap","lang","dir"],rows:null,cols:null,_updateElementValue:observer("value",function(){var value=get(this,"value");var $el=this.$();if($el&&value!==$el.val()){$el.val(value)}}),init:function(){this._super();this.on("didInsertElement",this,this._updateElementValue)}})});enifed("ember-handlebars/controls/text_field",["ember-metal/property_get","ember-metal/property_set","ember-views/views/component","ember-handlebars/controls/text_support","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var get=__dependency1__.get;var set=__dependency2__.set;var Component=__dependency3__["default"];var TextSupport=__dependency4__["default"];__exports__["default"]=Component.extend(TextSupport,{instrumentDisplay:'{{input type="text"}}',classNames:["ember-text-field"],tagName:"input",attributeBindings:["type","value","size","pattern","name","min","max","accept","autocomplete","autosave","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","list","multiple","step","lang","dir","width"],value:"",type:"text",size:null,pattern:null,min:null,max:null})});enifed("ember-handlebars/controls/text_support",["ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-runtime/mixins/target_action_support","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var get=__dependency1__.get;var set=__dependency2__.set;var Mixin=__dependency3__.Mixin;var TargetActionSupport=__dependency4__["default"];var TextSupport=Mixin.create(TargetActionSupport,{value:"",attributeBindings:["placeholder","disabled","maxlength","tabindex","readonly","autofocus","form","selectionDirection","spellcheck","required","title","autocapitalize","autocorrect"],placeholder:null,disabled:false,maxlength:null,init:function(){this._super();this.on("focusOut",this,this._elementValueDidChange);this.on("change",this,this._elementValueDidChange);this.on("paste",this,this._elementValueDidChange);this.on("cut",this,this._elementValueDidChange);this.on("input",this,this._elementValueDidChange);this.on("keyUp",this,this.interpretKeyEvents)},action:null,onEvent:"enter",bubbles:false,interpretKeyEvents:function(event){var map=TextSupport.KEY_EVENTS;var method=map[event.keyCode];this._elementValueDidChange();if(method){return this[method](event)}},_elementValueDidChange:function(){set(this,"value",this.$().val())},insertNewline:function(event){sendAction("enter",this,event);sendAction("insert-newline",this,event)},cancel:function(event){sendAction("escape-press",this,event)},focusIn:function(event){sendAction("focus-in",this,event)},focusOut:function(event){sendAction("focus-out",this,event)},keyPress:function(event){sendAction("key-press",this,event)}});TextSupport.KEY_EVENTS={13:"insertNewline",27:"cancel"};function sendAction(eventName,view,event){var action=get(view,eventName);var on=get(view,"onEvent");var value=get(view,"value");if(on===eventName||on==="keyPress"&&eventName==="key-press"){view.sendAction("action",value)}view.sendAction(eventName,value);if(action||on===eventName){if(!get(view,"bubbles")){event.stopPropagation()}}}__exports__["default"]=TextSupport});enifed("ember-handlebars/ext",["ember-metal/core","ember-runtime/system/string","ember-handlebars-compiler","ember-metal/property_get","ember-metal/error","ember-metal/mixin","ember-views/views/view","ember-handlebars/views/metamorph_view","ember-metal/path_cache","ember-metal/is_empty","ember-metal/cache","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__exports__){"use strict";var Ember=__dependency1__["default"];var fmt=__dependency2__.fmt;var EmberHandlebars=__dependency3__["default"];var helpers=EmberHandlebars.helpers;var get=__dependency4__.get;var EmberError=__dependency5__["default"];var IS_BINDING=__dependency6__.IS_BINDING;var View=__dependency7__["default"];var _Metamorph=__dependency8__._Metamorph;var detectIsGlobal=__dependency9__.isGlobal;var resolveHelper,SimpleHandlebarsView;var isEmpty=__dependency10__["default"];var slice=[].slice;var originalTemplate=EmberHandlebars.template;var Cache=__dependency11__["default"];var FIRST_SEGMENT_CACHE=new Cache(1e3,function(path){return path.split(".",1)[0]});function normalizePath(root,path,data){var keywords=data&&data.keywords||{};var keyword,isKeyword;keyword=FIRST_SEGMENT_CACHE.get(path);if(keywords.hasOwnProperty(keyword)){root=keywords[keyword];isKeyword=true;if(path===keyword){path=""}else{path=path.substr(keyword.length+1)}}return{root:root,path:path,isKeyword:isKeyword}}function handlebarsGet(root,path,options){var data=options&&options.data;var normalizedPath=normalizePath(root,path,data);var value;root=normalizedPath.root;path=normalizedPath.path;if(root||path===""){value=get(root,path)}if(detectIsGlobal(path)){if(value===undefined&&root!==Ember.lookup){root=Ember.lookup;value=get(root,path)}if(root===Ember.lookup||root===null){}}return value}function lookupViewInContainer(container,path){return container.lookupFactory("view:"+path)}function lookupViewByClassName(path){var viewClass;if(detectIsGlobal(path)){viewClass=get(path);return viewClass}}function handlebarsGetView(context,path,container,options){var viewClass;var data;var pathType;if(options){data=options.data;pathType=options.types&&options.types[0]}if("string"===typeof path){if("STRING"===pathType&&container){viewClass=lookupViewInContainer(container,path)}if(!viewClass){viewClass=lookupViewByClassName(path)}if(!viewClass){if(data){var normalizedPath=normalizePath(context,path,data);context=normalizedPath.root;path=normalizedPath.path}viewClass=context&&get(context,path);if(!viewClass){viewClass=lookupViewInContainer(container,path)}}}else{viewClass=path}if("string"===typeof viewClass&&data&&data.view){viewClass=handlebarsGetView(data.view,viewClass,container,{data:data,types:["ID"]})}return viewClass}function getEscaped(root,path,options){var result=handlebarsGet(root,path,options);if(result===null||result===undefined){result=""}else if(!(result instanceof Handlebars.SafeString)){result=String(result)}if(!options.hash.unescaped){result=Handlebars.Utils.escapeExpression(result)}return result}__exports__.getEscaped=getEscaped;function resolveParams(context,params,options){var resolvedParams=[],types=options.types,param,type;for(var i=0,l=params.length;i<l;i++){param=params[i];type=types[i];if(type==="ID"){resolvedParams.push(handlebarsGet(context,param,options))}else{resolvedParams.push(param)}}return resolvedParams}__exports__.resolveParams=resolveParams;function resolveHash(context,hash,options){var resolvedHash={},types=options.hashTypes,type;for(var key in hash){if(!hash.hasOwnProperty(key)){continue}type=types[key];if(type==="ID"){resolvedHash[key]=handlebarsGet(context,hash[key],options)}else{resolvedHash[key]=hash[key]}}return resolvedHash}__exports__.resolveHash=resolveHash;function helperMissingHelper(path){if(!resolveHelper){resolveHelper=requireModule("ember-handlebars/helpers/binding")["resolveHelper"]}var error,view="";var options=arguments[arguments.length-1];var helper=resolveHelper(options.data.view.container,path);if(helper){return helper.apply(this,slice.call(arguments,1))}error="%@ Handlebars error: Could not find property '%@' on object %@.";if(options.data){view=options.data.view}throw new EmberError(fmt(error,[view,path,this]))}__exports__.helperMissingHelper=helperMissingHelper;function blockHelperMissingHelper(path){if(!resolveHelper){resolveHelper=requireModule("ember-handlebars/helpers/binding")["resolveHelper"]}var options=arguments[arguments.length-1];var helper=resolveHelper(options.data.view.container,path);if(helper){return helper.apply(this,slice.call(arguments,1))}else{return helpers.helperMissing.call(this,path)}}__exports__.blockHelperMissingHelper=blockHelperMissingHelper;function registerBoundHelper(name,fn){var boundHelperArgs=slice.call(arguments,1);var boundFn=makeBoundHelper.apply(this,boundHelperArgs);EmberHandlebars.registerHelper(name,boundFn)}__exports__.registerBoundHelper=registerBoundHelper;function makeBoundHelper(fn){if(!SimpleHandlebarsView){SimpleHandlebarsView=requireModule("ember-handlebars/views/handlebars_bound_view")["SimpleHandlebarsView"]}var dependentKeys=slice.call(arguments,1);function helper(){var properties=slice.call(arguments,0,-1);var numProperties=properties.length;var options=arguments[arguments.length-1];var normalizedProperties=[];var data=options.data;var types=data.isUnbound?slice.call(options.types,1):options.types;var hash=options.hash;var hashTypes=options.hashTypes;var view=data.view;var contexts=options.contexts;var currentContext=contexts&&contexts.length?contexts[0]:this;var prefixPathForDependentKeys="";var loc,len,hashOption;var boundOption,property;var normalizedValue=SimpleHandlebarsView.prototype.normalizedValue;var boundOptions=hash.boundOptions={};for(hashOption in hash){if(IS_BINDING.test(hashOption)){boundOptions[hashOption.slice(0,-7)]=hash[hashOption]}else if(hashTypes[hashOption]==="ID"){boundOptions[hashOption]=hash[hashOption]}}var watchedProperties=[];data.properties=[];for(loc=0;loc<numProperties;++loc){data.properties.push(properties[loc]);if(types[loc]==="ID"){var normalizedProp=normalizePath(currentContext,properties[loc],data);normalizedProperties.push(normalizedProp);watchedProperties.push(normalizedProp)}else{if(data.isUnbound){normalizedProperties.push({path:properties[loc]})}else{normalizedProperties.push(null)}}}if(data.isUnbound){return evaluateUnboundHelper(this,fn,normalizedProperties,options)}var bindView=new SimpleHandlebarsView(null,null,!options.hash.unescaped,options.data);bindView.normalizedValue=function(){var args=[];var boundOption;for(boundOption in boundOptions){if(!boundOptions.hasOwnProperty(boundOption)){continue}property=normalizePath(currentContext,boundOptions[boundOption],data);bindView.path=property.path;bindView.pathRoot=property.root;hash[boundOption]=normalizedValue.call(bindView)}for(loc=0;loc<numProperties;++loc){property=normalizedProperties[loc];if(property){bindView.path=property.path;bindView.pathRoot=property.root;args.push(normalizedValue.call(bindView))}else{args.push(properties[loc])}}args.push(options);return fn.apply(currentContext,args)};view.appendChild(bindView);for(boundOption in boundOptions){if(boundOptions.hasOwnProperty(boundOption)){watchedProperties.push(normalizePath(currentContext,boundOptions[boundOption],data))}}for(loc=0,len=watchedProperties.length;loc<len;++loc){property=watchedProperties[loc];view.registerObserver(property.root,property.path,bindView,bindView.rerender)}if(types[0]!=="ID"||normalizedProperties.length===0){return}var normalized=normalizedProperties[0];var pathRoot=normalized.root;var path=normalized.path;if(!isEmpty(path)){prefixPathForDependentKeys=path+"."}for(var i=0,l=dependentKeys.length;i<l;i++){view.registerObserver(pathRoot,prefixPathForDependentKeys+dependentKeys[i],bindView,bindView.rerender)}}helper._rawFunction=fn;return helper}function evaluateUnboundHelper(context,fn,normalizedProperties,options){var args=[];var hash=options.hash;var boundOptions=hash.boundOptions;var types=slice.call(options.types,1);var loc,len,property,propertyType,boundOption;for(boundOption in boundOptions){if(!boundOptions.hasOwnProperty(boundOption)){continue}hash[boundOption]=handlebarsGet(context,boundOptions[boundOption],options)}for(loc=0,len=normalizedProperties.length;loc<len;++loc){property=normalizedProperties[loc];propertyType=types[loc];if(propertyType==="ID"){args.push(handlebarsGet(property.root,property.path,options))}else{args.push(property.path)}}args.push(options);return fn.apply(context,args)}function template(spec){var t=originalTemplate(spec);t.isTop=true;return t}__exports__.template=template;__exports__.normalizePath=normalizePath;__exports__.makeBoundHelper=makeBoundHelper;__exports__.handlebarsGet=handlebarsGet;__exports__.handlebarsGetView=handlebarsGetView;__exports__.evaluateUnboundHelper=evaluateUnboundHelper});enifed("ember-handlebars/helpers/binding",["ember-metal/core","ember-handlebars-compiler","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-runtime/system/string","ember-metal/platform","ember-metal/is_none","ember-metal/enumerable_utils","ember-metal/array","ember-views/views/view","ember-metal/run_loop","ember-metal/observer","ember-metal/binding","ember-views/system/jquery","ember-handlebars/ext","ember-metal/keys","ember-metal/cache","ember-handlebars/views/handlebars_bound_view","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__dependency18__,__dependency19__,__exports__){"use strict";var Ember=__dependency1__["default"];var EmberHandlebars=__dependency2__["default"];var get=__dependency3__.get;var set=__dependency4__.set;var apply=__dependency5__.apply;var uuid=__dependency5__.uuid;var fmt=__dependency6__.fmt;var o_create=__dependency7__.create;var isNone=__dependency8__["default"];var EnumerableUtils=__dependency9__["default"];var forEach=__dependency10__.forEach;var View=__dependency11__["default"];var run=__dependency12__["default"];var removeObserver=__dependency13__.removeObserver;var isGlobalPath=__dependency14__.isGlobalPath;var emberBind=__dependency14__.bind;var jQuery=__dependency15__["default"];var isArray=__dependency5__.isArray;var handlebarsGetEscaped=__dependency16__.getEscaped;var keys=__dependency17__["default"];var Cache=__dependency18__["default"];var _HandlebarsBoundView=__dependency19__._HandlebarsBoundView;var SimpleHandlebarsView=__dependency19__.SimpleHandlebarsView;var normalizePath=__dependency16__.normalizePath;var handlebarsGet=__dependency16__.handlebarsGet;var getEscaped=__dependency16__.getEscaped;var guidFor=__dependency5__.guidFor;var typeOf=__dependency5__.typeOf;var helpers=EmberHandlebars.helpers;var SafeString=EmberHandlebars.SafeString;function exists(value){return!isNone(value)}var WithView=_HandlebarsBoundView.extend({init:function(){var controller;apply(this,this._super,arguments);var keywords=this.templateData.keywords;var keywordName=this.templateHash.keywordName;var keywordPath=this.templateHash.keywordPath;var controllerName=this.templateHash.controller;var preserveContext=this.preserveContext;if(controllerName){var previousContext=this.previousContext;controller=this.container.lookupFactory("controller:"+controllerName).create({parentController:previousContext,target:previousContext});this._generatedController=controller;if(!preserveContext){this.set("controller",controller);this.valueNormalizerFunc=function(result){controller.set("model",result);return controller}}else{var controllerPath=jQuery.expando+guidFor(controller);keywords[controllerPath]=controller;emberBind(keywords,controllerPath+".model",keywordPath);keywordPath=controllerPath}}if(preserveContext){emberBind(keywords,keywordName,keywordPath)}},willDestroy:function(){this._super();if(this._generatedController){this._generatedController.destroy()}}});function bind(property,options,preserveContext,shouldDisplay,valueNormalizer,childProperties){var data=options.data;var fn=options.fn;var inverse=options.inverse;var view=data.view;var normalized,observer,i;var currentContext=this||window;normalized=normalizePath(currentContext,property,data);if(data.insideGroup){observer=function(){while(view._contextView){view=view._contextView}run.once(view,"rerender")};var template,context;var result=handlebarsGet(currentContext,property,options);result=valueNormalizer?valueNormalizer(result):result;context=preserveContext?currentContext:result;if(shouldDisplay(result)){template=fn}else if(inverse){template=inverse}template(context,{data:options.data})}else{var viewClass=_HandlebarsBoundView;var viewOptions={preserveContext:preserveContext,shouldDisplayFunc:shouldDisplay,valueNormalizerFunc:valueNormalizer,displayTemplate:fn,inverseTemplate:inverse,path:property,pathRoot:currentContext,previousContext:currentContext,isEscaped:!options.hash.unescaped,templateData:options.data,templateHash:options.hash,helperName:options.helperName};if(options.isWithHelper){viewClass=WithView}var bindView=view.createChildView(viewClass,viewOptions);view.appendChild(bindView);observer=function(){run.scheduleOnce("render",bindView,"rerenderIfNeeded")}}if(typeof this==="object"&&normalized.path!==""){view.registerObserver(normalized.root,normalized.path,observer);if(childProperties){for(i=0;i<childProperties.length;i++){view.registerObserver(normalized.root,normalized.path+"."+childProperties[i],observer)}}}}function simpleBind(currentContext,property,options){var data=options.data;var view=data.view;var normalized,observer,pathRoot,output;normalized=normalizePath(currentContext,property,data);pathRoot=normalized.root;if(pathRoot&&"object"===typeof pathRoot){if(data.insideGroup){observer=function(){while(view._contextView){view=view._contextView}run.once(view,"rerender")};output=handlebarsGetEscaped(currentContext,property,options);data.buffer.push(output)}else{var bindView=new SimpleHandlebarsView(property,currentContext,!options.hash.unescaped,options.data);bindView._parentView=view;view.appendChild(bindView);observer=function(){run.scheduleOnce("render",bindView,"rerender")}}if(normalized.path!==""){view.registerObserver(normalized.root,normalized.path,observer)}}else{output=handlebarsGetEscaped(currentContext,property,options);data.buffer.push(output)}}function shouldDisplayIfHelperContent(result){var truthy=result&&get(result,"isTruthy");if(typeof truthy==="boolean"){return truthy}if(isArray(result)){return get(result,"length")!==0}else{return!!result}}function _triageMustacheHelper(property,options){var helper=EmberHandlebars.resolveHelper(options.data.view.container,property);if(helper){return helper.call(this,options)}return helpers.bind.call(this,property,options)}var ISNT_HELPER_CACHE=new Cache(1e3,function(key){return key.indexOf("-")===-1});__exports__.ISNT_HELPER_CACHE=ISNT_HELPER_CACHE;function resolveHelper(container,name){if(helpers[name]){return helpers[name]}if(!container||ISNT_HELPER_CACHE.get(name)){return}var helper=container.lookup("helper:"+name);if(!helper){var componentLookup=container.lookup("component-lookup:main");var Component=componentLookup.lookupFactory(name,container);if(Component){helper=EmberHandlebars.makeViewHelper(Component);container.register("helper:"+name,helper)}}return helper}function bindHelper(property,options){var context=options.contexts&&options.contexts.length?options.contexts[0]:this;
if(!options.fn){return simpleBind(context,property,options)}options.helperName="bind";return bind.call(context,property,options,false,exists)}function boundIfHelper(property,fn){var context=fn.contexts&&fn.contexts.length?fn.contexts[0]:this;fn.helperName=fn.helperName||"boundIf";return bind.call(context,property,fn,true,shouldDisplayIfHelperContent,shouldDisplayIfHelperContent,["isTruthy","length"])}function unboundIfHelper(property,fn){var context=fn.contexts&&fn.contexts.length?fn.contexts[0]:this;var data=fn.data;var template=fn.fn;var inverse=fn.inverse;var normalized,propertyValue,result;normalized=normalizePath(context,property,data);propertyValue=handlebarsGet(context,property,fn);if(!shouldDisplayIfHelperContent(propertyValue)){template=inverse}template(context,{data:data})}function withHelper(context,options){var bindContext,preserveContext,controller;var helperName="with";if(arguments.length===4){var keywordName,path,rootPath,normalized,contextPath;options=arguments[3];keywordName=arguments[2];path=arguments[0];if(path){helperName+=" "+path+" as "+keywordName}var localizedOptions=o_create(options);localizedOptions.data=o_create(options.data);localizedOptions.data.keywords=o_create(options.data.keywords||{});if(isGlobalPath(path)){contextPath=path}else{normalized=normalizePath(this,path,options.data);path=normalized.path;rootPath=normalized.root;var contextKey=jQuery.expando+guidFor(rootPath);localizedOptions.data.keywords[contextKey]=rootPath;contextPath=path?contextKey+"."+path:contextKey}localizedOptions.hash.keywordName=keywordName;localizedOptions.hash.keywordPath=contextPath;bindContext=this;context=contextPath;options=localizedOptions;preserveContext=true}else{helperName+=" "+context;bindContext=options.contexts[0];preserveContext=false}options.helperName=helperName;options.isWithHelper=true;return bind.call(bindContext,context,options,preserveContext,exists)}function ifHelper(context,options){options.helperName=options.helperName||"if "+context;if(options.data.isUnbound){return helpers.unboundIf.call(options.contexts[0],context,options)}else{return helpers.boundIf.call(options.contexts[0],context,options)}}function unlessHelper(context,options){var fn=options.fn;var inverse=options.inverse;var helperName="unless";if(context){helperName+=" "+context}options.fn=inverse;options.inverse=fn;options.helperName=options.helperName||helperName;if(options.data.isUnbound){return helpers.unboundIf.call(options.contexts[0],context,options)}else{return helpers.boundIf.call(options.contexts[0],context,options)}}function bindAttrHelper(options){var attrs=options.hash;var view=options.data.view;var ret=[];var ctx=this||window;var dataId=uuid();var classBindings=attrs["class"];if(classBindings!=null){var classResults=bindClasses(ctx,classBindings,view,dataId,options);ret.push('class="'+Handlebars.Utils.escapeExpression(classResults.join(" "))+'"');delete attrs["class"]}var attrKeys=keys(attrs);forEach.call(attrKeys,function(attr){var path=attrs[attr];var normalized;normalized=normalizePath(ctx,path,options.data);var value=path==="this"?normalized.root:handlebarsGet(ctx,path,options);var type=typeOf(value);var observer;observer=function observer(){var result=handlebarsGet(ctx,path,options);var elem=view.$("[data-bindattr-"+dataId+"='"+dataId+"']");if(!elem||elem.length===0){removeObserver(normalized.root,normalized.path,observer);return}View.applyAttributeBindings(elem,attr,result)};if(path!=="this"&&!(normalized.isKeyword&&normalized.path==="")){view.registerObserver(normalized.root,normalized.path,observer)}if(type==="string"||type==="number"&&!isNaN(value)){ret.push(attr+'="'+Handlebars.Utils.escapeExpression(value)+'"')}else if(value&&type==="boolean"){ret.push(attr+'="'+attr+'"')}},this);ret.push("data-bindattr-"+dataId+'="'+dataId+'"');return new SafeString(ret.join(" "))}function bindAttrHelperDeprecated(){return helpers["bind-attr"].apply(this,arguments)}function bindClasses(context,classBindings,view,bindAttrId,options){var ret=[];var newClass,value,elem;var classStringForPath=function(root,parsedPath,options){var val;var path=parsedPath.path;if(path==="this"){val=root}else if(path===""){val=true}else{val=handlebarsGet(root,path,options)}return View._classStringForValue(path,val,parsedPath.className,parsedPath.falsyClassName)};forEach.call(classBindings.split(" "),function(binding){var oldClass;var observer;var parsedPath=View._parsePropertyPath(binding);var path=parsedPath.path;var pathRoot=context;var normalized;if(path!==""&&path!=="this"){normalized=normalizePath(context,path,options.data);pathRoot=normalized.root;path=normalized.path}observer=function(){newClass=classStringForPath(context,parsedPath,options);elem=bindAttrId?view.$("[data-bindattr-"+bindAttrId+"='"+bindAttrId+"']"):view.$();if(!elem||elem.length===0){removeObserver(pathRoot,path,observer)}else{if(oldClass){elem.removeClass(oldClass)}if(newClass){elem.addClass(newClass);oldClass=newClass}else{oldClass=null}}};if(path!==""&&path!=="this"){view.registerObserver(pathRoot,path,observer)}value=classStringForPath(context,parsedPath,options);if(value){ret.push(value);oldClass=value}});return ret}__exports__.bind=bind;__exports__._triageMustacheHelper=_triageMustacheHelper;__exports__.resolveHelper=resolveHelper;__exports__.bindHelper=bindHelper;__exports__.boundIfHelper=boundIfHelper;__exports__.unboundIfHelper=unboundIfHelper;__exports__.withHelper=withHelper;__exports__.ifHelper=ifHelper;__exports__.unlessHelper=unlessHelper;__exports__.bindAttrHelper=bindAttrHelper;__exports__.bindAttrHelperDeprecated=bindAttrHelperDeprecated;__exports__.bindClasses=bindClasses});enifed("ember-handlebars/helpers/collection",["ember-metal/core","ember-metal/utils","ember-handlebars-compiler","ember-runtime/system/string","ember-metal/property_get","ember-handlebars/ext","ember-handlebars/helpers/view","ember-metal/computed","ember-views/views/collection_view","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__exports__){"use strict";var Ember=__dependency1__["default"];var inspect=__dependency2__.inspect;var EmberHandlebars=__dependency3__["default"];var helpers=EmberHandlebars.helpers;var fmt=__dependency4__.fmt;var get=__dependency5__.get;var handlebarsGet=__dependency6__.handlebarsGet;var handlebarsGetView=__dependency6__.handlebarsGetView;var ViewHelper=__dependency7__.ViewHelper;var computed=__dependency8__.computed;var CollectionView=__dependency9__["default"];var alias=computed.alias;function collectionHelper(path,options){if(path&&path.data&&path.data.isRenderData){options=path;path=undefined}else{}var fn=options.fn,data=options.data,inverse=options.inverse,view=options.data.view,container=view.controller&&view.controller.container?view.controller.container:view.container;var collectionClass;if(path){collectionClass=handlebarsGetView(this,path,container,options)}else{collectionClass=CollectionView}var hash=options.hash;var itemHash={};var match;var collectionPrototype=collectionClass.proto();var itemViewClass;if(hash.itemView){itemViewClass=handlebarsGetView(this,hash.itemView,container,options)}else if(hash.itemViewClass){itemViewClass=handlebarsGetView(collectionPrototype,hash.itemViewClass,container,options)}else{itemViewClass=handlebarsGetView(collectionPrototype,collectionPrototype.itemViewClass,container,options)}delete hash.itemViewClass;delete hash.itemView;for(var prop in hash){if(hash.hasOwnProperty(prop)){match=prop.match(/^item(.)(.*)$/);if(match&&prop!=="itemController"){itemHash[match[1].toLowerCase()+match[2]]=hash[prop];delete hash[prop]}}}if(fn){itemHash.template=fn;delete options.fn}var emptyViewClass;if(inverse&&inverse!==EmberHandlebars.VM.noop){emptyViewClass=get(collectionPrototype,"emptyViewClass");emptyViewClass=emptyViewClass.extend({template:inverse,tagName:itemHash.tagName})}else if(hash.emptyViewClass){emptyViewClass=handlebarsGetView(this,hash.emptyViewClass,container,options)}if(emptyViewClass){hash.emptyView=emptyViewClass}if(hash.keyword){itemHash._context=this}else{itemHash._context=alias("content")}var viewOptions=ViewHelper.propertiesFromHTMLOptions({data:data,hash:itemHash},this);hash.itemViewClass=itemViewClass.extend(viewOptions);options.helperName=options.helperName||"collection";return helpers.view.call(this,collectionClass,options)}__exports__["default"]=collectionHelper});enifed("ember-handlebars/helpers/debug",["ember-metal/core","ember-metal/utils","ember-metal/logger","ember-metal/property_get","ember-handlebars/ext","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var Ember=__dependency1__["default"];var inspect=__dependency2__.inspect;var Logger=__dependency3__["default"];var get=__dependency4__.get;var normalizePath=__dependency5__.normalizePath;var handlebarsGet=__dependency5__.handlebarsGet;var a_slice=[].slice;function logHelper(){var params=a_slice.call(arguments,0,-1);var options=arguments[arguments.length-1];var logger=Logger.log;var values=[];var allowPrimitives=true;for(var i=0;i<params.length;i++){var type=options.types[i];if(type==="ID"||!allowPrimitives){var context=options.contexts&&options.contexts[i]||this;var normalized=normalizePath(context,params[i],options.data);if(normalized.path==="this"){values.push(normalized.root)}else{values.push(handlebarsGet(normalized.root,normalized.path,options))}}else{values.push(params[i])}}logger.apply(logger,values)}function debuggerHelper(options){var templateContext=this;var typeOfTemplateContext=inspect(templateContext);debugger}__exports__.logHelper=logHelper;__exports__.debuggerHelper=debuggerHelper});enifed("ember-handlebars/helpers/each",["ember-metal/core","ember-handlebars-compiler","ember-runtime/system/string","ember-metal/property_get","ember-metal/property_set","ember-views/views/collection_view","ember-metal/binding","ember-runtime/mixins/controller","ember-runtime/controllers/array_controller","ember-runtime/mixins/array","ember-runtime/copy","ember-metal/run_loop","ember-metal/events","ember-handlebars/ext","ember-metal/computed","ember-metal/observer","ember-handlebars/views/metamorph_view","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__exports__){"use strict";var Ember=__dependency1__["default"];var K=Ember.K;var EmberHandlebars=__dependency2__["default"];var helpers=EmberHandlebars.helpers;var fmt=__dependency3__.fmt;var get=__dependency4__.get;var set=__dependency5__.set;var CollectionView=__dependency6__["default"];var Binding=__dependency7__.Binding;var ControllerMixin=__dependency8__["default"];var ArrayController=__dependency9__["default"];var EmberArray=__dependency10__["default"];var copy=__dependency11__["default"];var run=__dependency12__["default"];var on=__dependency13__.on;var handlebarsGet=__dependency14__.handlebarsGet;var computed=__dependency15__.computed;var addObserver=__dependency16__.addObserver;var removeObserver=__dependency16__.removeObserver;var addBeforeObserver=__dependency16__.addBeforeObserver;var removeBeforeObserver=__dependency16__.removeBeforeObserver;var _Metamorph=__dependency17__._Metamorph;var _MetamorphView=__dependency17__._MetamorphView;var EachView=CollectionView.extend(_Metamorph,{init:function(){var itemController=get(this,"itemController");var binding;if(itemController){var controller=get(this,"controller.container").lookupFactory("controller:array").create({_isVirtual:true,parentController:get(this,"controller"),itemController:itemController,target:get(this,"controller"),_eachView:this});this.disableContentObservers(function(){set(this,"content",controller);binding=new Binding("content","_eachView.dataSource").oneWay();binding.connect(controller)});set(this,"_arrayController",controller)}else{this.disableContentObservers(function(){binding=new Binding("content","dataSource").oneWay();binding.connect(this)})}return this._super()},_assertArrayLike:function(content){},disableContentObservers:function(callback){removeBeforeObserver(this,"content",null,"_contentWillChange");removeObserver(this,"content",null,"_contentDidChange");callback.call(this);addBeforeObserver(this,"content",null,"_contentWillChange");addObserver(this,"content",null,"_contentDidChange")},itemViewClass:_MetamorphView,emptyViewClass:_MetamorphView,createChildView:function(view,attrs){view=this._super(view,attrs);var keyword=get(this,"keyword");var content=get(view,"content");if(keyword){var data=get(view,"templateData");data=copy(data);data.keywords=view.cloneKeywords();set(view,"templateData",data);data.keywords[keyword]=content}if(content&&content.isController){set(view,"controller",content)}return view},destroy:function(){if(!this._super()){return}var arrayController=get(this,"_arrayController");if(arrayController){arrayController.destroy()}return this}});var GroupedEach=EmberHandlebars.GroupedEach=function(context,path,options){var self=this;var normalized=EmberHandlebars.normalizePath(context,path,options.data);this.context=context;this.path=path;this.options=options;this.template=options.fn;this.containingView=options.data.view;this.normalizedRoot=normalized.root;this.normalizedPath=normalized.path;this.content=this.lookupContent();this.addContentObservers();this.addArrayObservers();this.containingView.on("willClearRender",function(){self.destroy()})};GroupedEach.prototype={contentWillChange:function(){this.removeArrayObservers()},contentDidChange:function(){this.content=this.lookupContent();this.addArrayObservers();this.rerenderContainingView()},contentArrayWillChange:K,contentArrayDidChange:function(){this.rerenderContainingView()},lookupContent:function(){return handlebarsGet(this.normalizedRoot,this.normalizedPath,this.options)},addArrayObservers:function(){if(!this.content){return}this.content.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},removeArrayObservers:function(){if(!this.content){return}this.content.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},addContentObservers:function(){addBeforeObserver(this.normalizedRoot,this.normalizedPath,this,this.contentWillChange);addObserver(this.normalizedRoot,this.normalizedPath,this,this.contentDidChange)},removeContentObservers:function(){removeBeforeObserver(this.normalizedRoot,this.normalizedPath,this.contentWillChange);removeObserver(this.normalizedRoot,this.normalizedPath,this.contentDidChange)},render:function(){if(!this.content){return}var content=this.content;var contentLength=get(content,"length");var options=this.options;var data=options.data;var template=this.template;data.insideEach=true;for(var i=0;i<contentLength;i++){var context=content.objectAt(i);options.data.keywords[options.hash.keyword]=context;template(context,{data:data})}},rerenderContainingView:function(){var self=this;run.scheduleOnce("render",this,function(){if(!self.destroyed){self.containingView.rerender()}})},destroy:function(){this.removeContentObservers();if(this.content){this.removeArrayObservers()}this.destroyed=true}};function eachHelper(path,options){var ctx;var helperName="each";if(arguments.length===4){var keywordName=arguments[0];options=arguments[3];path=arguments[2];helperName+=" "+keywordName+" in "+path;if(path===""){path="this"}options.hash.keyword=keywordName}else if(arguments.length===1){options=path;path="this"}else{helperName+=" "+path}options.hash.dataSourceBinding=path;ctx=this||window;options.helperName=options.helperName||helperName;if(options.data.insideGroup&&!options.hash.groupedRows&&!options.hash.itemViewClass){new GroupedEach(ctx,path,options).render()}else{return helpers.collection.call(ctx,EmberHandlebars.EachView,options)}}__exports__.EachView=EachView;__exports__.GroupedEach=GroupedEach;__exports__.eachHelper=eachHelper});enifed("ember-handlebars/helpers/loc",["ember-runtime/system/string","exports"],function(__dependency1__,__exports__){"use strict";var loc=__dependency1__.loc;__exports__["default"]=loc});enifed("ember-handlebars/helpers/partial",["ember-metal/core","ember-metal/is_none","ember-handlebars/ext","ember-handlebars/helpers/binding","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var Ember=__dependency1__["default"];var isNone=__dependency2__.isNone;var handlebarsGet=__dependency3__.handlebarsGet;var bind=__dependency4__.bind;__exports__["default"]=function partialHelper(name,options){var context=options.contexts&&options.contexts.length?options.contexts[0]:this;options.helperName=options.helperName||"partial";if(options.types[0]==="ID"){options.fn=function(context,fnOptions){var partialName=handlebarsGet(context,name,fnOptions);renderPartial(context,partialName,fnOptions)};return bind.call(context,name,options,true,exists)}else{renderPartial(context,name,options)}};function exists(value){return!isNone(value)}function renderPartial(context,name,options){var nameParts=name.split("/");var lastPart=nameParts[nameParts.length-1];nameParts[nameParts.length-1]="_"+lastPart;var view=options.data.view;var underscoredName=nameParts.join("/");var template=view.templateForName(underscoredName);var deprecatedTemplate=!template&&view.templateForName(name);template=template||deprecatedTemplate;template(context,{data:options.data})}});enifed("ember-handlebars/helpers/shared",["ember-handlebars/ext","exports"],function(__dependency1__,__exports__){"use strict";var handlebarsGet=__dependency1__.handlebarsGet;__exports__["default"]=function resolvePaths(options){var ret=[];var contexts=options.contexts;var roots=options.roots;var data=options.data;for(var i=0,l=contexts.length;i<l;i++){ret.push(handlebarsGet(roots[i],contexts[i],{data:data}))}return ret}});enifed("ember-handlebars/helpers/template",["ember-metal/core","ember-handlebars-compiler","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Ember=__dependency1__["default"];var EmberHandlebars=__dependency2__["default"];var helpers=EmberHandlebars.helpers;__exports__["default"]=function templateHelper(name,options){options.helperName=options.helperName||"template";return helpers.partial.apply(this,arguments)}});enifed("ember-handlebars/helpers/unbound",["ember-handlebars-compiler","ember-handlebars/helpers/binding","ember-handlebars/ext","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var EmberHandlebars=__dependency1__["default"];var helpers=EmberHandlebars.helpers;var resolveHelper=__dependency2__.resolveHelper;var handlebarsGet=__dependency3__.handlebarsGet;var slice=[].slice;__exports__["default"]=function unboundHelper(property,fn){var options=arguments[arguments.length-1];var container=options.data.view.container;var helper,context,out,ctx;ctx=this;if(arguments.length>2){options.data.isUnbound=true;helper=resolveHelper(container,property)||helpers.helperMissing;out=helper.apply(ctx,slice.call(arguments,1));delete options.data.isUnbound;return out}context=fn.contexts&&fn.contexts.length?fn.contexts[0]:ctx;return handlebarsGet(context,property,fn)}});enifed("ember-handlebars/helpers/view",["ember-metal/core","ember-runtime/system/object","ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-views/system/jquery","ember-views/views/view","ember-metal/binding","ember-metal/keys","ember-handlebars/ext","ember-runtime/system/string","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__exports__){"use strict";var Ember=__dependency1__["default"];var EmberObject=__dependency2__["default"];var get=__dependency3__.get;var set=__dependency4__.set;var IS_BINDING=__dependency5__.IS_BINDING;var jQuery=__dependency6__["default"];var View=__dependency7__["default"];var isGlobalPath=__dependency8__.isGlobalPath;var keys=__dependency9__["default"];var normalizePath=__dependency10__.normalizePath;var handlebarsGet=__dependency10__.handlebarsGet;var handlebarsGetView=__dependency10__.handlebarsGetView;var EmberString=__dependency11__["default"];var LOWERCASE_A_Z=/^[a-z]/;var VIEW_PREFIX=/^view\./;function makeBindings(thisContext,options){var hash=options.hash;var hashType=options.hashTypes;for(var prop in hash){if(hashType[prop]==="ID"){var value=hash[prop];if(IS_BINDING.test(prop)){}else{hash[prop+"Binding"]=value;hashType[prop+"Binding"]="STRING";delete hash[prop];delete hashType[prop]}}}if(hash.hasOwnProperty("idBinding")){hash.id=handlebarsGet(thisContext,hash.idBinding,options);hashType.id="STRING";delete hash.idBinding;delete hashType.idBinding}}var ViewHelper=EmberObject.create({propertiesFromHTMLOptions:function(options){var hash=options.hash;var data=options.data;var classes=hash["class"];var extensions={helperName:options.helperName||""};if(hash.id){extensions.elementId=hash.id}if(hash.tag){extensions.tagName=hash.tag}if(classes){classes=classes.split(" ");extensions.classNames=classes}if(hash.classBinding){extensions.classNameBindings=hash.classBinding.split(" ")}if(hash.classNameBindings){if(extensions.classNameBindings===undefined){extensions.classNameBindings=[]}extensions.classNameBindings=extensions.classNameBindings.concat(hash.classNameBindings.split(" "))}if(hash.attributeBindings){extensions.attributeBindings=null}var path;var hashKeys=keys(hash);for(var i=0,l=hashKeys.length;i<l;i++){var prop=hashKeys[i];var isBinding=IS_BINDING.test(prop);if(prop!=="classNameBindings"){extensions[prop]=hash[prop]}if(isBinding&&typeof extensions[prop]==="string"){path=this.contextualizeBindingPath(hash[prop],data);if(path){extensions[prop]=path}}}if(extensions.classNameBindings){for(var j=0,k=extensions.classNameBindings.length;j<k;j++){var full=extensions.classNameBindings[j];if(typeof full==="string"){var parsedPath=View._parsePropertyPath(full);if(parsedPath.path!==""){path=this.contextualizeBindingPath(parsedPath.path,data);if(path){extensions.classNameBindings[j]=path+parsedPath.classNames}}}}}return extensions},contextualizeBindingPath:function(path,data){var normalized=normalizePath(null,path,data);if(normalized.isKeyword){return"templateData.keywords."+path}else if(isGlobalPath(path)){return null}else if(path==="this"||path===""){return"_parentView.context"}else{return"_parentView.context."+path}},helper:function(thisContext,path,options){var data=options.data;var fn=options.fn;var newView;var newViewProto;makeBindings(thisContext,options);var container=this.container||data&&data.view&&data.view.container;newView=handlebarsGetView(thisContext,path,container,options);if(View.detectInstance(newView)){newViewProto=newView}else{newViewProto=newView.proto()}var viewOptions=this.propertiesFromHTMLOptions(options,thisContext);var currentView=data.view;viewOptions.templateData=data;if(fn){viewOptions.template=fn}if(!newViewProto.controller&&!newViewProto.controllerBinding&&!viewOptions.controller&&!viewOptions.controllerBinding){viewOptions._context=thisContext}currentView.appendChild(newView,viewOptions)},instanceHelper:function(thisContext,newView,options){var data=options.data;var fn=options.fn;makeBindings(thisContext,options);var viewOptions=this.propertiesFromHTMLOptions(options,thisContext);var currentView=data.view;viewOptions.templateData=data;if(fn){viewOptions.template=fn}if(!newView.controller&&!newView.controllerBinding&&!viewOptions.controller&&!viewOptions.controllerBinding){viewOptions._context=thisContext}currentView.appendChild(newView,viewOptions)}});__exports__.ViewHelper=ViewHelper;function viewHelper(path,options){if(path&&path.data&&path.data.isRenderData){options=path;if(options.data&&options.data.view&&options.data.view.container){path=options.data.view.container.lookupFactory("view:toplevel")}else{path=View}}options.helperName=options.helperName||"view";return ViewHelper.helper(this,path,options)}__exports__.viewHelper=viewHelper});enifed("ember-handlebars/helpers/yield",["ember-metal/core","ember-metal/property_get","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;__exports__["default"]=function yieldHelper(options){var view=options.data.view;while(view&&!get(view,"layout")){if(view._contextView){view=view._contextView}else{view=get(view,"_parentView")}}view._yield(this,options)}});enifed("ember-handlebars/loader",["ember-handlebars/component_lookup","ember-views/system/jquery","ember-metal/error","ember-runtime/system/lazy_load","ember-handlebars-compiler","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var ComponentLookup=__dependency1__["default"];var jQuery=__dependency2__["default"];var EmberError=__dependency3__["default"];var onLoad=__dependency4__.onLoad;var EmberHandlebars=__dependency5__["default"];function bootstrap(ctx){var selectors='script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]';jQuery(selectors,ctx).each(function(){var script=jQuery(this);var compile=script.attr("type")==="text/x-raw-handlebars"?jQuery.proxy(Handlebars.compile,Handlebars):jQuery.proxy(EmberHandlebars.compile,EmberHandlebars);var templateName=script.attr("data-template-name")||script.attr("id")||"application";var template=compile(script.html());if(Ember.TEMPLATES[templateName]!==undefined){throw new EmberError('Template named "'+templateName+'" already exists.')}Ember.TEMPLATES[templateName]=template;script.remove()})}function _bootstrap(){bootstrap(jQuery(document))}function registerComponentLookup(container){container.register("component-lookup:main",ComponentLookup)}onLoad("Ember.Application",function(Application){Application.initializer({name:"domTemplates",initialize:_bootstrap});Application.initializer({name:"registerComponentLookup",after:"domTemplates",initialize:registerComponentLookup})});__exports__["default"]=bootstrap});enifed("ember-handlebars/string",["ember-runtime/system/string","exports"],function(__dependency1__,__exports__){"use strict";var EmberStringUtils=__dependency1__["default"];function htmlSafe(str){if(typeof str!=="string"){str=""+str}return new Handlebars.SafeString(str)}EmberStringUtils.htmlSafe=htmlSafe;if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.String){String.prototype.htmlSafe=function(){return htmlSafe(this)}}__exports__["default"]=htmlSafe});enifed("ember-handlebars/views/handlebars_bound_view",["ember-handlebars-compiler","ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/merge","ember-metal/run_loop","ember-views/views/view","ember-handlebars/string","ember-views/views/states","ember-handlebars/views/metamorph_view","ember-handlebars/ext","ember-metal/utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__exports__){"use strict";var EmberHandlebars=__dependency1__["default"];var SafeString=EmberHandlebars.SafeString;var Ember=__dependency2__["default"];var K=Ember.K;var EmberError=__dependency3__["default"];var get=__dependency4__.get;var set=__dependency5__.set;var merge=__dependency6__["default"];var run=__dependency7__["default"];var View=__dependency8__["default"];var htmlSafe=__dependency9__["default"];var cloneStates=__dependency10__.cloneStates;var states=__dependency10__.states;var viewStates=states;var _MetamorphView=__dependency11__["default"];var handlebarsGet=__dependency12__.handlebarsGet;var uuid=__dependency13__.uuid;function SimpleHandlebarsView(path,pathRoot,isEscaped,templateData){this.path=path;this.pathRoot=pathRoot;this.isEscaped=isEscaped;this.templateData=templateData;this[Ember.GUID_KEY]=uuid();this._lastNormalizedValue=undefined;this.state="preRender";this.updateId=null;this._parentView=null;this.buffer=null;this._morph=null}SimpleHandlebarsView.prototype={isVirtual:true,isView:true,destroy:function(){if(this.updateId){run.cancel(this.updateId);this.updateId=null}if(this._parentView){this._parentView.removeChild(this)}this.morph=null;this.state="destroyed"},propertyWillChange:K,propertyDidChange:K,normalizedValue:function(){var path=this.path;var pathRoot=this.pathRoot;var escape=this.isEscaped;var result,templateData;if(path===""){result=pathRoot}else{templateData=this.templateData;result=handlebarsGet(pathRoot,path,{data:templateData})}if(!escape&&!(result instanceof SafeString)){result=htmlSafe(result)}return result},render:function(buffer){var value=this.normalizedValue();this._lastNormalizedValue=value;buffer._element=value},rerender:function(){switch(this.state){case"preRender":case"destroyed":break;case"inBuffer":throw new EmberError("Something you did tried to replace an {{expression}} before it was inserted into the DOM.");case"hasElement":case"inDOM":this.updateId=run.scheduleOnce("render",this,"update");break}return this},update:function(){this.updateId=null;var value=this.normalizedValue();if(value!==this._lastNormalizedValue){this._lastNormalizedValue=value;this._morph.update(value)}},_transitionTo:function(state){this.state=state}};states=cloneStates(viewStates);merge(states._default,{rerenderIfNeeded:K});merge(states.inDOM,{rerenderIfNeeded:function(view){if(view.normalizedValue()!==view._lastNormalizedValue){view.rerender()}}});var _HandlebarsBoundView=_MetamorphView.extend({instrumentName:"boundHandlebars",_states:states,shouldDisplayFunc:null,preserveContext:false,previousContext:null,displayTemplate:null,inverseTemplate:null,path:null,pathRoot:null,normalizedValue:function(){var path=get(this,"path");var pathRoot=get(this,"pathRoot");var valueNormalizer=get(this,"valueNormalizerFunc");var result,templateData;if(path===""){result=pathRoot}else{templateData=get(this,"templateData");result=handlebarsGet(pathRoot,path,{data:templateData})}return valueNormalizer?valueNormalizer(result):result},rerenderIfNeeded:function(){this.currentState.rerenderIfNeeded(this)},render:function(buffer){var escape=get(this,"isEscaped");var shouldDisplay=get(this,"shouldDisplayFunc");var preserveContext=get(this,"preserveContext");var context=get(this,"previousContext");var inverseTemplate=get(this,"inverseTemplate");var displayTemplate=get(this,"displayTemplate");var result=this.normalizedValue();this._lastNormalizedValue=result;if(shouldDisplay(result)){set(this,"template",displayTemplate);if(preserveContext){set(this,"_context",context)}else{if(displayTemplate){set(this,"_context",result)}else{if(result===null||result===undefined){result=""}else if(!(result instanceof SafeString)){result=String(result)}if(escape){result=Handlebars.Utils.escapeExpression(result)}buffer.push(result);return}}}else if(inverseTemplate){set(this,"template",inverseTemplate);if(preserveContext){set(this,"_context",context)}else{set(this,"_context",result)}}else{set(this,"template",function(){return""})}return this._super(buffer)}});__exports__._HandlebarsBoundView=_HandlebarsBoundView;__exports__.SimpleHandlebarsView=SimpleHandlebarsView});enifed("ember-handlebars/views/metamorph_view",["ember-metal/core","ember-views/views/core_view","ember-views/views/view","ember-metal/mixin","ember-metal/run_loop","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var Ember=__dependency1__["default"];var CoreView=__dependency2__["default"];var View=__dependency3__["default"];var Mixin=__dependency4__.Mixin;var run=__dependency5__["default"];function notifyMutationListeners(){run.once(View,"notifyMutationListeners")
}var _Metamorph=Mixin.create({isVirtual:true,tagName:"",instrumentName:"metamorph",init:function(){this._super()}});__exports__._Metamorph=_Metamorph;var _MetamorphView=View.extend(_Metamorph);__exports__._MetamorphView=_MetamorphView;var _SimpleMetamorphView=CoreView.extend(_Metamorph);__exports__._SimpleMetamorphView=_SimpleMetamorphView;__exports__["default"]=View.extend(_Metamorph)});enifed("ember-metal-views",["ember-metal-views/renderer","exports"],function(__dependency1__,__exports__){"use strict";var Renderer=__dependency1__["default"];__exports__.Renderer=Renderer});enifed("ember-metal-views/renderer",["morph","exports"],function(__dependency1__,__exports__){"use strict";var DOMHelper=__dependency1__.DOMHelper;function Renderer(){this._uuid=0;this._views=new Array(2e3);this._queue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this._parents=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this._elements=new Array(17);this._inserts={};this._dom=new DOMHelper}function Renderer_renderTree(_view,_parentView,_insertAt){var views=this._views;views[0]=_view;var insertAt=_insertAt===undefined?-1:_insertAt;var index=0;var total=1;var levelBase=_parentView?_parentView._level+1:0;var root=_parentView==null?_view:_parentView._root;var willInsert=!!root._morph;var queue=this._queue;queue[0]=0;var length=1;var parentIndex=-1;var parents=this._parents;var parent=_parentView||null;var elements=this._elements;var element=null;var contextualElement=null;var level=0;var view=_view;var children,i,l,child;while(length){elements[level]=element;if(!view._morph){view._morph=null}view._root=root;this.uuid(view);view._level=levelBase+level;if(view._elementCreated){this.remove(view,false,true)}this.willCreateElement(view);contextualElement=view._morph&&view._morph.contextualElement;if(!contextualElement&&parent&&parent._childViewsMorph){contextualElement=parent._childViewsMorph.contextualElement}if(!contextualElement&&view._didCreateElementWithoutMorph){contextualElement=document.body}element=this.createElement(view,contextualElement);parents[level++]=parentIndex;parentIndex=index;parent=view;queue[length++]=index;children=this.childViews(view);if(children){for(i=children.length-1;i>=0;i--){child=children[i];index=total++;views[index]=child;queue[length++]=index;view=child}}index=queue[--length];view=views[index];while(parentIndex===index){level--;view._elementCreated=true;this.didCreateElement(view);if(willInsert){this.willInsertElement(view)}if(level===0){length--;break}parentIndex=parents[level];parent=parentIndex===-1?_parentView:views[parentIndex];this.insertElement(view,parent,element,-1);index=queue[--length];view=views[index];element=elements[level];elements[level]=null}}this.insertElement(view,_parentView,element,insertAt);for(i=total-1;i>=0;i--){if(willInsert){views[i]._elementInserted=true;this.didInsertElement(views[i])}views[i]=null}return element}Renderer.prototype.uuid=function Renderer_uuid(view){if(view._uuid===undefined){view._uuid=++this._uuid;view._renderer=this}return view._uuid};Renderer.prototype.scheduleInsert=function Renderer_scheduleInsert(view,morph){if(view._morph||view._elementCreated){throw new Error("You cannot insert a View that has already been rendered")}view._morph=morph;var viewId=this.uuid(view);this._inserts[viewId]=this.scheduleRender(this,function(){this._inserts[viewId]=null;this.renderTree(view)})};Renderer.prototype.appendTo=function Renderer_appendTo(view,target){var morph=this._dom.appendMorph(target);this.scheduleInsert(view,morph)};Renderer.prototype.replaceIn=function Renderer_replaceIn(view,target){var morph=this._dom.createMorph(target,null,null);this.scheduleInsert(view,morph)};function Renderer_remove(_view,shouldDestroy,reset){var viewId=this.uuid(_view);if(this._inserts[viewId]){this.cancelRender(this._inserts[viewId]);this._inserts[viewId]=undefined}if(!_view._elementCreated){return}var removeQueue=[];var destroyQueue=[];var morph=_view._morph;var idx,len,view,staticChildren,queue,childViews,i,l,parentView;removeQueue.push(_view);for(idx=0;idx<removeQueue.length;idx++){view=removeQueue[idx];if(!shouldDestroy&&view._childViewsMorph){queue=removeQueue}else{queue=destroyQueue}this.beforeRemove(removeQueue[idx]);childViews=view._childViews;if(childViews){for(i=0,l=childViews.length;i<l;i++){queue.push(childViews[i])}}}for(idx=0;idx<destroyQueue.length;idx++){view=destroyQueue[idx];this.beforeRemove(destroyQueue[idx]);childViews=view._childViews;if(childViews){for(i=0,l=childViews.length;i<l;i++){destroyQueue.push(childViews[i])}}}if(morph&&!reset){morph.destroy()}for(idx=0,len=removeQueue.length;idx<len;idx++){this.afterRemove(removeQueue[idx],false)}for(idx=0,len=destroyQueue.length;idx<len;idx++){this.afterRemove(destroyQueue[idx],true)}if(reset){_view._morph=morph}}function Renderer_insertElement(view,parentView,element,index){if(element===null||element===undefined)return;if(view._morph){view._morph.update(element)}else if(parentView){if(index===-1){view._morph=parentView._childViewsMorph.append(element)}else{view._morph=parentView._childViewsMorph.insert(index,element)}}}function Renderer_beforeRemove(view){if(view._elementCreated){this.willDestroyElement(view)}if(view._elementInserted){this.willRemoveElement(view)}}function Renderer_afterRemove(view,shouldDestroy){view._elementInserted=false;view._morph=null;view._childViewsMorph=null;if(view._elementCreated){view._elementCreated=false;this.didDestroyElement(view)}if(shouldDestroy){this.destroyView(view)}}Renderer.prototype.remove=Renderer_remove;Renderer.prototype.destroy=function(view){this.remove(view,true)};Renderer.prototype.renderTree=Renderer_renderTree;Renderer.prototype.insertElement=Renderer_insertElement;Renderer.prototype.beforeRemove=Renderer_beforeRemove;Renderer.prototype.afterRemove=Renderer_afterRemove;var noop=function(){};Renderer.prototype.willCreateElement=noop;Renderer.prototype.createElement=noop;Renderer.prototype.didCreateElement=noop;Renderer.prototype.willInsertElement=noop;Renderer.prototype.didInsertElement=noop;Renderer.prototype.willRemoveElement=noop;Renderer.prototype.willDestroyElement=noop;Renderer.prototype.didDestroyElement=noop;Renderer.prototype.destroyView=noop;Renderer.prototype.childViews=noop;__exports__["default"]=Renderer});enifed("ember-metal",["ember-metal/core","ember-metal/merge","ember-metal/instrumentation","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/cache","ember-metal/platform","ember-metal/array","ember-metal/logger","ember-metal/property_get","ember-metal/events","ember-metal/observer_set","ember-metal/property_events","ember-metal/properties","ember-metal/property_set","ember-metal/map","ember-metal/get_properties","ember-metal/set_properties","ember-metal/watch_key","ember-metal/chains","ember-metal/watch_path","ember-metal/watching","ember-metal/expand_properties","ember-metal/computed","ember-metal/computed_macros","ember-metal/observer","ember-metal/mixin","ember-metal/binding","ember-metal/run_loop","ember-metal/libraries","ember-metal/is_none","ember-metal/is_empty","ember-metal/is_blank","ember-metal/is_present","ember-metal/keys","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__dependency18__,__dependency19__,__dependency20__,__dependency21__,__dependency22__,__dependency23__,__dependency24__,__dependency25__,__dependency26__,__dependency27__,__dependency28__,__dependency29__,__dependency30__,__dependency31__,__dependency32__,__dependency33__,__dependency34__,__dependency35__,__dependency36__,__exports__){"use strict";var Ember=__dependency1__["default"];var merge=__dependency2__["default"];var instrument=__dependency3__.instrument;var subscribe=__dependency3__.subscribe;var unsubscribe=__dependency3__.unsubscribe;var reset=__dependency3__.reset;var generateGuid=__dependency4__.generateGuid;var GUID_KEY=__dependency4__.GUID_KEY;var guidFor=__dependency4__.guidFor;var META_DESC=__dependency4__.META_DESC;var EMPTY_META=__dependency4__.EMPTY_META;var meta=__dependency4__.meta;var getMeta=__dependency4__.getMeta;var setMeta=__dependency4__.setMeta;var metaPath=__dependency4__.metaPath;var inspect=__dependency4__.inspect;var typeOf=__dependency4__.typeOf;var tryCatchFinally=__dependency4__.tryCatchFinally;var isArray=__dependency4__.isArray;var makeArray=__dependency4__.makeArray;var canInvoke=__dependency4__.canInvoke;var tryInvoke=__dependency4__.tryInvoke;var tryFinally=__dependency4__.tryFinally;var wrap=__dependency4__.wrap;var apply=__dependency4__.apply;var applyStr=__dependency4__.applyStr;var uuid=__dependency4__.uuid;var EmberError=__dependency5__["default"];var EnumerableUtils=__dependency6__["default"];var Cache=__dependency7__["default"];var create=__dependency8__.create;var hasPropertyAccessors=__dependency8__.hasPropertyAccessors;var filter=__dependency9__.filter;var forEach=__dependency9__.forEach;var indexOf=__dependency9__.indexOf;var map=__dependency9__.map;var Logger=__dependency10__["default"];var get=__dependency11__.get;var getWithDefault=__dependency11__.getWithDefault;var normalizeTuple=__dependency11__.normalizeTuple;var _getPath=__dependency11__._getPath;var on=__dependency12__.on;var addListener=__dependency12__.addListener;var removeListener=__dependency12__.removeListener;var suspendListener=__dependency12__.suspendListener;var suspendListeners=__dependency12__.suspendListeners;var sendEvent=__dependency12__.sendEvent;var hasListeners=__dependency12__.hasListeners;var watchedEvents=__dependency12__.watchedEvents;var listenersFor=__dependency12__.listenersFor;var listenersDiff=__dependency12__.listenersDiff;var listenersUnion=__dependency12__.listenersUnion;var ObserverSet=__dependency13__["default"];var propertyWillChange=__dependency14__.propertyWillChange;var propertyDidChange=__dependency14__.propertyDidChange;var overrideChains=__dependency14__.overrideChains;var beginPropertyChanges=__dependency14__.beginPropertyChanges;var endPropertyChanges=__dependency14__.endPropertyChanges;var changeProperties=__dependency14__.changeProperties;var Descriptor=__dependency15__.Descriptor;var defineProperty=__dependency15__.defineProperty;var set=__dependency16__.set;var trySet=__dependency16__.trySet;var OrderedSet=__dependency17__.OrderedSet;var Map=__dependency17__.Map;var MapWithDefault=__dependency17__.MapWithDefault;var getProperties=__dependency18__["default"];var setProperties=__dependency19__["default"];var watchKey=__dependency20__.watchKey;var unwatchKey=__dependency20__.unwatchKey;var flushPendingChains=__dependency21__.flushPendingChains;var removeChainWatcher=__dependency21__.removeChainWatcher;var ChainNode=__dependency21__.ChainNode;var finishChains=__dependency21__.finishChains;var watchPath=__dependency22__.watchPath;var unwatchPath=__dependency22__.unwatchPath;var watch=__dependency23__.watch;var isWatching=__dependency23__.isWatching;var unwatch=__dependency23__.unwatch;var rewatch=__dependency23__.rewatch;var destroy=__dependency23__.destroy;var expandProperties=__dependency24__["default"];var ComputedProperty=__dependency25__.ComputedProperty;var computed=__dependency25__.computed;var cacheFor=__dependency25__.cacheFor;var addObserver=__dependency27__.addObserver;var observersFor=__dependency27__.observersFor;var removeObserver=__dependency27__.removeObserver;var addBeforeObserver=__dependency27__.addBeforeObserver;var _suspendBeforeObserver=__dependency27__._suspendBeforeObserver;var _suspendObserver=__dependency27__._suspendObserver;var _suspendBeforeObservers=__dependency27__._suspendBeforeObservers;var _suspendObservers=__dependency27__._suspendObservers;var beforeObserversFor=__dependency27__.beforeObserversFor;var removeBeforeObserver=__dependency27__.removeBeforeObserver;var IS_BINDING=__dependency28__.IS_BINDING;var mixin=__dependency28__.mixin;var Mixin=__dependency28__.Mixin;var required=__dependency28__.required;var aliasMethod=__dependency28__.aliasMethod;var observer=__dependency28__.observer;var immediateObserver=__dependency28__.immediateObserver;var beforeObserver=__dependency28__.beforeObserver;var Binding=__dependency29__.Binding;var isGlobalPath=__dependency29__.isGlobalPath;var bind=__dependency29__.bind;var oneWay=__dependency29__.oneWay;var run=__dependency30__["default"];var libraries=__dependency31__["default"];var isNone=__dependency32__.isNone;var none=__dependency32__.none;var isEmpty=__dependency33__.isEmpty;var empty=__dependency33__.empty;var isBlank=__dependency34__["default"];var isPresent=__dependency35__["default"];var keys=__dependency36__["default"];var EmberInstrumentation=Ember.Instrumentation={};EmberInstrumentation.instrument=instrument;EmberInstrumentation.subscribe=subscribe;EmberInstrumentation.unsubscribe=unsubscribe;EmberInstrumentation.reset=reset;Ember.instrument=instrument;Ember.subscribe=subscribe;Ember._Cache=Cache;Ember.generateGuid=generateGuid;Ember.GUID_KEY=GUID_KEY;Ember.create=create;Ember.keys=keys;Ember.platform={defineProperty:defineProperty,hasPropertyAccessors:hasPropertyAccessors};var EmberArrayPolyfills=Ember.ArrayPolyfills={};EmberArrayPolyfills.map=map;EmberArrayPolyfills.forEach=forEach;EmberArrayPolyfills.filter=filter;EmberArrayPolyfills.indexOf=indexOf;Ember.Error=EmberError;Ember.guidFor=guidFor;Ember.META_DESC=META_DESC;Ember.EMPTY_META=EMPTY_META;Ember.meta=meta;Ember.getMeta=getMeta;Ember.setMeta=setMeta;Ember.metaPath=metaPath;Ember.inspect=inspect;Ember.typeOf=typeOf;Ember.tryCatchFinally=tryCatchFinally;Ember.isArray=isArray;Ember.makeArray=makeArray;Ember.canInvoke=canInvoke;Ember.tryInvoke=tryInvoke;Ember.tryFinally=tryFinally;Ember.wrap=wrap;Ember.apply=apply;Ember.applyStr=applyStr;Ember.uuid=uuid;Ember.Logger=Logger;Ember.get=get;Ember.getWithDefault=getWithDefault;Ember.normalizeTuple=normalizeTuple;Ember._getPath=_getPath;Ember.EnumerableUtils=EnumerableUtils;Ember.on=on;Ember.addListener=addListener;Ember.removeListener=removeListener;Ember._suspendListener=suspendListener;Ember._suspendListeners=suspendListeners;Ember.sendEvent=sendEvent;Ember.hasListeners=hasListeners;Ember.watchedEvents=watchedEvents;Ember.listenersFor=listenersFor;Ember.listenersDiff=listenersDiff;Ember.listenersUnion=listenersUnion;Ember._ObserverSet=ObserverSet;Ember.propertyWillChange=propertyWillChange;Ember.propertyDidChange=propertyDidChange;Ember.overrideChains=overrideChains;Ember.beginPropertyChanges=beginPropertyChanges;Ember.endPropertyChanges=endPropertyChanges;Ember.changeProperties=changeProperties;Ember.Descriptor=Descriptor;Ember.defineProperty=defineProperty;Ember.set=set;Ember.trySet=trySet;Ember.OrderedSet=OrderedSet;Ember.Map=Map;Ember.MapWithDefault=MapWithDefault;Ember.getProperties=getProperties;Ember.setProperties=setProperties;Ember.watchKey=watchKey;Ember.unwatchKey=unwatchKey;Ember.flushPendingChains=flushPendingChains;Ember.removeChainWatcher=removeChainWatcher;Ember._ChainNode=ChainNode;Ember.finishChains=finishChains;Ember.watchPath=watchPath;Ember.unwatchPath=unwatchPath;Ember.watch=watch;Ember.isWatching=isWatching;Ember.unwatch=unwatch;Ember.rewatch=rewatch;Ember.destroy=destroy;Ember.expandProperties=expandProperties;Ember.ComputedProperty=ComputedProperty;Ember.computed=computed;Ember.cacheFor=cacheFor;Ember.addObserver=addObserver;Ember.observersFor=observersFor;Ember.removeObserver=removeObserver;Ember.addBeforeObserver=addBeforeObserver;Ember._suspendBeforeObserver=_suspendBeforeObserver;Ember._suspendBeforeObservers=_suspendBeforeObservers;Ember._suspendObserver=_suspendObserver;Ember._suspendObservers=_suspendObservers;Ember.beforeObserversFor=beforeObserversFor;Ember.removeBeforeObserver=removeBeforeObserver;Ember.IS_BINDING=IS_BINDING;Ember.required=required;Ember.aliasMethod=aliasMethod;Ember.observer=observer;Ember.immediateObserver=immediateObserver;Ember.beforeObserver=beforeObserver;Ember.mixin=mixin;Ember.Mixin=Mixin;Ember.oneWay=oneWay;Ember.bind=bind;Ember.Binding=Binding;Ember.isGlobalPath=isGlobalPath;Ember.run=run;Ember.libraries=libraries;Ember.libraries.registerCoreLibrary("Ember",Ember.VERSION);Ember.isNone=isNone;Ember.none=none;Ember.isEmpty=isEmpty;Ember.empty=empty;Ember.isBlank=isBlank;Ember.isPresent=isPresent;Ember.merge=merge;Ember.onerror=null;if(Ember.__loader.registry["ember-debug"]){requireModule("ember-debug")}__exports__["default"]=Ember});enifed("ember-metal/alias",["ember-metal/property_get","ember-metal/property_set","ember-metal/error","ember-metal/properties","ember-metal/computed","ember-metal/platform","ember-metal/utils","ember-metal/dependent_keys","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var get=__dependency1__.get;var set=__dependency2__.set;var EmberError=__dependency3__["default"];var Descriptor=__dependency4__.Descriptor;var defineProperty=__dependency4__.defineProperty;var ComputedProperty=__dependency5__.ComputedProperty;var create=__dependency6__.create;var meta=__dependency7__.meta;var inspect=__dependency7__.inspect;var addDependentKeys=__dependency8__.addDependentKeys;var removeDependentKeys=__dependency8__.removeDependentKeys;function alias(altKey){return new AliasedProperty(altKey)}__exports__.alias=alias;function AliasedProperty(altKey){this.altKey=altKey;this._dependentKeys=[altKey]}__exports__.AliasedProperty=AliasedProperty;AliasedProperty.prototype=create(Descriptor.prototype);AliasedProperty.prototype.get=function AliasedProperty_get(obj,keyName){return get(obj,this.altKey)};AliasedProperty.prototype.set=function AliasedProperty_set(obj,keyName,value){return set(obj,this.altKey,value)};AliasedProperty.prototype.willWatch=function(obj,keyName){addDependentKeys(this,obj,keyName,meta(obj))};AliasedProperty.prototype.didUnwatch=function(obj,keyName){removeDependentKeys(this,obj,keyName,meta(obj))};AliasedProperty.prototype.setup=function(obj,keyName){var m=meta(obj);if(m.watching[keyName]){addDependentKeys(this,obj,keyName,m)}};AliasedProperty.prototype.teardown=function(obj,keyName){var m=meta(obj);if(m.watching[keyName]){removeDependentKeys(this,obj,keyName,m)}};AliasedProperty.prototype.readOnly=function(){this.set=AliasedProperty_readOnlySet;return this};function AliasedProperty_readOnlySet(obj,keyName,value){throw new EmberError('Cannot set read-only property "'+keyName+'" on object: '+inspect(obj))}AliasedProperty.prototype.oneWay=function(){this.set=AliasedProperty_oneWaySet;return this};function AliasedProperty_oneWaySet(obj,keyName,value){defineProperty(obj,keyName,null);return set(obj,keyName,value)}AliasedProperty.prototype._meta=undefined;AliasedProperty.prototype.meta=ComputedProperty.prototype.meta});enifed("ember-metal/array",["exports"],function(__exports__){"use strict";var ArrayPrototype=Array.prototype;var isNativeFunc=function(func){return func&&Function.prototype.toString.call(func).indexOf("[native code]")>-1};var defineNativeShim=function(nativeFunc,shim){if(isNativeFunc(nativeFunc)){return nativeFunc}return shim};var map=defineNativeShim(ArrayPrototype.map,function(fun){if(this===void 0||this===null||typeof fun!=="function"){throw new TypeError}var t=Object(this);var len=t.length>>>0;var res=new Array(len);var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){res[i]=fun.call(thisp,t[i],i,t)}}return res});var forEach=defineNativeShim(ArrayPrototype.forEach,function(fun){if(this===void 0||this===null||typeof fun!=="function"){throw new TypeError}var t=Object(this);var len=t.length>>>0;var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){fun.call(thisp,t[i],i,t)}}});var indexOf=defineNativeShim(ArrayPrototype.indexOf,function(obj,fromIndex){if(fromIndex===null||fromIndex===undefined){fromIndex=0}else if(fromIndex<0){fromIndex=Math.max(0,this.length+fromIndex)}for(var i=fromIndex,j=this.length;i<j;i++){if(this[i]===obj){return i}}return-1});var lastIndexOf=defineNativeShim(ArrayPrototype.lastIndexOf,function(obj,fromIndex){var len=this.length;var idx;if(fromIndex===undefined)fromIndex=len-1;else fromIndex=fromIndex<0?Math.ceil(fromIndex):Math.floor(fromIndex);if(fromIndex<0)fromIndex+=len;for(idx=fromIndex;idx>=0;idx--){if(this[idx]===obj)return idx}return-1});var filter=defineNativeShim(ArrayPrototype.filter,function(fn,context){var i,value;var result=[];var length=this.length;for(i=0;i<length;i++){if(this.hasOwnProperty(i)){value=this[i];if(fn.call(context,value,i,this)){result.push(value)}}}return result});if(Ember.SHIM_ES5){ArrayPrototype.map=ArrayPrototype.map||map;ArrayPrototype.forEach=ArrayPrototype.forEach||forEach;ArrayPrototype.filter=ArrayPrototype.filter||filter;ArrayPrototype.indexOf=ArrayPrototype.indexOf||indexOf;ArrayPrototype.lastIndexOf=ArrayPrototype.lastIndexOf||lastIndexOf}__exports__.map=map;__exports__.forEach=forEach;__exports__.filter=filter;__exports__.indexOf=indexOf;__exports__.lastIndexOf=lastIndexOf});enifed("ember-metal/binding",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/observer","ember-metal/run_loop","ember-metal/path_cache","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var trySet=__dependency3__.trySet;var guidFor=__dependency4__.guidFor;var addObserver=__dependency5__.addObserver;var removeObserver=__dependency5__.removeObserver;var _suspendObserver=__dependency5__._suspendObserver;var run=__dependency6__["default"];var isGlobalPath=__dependency7__.isGlobal;Ember.LOG_BINDINGS=false||!!Ember.ENV.LOG_BINDINGS;function getWithGlobals(obj,path){return get(isGlobalPath(path)?Ember.lookup:obj,path)}function Binding(toPath,fromPath){this._direction=undefined;this._from=fromPath;this._to=toPath;this._readyToSync=undefined;this._oneWay=undefined}Binding.prototype={copy:function(){var copy=new Binding(this._to,this._from);if(this._oneWay){copy._oneWay=true}return copy},from:function(path){this._from=path;return this},to:function(path){this._to=path;return this},oneWay:function(){this._oneWay=true;return this},toString:function(){var oneWay=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+guidFor(this)+">("+this._from+" -> "+this._to+")"+oneWay},connect:function(obj){var fromPath=this._from;var toPath=this._to;trySet(obj,toPath,getWithGlobals(obj,fromPath));addObserver(obj,fromPath,this,this.fromDidChange);if(!this._oneWay){addObserver(obj,toPath,this,this.toDidChange)}this._readyToSync=true;return this},disconnect:function(obj){var twoWay=!this._oneWay;removeObserver(obj,this._from,this,this.fromDidChange);if(twoWay){removeObserver(obj,this._to,this,this.toDidChange)}this._readyToSync=false;return this},fromDidChange:function(target){this._scheduleSync(target,"fwd")},toDidChange:function(target){this._scheduleSync(target,"back")},_scheduleSync:function(obj,dir){var existingDir=this._direction;if(existingDir===undefined){run.schedule("sync",this,this._sync,obj);this._direction=dir}if(existingDir==="back"&&dir==="fwd"){this._direction="fwd"}},_sync:function(obj){var log=Ember.LOG_BINDINGS;if(obj.isDestroyed||!this._readyToSync){return}var direction=this._direction;var fromPath=this._from;var toPath=this._to;this._direction=undefined;if(direction==="fwd"){var fromValue=getWithGlobals(obj,this._from);if(log){Ember.Logger.log(" ",this.toString(),"->",fromValue,obj)}if(this._oneWay){trySet(obj,toPath,fromValue)}else{_suspendObserver(obj,toPath,this,this.toDidChange,function(){trySet(obj,toPath,fromValue)})}}else if(direction==="back"){var toValue=get(obj,this._to);if(log){Ember.Logger.log(" ",this.toString(),"<-",toValue,obj)}_suspendObserver(obj,fromPath,this,this.fromDidChange,function(){trySet(isGlobalPath(fromPath)?Ember.lookup:obj,fromPath,toValue)})}}};function mixinProperties(to,from){for(var key in from){if(from.hasOwnProperty(key)){to[key]=from[key]}}}mixinProperties(Binding,{from:function(from){var C=this;return new C(undefined,from)},to:function(to){var C=this;return new C(to,undefined)},oneWay:function(from,flag){var C=this;return new C(undefined,from).oneWay(flag)}});function bind(obj,to,from){return new Binding(to,from).connect(obj)}__exports__.bind=bind;function oneWay(obj,to,from){return new Binding(to,from).oneWay().connect(obj)}__exports__.oneWay=oneWay;__exports__.Binding=Binding;__exports__.isGlobalPath=isGlobalPath});enifed("ember-metal/cache",["ember-metal/dictionary","exports"],function(__dependency1__,__exports__){"use strict";var dictionary=__dependency1__["default"];__exports__["default"]=Cache;function Cache(limit,func){this.store=dictionary(null);this.size=0;this.misses=0;this.hits=0;this.limit=limit;this.func=func}var FALSE=function(){};var ZERO=function(){};var UNDEFINED=function(){};var NULL=function(){};Cache.prototype={set:function(key,value){if(this.limit>this.size){this.size++;if(value===undefined){this.store[key]=UNDEFINED}else{this.store[key]=value}}return value},get:function(key){var value=this.store[key];if(value===undefined){this.misses++;value=this.set(key,this.func(key))}else if(value===UNDEFINED){this.hits++;value=undefined}else{this.hits++}return value},purge:function(){this.store=dictionary(null);this.size=0;this.hits=0;this.misses=0}}});enifed("ember-metal/chains",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/array","ember-metal/watch_key","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var normalizeTuple=__dependency2__.normalizeTuple;var meta=__dependency3__.meta;var forEach=__dependency4__.forEach;var watchKey=__dependency5__.watchKey;var unwatchKey=__dependency5__.unwatchKey;var metaFor=meta;var warn=Ember.warn;var FIRST_KEY=/^([^\.]+)/;function firstKey(path){return path.match(FIRST_KEY)[0]}var pendingQueue=[];function flushPendingChains(){if(pendingQueue.length===0){return}var queue=pendingQueue;pendingQueue=[];forEach.call(queue,function(q){q[0].add(q[1])});warn("Watching an undefined global, Ember expects watched globals to be setup by the time the run loop is flushed, check for typos",pendingQueue.length===0)}__exports__.flushPendingChains=flushPendingChains;function addChainWatcher(obj,keyName,node){if(!obj||"object"!==typeof obj){return}var m=metaFor(obj);var nodes=m.chainWatchers;if(!m.hasOwnProperty("chainWatchers")){nodes=m.chainWatchers={}}if(!nodes[keyName]){nodes[keyName]=[]}nodes[keyName].push(node);watchKey(obj,keyName,m)}function removeChainWatcher(obj,keyName,node){if(!obj||"object"!==typeof obj){return}var m=obj["__ember_meta__"];if(m&&!m.hasOwnProperty("chainWatchers")){return}var nodes=m&&m.chainWatchers;if(nodes&&nodes[keyName]){nodes=nodes[keyName];for(var i=0,l=nodes.length;i<l;i++){if(nodes[i]===node){nodes.splice(i,1);break}}}unwatchKey(obj,keyName,m)}function ChainNode(parent,key,value){this._parent=parent;this._key=key;this._watching=value===undefined;this._value=value;this._paths={};if(this._watching){this._object=parent.value();if(this._object){addChainWatcher(this._object,this._key,this)}}if(this._parent&&this._parent._key==="@each"){this.value()}}var ChainNodePrototype=ChainNode.prototype;function lazyGet(obj,key){if(!obj)return undefined;var meta=obj["__ember_meta__"];if(meta&&meta.proto===obj)return undefined;if(key==="@each")return get(obj,key);var desc=meta&&meta.descs[key];if(desc&&desc._cacheable){if(key in meta.cache){return meta.cache[key]}else{return undefined}}return get(obj,key)}ChainNodePrototype.value=function(){if(this._value===undefined&&this._watching){var obj=this._parent.value();this._value=lazyGet(obj,this._key)}return this._value};ChainNodePrototype.destroy=function(){if(this._watching){var obj=this._object;if(obj){removeChainWatcher(obj,this._key,this)}this._watching=false}};ChainNodePrototype.copy=function(obj){var ret=new ChainNode(null,null,obj);var paths=this._paths;var path;for(path in paths){if(paths[path]<=0){continue}ret.add(path)}return ret};ChainNodePrototype.add=function(path){var obj,tuple,key,src,paths;paths=this._paths;paths[path]=(paths[path]||0)+1;obj=this.value();tuple=normalizeTuple(obj,path);if(tuple[0]&&tuple[0]===obj){path=tuple[1];key=firstKey(path);path=path.slice(key.length+1)}else if(!tuple[0]){pendingQueue.push([this,path]);tuple.length=0;return}else{src=tuple[0];key=path.slice(0,0-(tuple[1].length+1));path=tuple[1]}tuple.length=0;this.chain(key,path,src)};ChainNodePrototype.remove=function(path){var obj,tuple,key,src,paths;paths=this._paths;if(paths[path]>0){paths[path]--}obj=this.value();tuple=normalizeTuple(obj,path);if(tuple[0]===obj){path=tuple[1];key=firstKey(path);path=path.slice(key.length+1)}else{src=tuple[0];key=path.slice(0,0-(tuple[1].length+1));path=tuple[1]}tuple.length=0;this.unchain(key,path)};ChainNodePrototype.count=0;ChainNodePrototype.chain=function(key,path,src){var chains=this._chains;var node;if(!chains){chains=this._chains={}}node=chains[key];if(!node){node=chains[key]=new ChainNode(this,key,src)}node.count++;if(path){key=firstKey(path);path=path.slice(key.length+1);node.chain(key,path)}};ChainNodePrototype.unchain=function(key,path){var chains=this._chains;var node=chains[key];if(path&&path.length>1){key=firstKey(path);path=path.slice(key.length+1);node.unchain(key,path)}node.count--;if(node.count<=0){delete chains[node._key];node.destroy()}};ChainNodePrototype.willChange=function(events){var chains=this._chains;if(chains){for(var key in chains){if(!chains.hasOwnProperty(key)){continue}chains[key].willChange(events)}}if(this._parent){this._parent.chainWillChange(this,this._key,1,events)}};ChainNodePrototype.chainWillChange=function(chain,path,depth,events){if(this._key){path=this._key+"."+path}if(this._parent){this._parent.chainWillChange(this,path,depth+1,events)}else{if(depth>1){events.push(this.value(),path)}path="this."+path;if(this._paths[path]>0){events.push(this.value(),path)}}};ChainNodePrototype.chainDidChange=function(chain,path,depth,events){if(this._key){path=this._key+"."+path}if(this._parent){this._parent.chainDidChange(this,path,depth+1,events)}else{if(depth>1){events.push(this.value(),path)}path="this."+path;if(this._paths[path]>0){events.push(this.value(),path)}}};ChainNodePrototype.didChange=function(events){if(this._watching){var obj=this._parent.value();if(obj!==this._object){removeChainWatcher(this._object,this._key,this);this._object=obj;addChainWatcher(obj,this._key,this)}this._value=undefined;if(this._parent&&this._parent._key==="@each")this.value()}var chains=this._chains;if(chains){for(var key in chains){if(!chains.hasOwnProperty(key)){continue}chains[key].didChange(events)}}if(events===null){return}if(this._parent){this._parent.chainDidChange(this,this._key,1,events)}};function finishChains(obj){var m=obj["__ember_meta__"],chains,chainWatchers,chainNodes;if(m){chainWatchers=m.chainWatchers;if(chainWatchers){for(var key in chainWatchers){if(!chainWatchers.hasOwnProperty(key)){continue}chainNodes=chainWatchers[key];if(chainNodes){for(var i=0,l=chainNodes.length;i<l;i++){chainNodes[i].didChange(null)}}}}chains=m.chains;if(chains&&chains.value()!==obj){metaFor(obj).chains=chains=chains.copy(obj)}}}__exports__.finishChains=finishChains;__exports__.removeChainWatcher=removeChainWatcher;__exports__.ChainNode=ChainNode});enifed("ember-metal/computed",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/expand_properties","ember-metal/error","ember-metal/properties","ember-metal/property_events","ember-metal/dependent_keys","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__exports__){"use strict";
var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var meta=__dependency4__.meta;var inspect=__dependency4__.inspect;var expandProperties=__dependency5__["default"];var EmberError=__dependency6__["default"];var Descriptor=__dependency7__.Descriptor;var defineProperty=__dependency7__.defineProperty;var propertyWillChange=__dependency8__.propertyWillChange;var propertyDidChange=__dependency8__.propertyDidChange;var addDependentKeys=__dependency9__.addDependentKeys;var removeDependentKeys=__dependency9__.removeDependentKeys;var metaFor=meta;var a_slice=[].slice;function UNDEFINED(){}function ComputedProperty(func,opts){func.__ember_arity__=func.length;this.func=func;this._cacheable=opts&&opts.cacheable!==undefined?opts.cacheable:true;this._dependentKeys=opts&&opts.dependentKeys;this._readOnly=opts&&(opts.readOnly!==undefined||!!opts.readOnly)||false}ComputedProperty.prototype=new Descriptor;var ComputedPropertyPrototype=ComputedProperty.prototype;ComputedPropertyPrototype._dependentKeys=undefined;ComputedPropertyPrototype._suspended=undefined;ComputedPropertyPrototype._meta=undefined;ComputedPropertyPrototype.cacheable=function(aFlag){this._cacheable=aFlag!==false;return this};ComputedPropertyPrototype["volatile"]=function(){return this.cacheable(false)};ComputedPropertyPrototype.readOnly=function(readOnly){this._readOnly=readOnly===undefined||!!readOnly;return this};ComputedPropertyPrototype.property=function(){var args;var addArg=function(property){args.push(property)};args=[];for(var i=0,l=arguments.length;i<l;i++){expandProperties(arguments[i],addArg)}this._dependentKeys=args;return this};ComputedPropertyPrototype.meta=function(meta){if(arguments.length===0){return this._meta||{}}else{this._meta=meta;return this}};ComputedPropertyPrototype.didChange=function(obj,keyName){if(this._cacheable&&this._suspended!==obj){var meta=metaFor(obj);if(meta.cache[keyName]!==undefined){meta.cache[keyName]=undefined;removeDependentKeys(this,obj,keyName,meta)}}};function finishChains(chainNodes){for(var i=0,l=chainNodes.length;i<l;i++){chainNodes[i].didChange(null)}}ComputedPropertyPrototype.get=function(obj,keyName){var ret,cache,meta,chainNodes;if(this._cacheable){meta=metaFor(obj);cache=meta.cache;var result=cache[keyName];if(result===UNDEFINED){return undefined}else if(result!==undefined){return result}ret=this.func.call(obj,keyName);if(ret===undefined){cache[keyName]=UNDEFINED}else{cache[keyName]=ret}chainNodes=meta.chainWatchers&&meta.chainWatchers[keyName];if(chainNodes){finishChains(chainNodes)}addDependentKeys(this,obj,keyName,meta)}else{ret=this.func.call(obj,keyName)}return ret};ComputedPropertyPrototype.set=function computedPropertySetWithSuspend(obj,keyName,value){var oldSuspended=this._suspended;this._suspended=obj;try{this._set(obj,keyName,value)}finally{this._suspended=oldSuspended}};ComputedPropertyPrototype._set=function computedPropertySet(obj,keyName,value){var cacheable=this._cacheable;var func=this.func;var meta=metaFor(obj,cacheable);var cache=meta.cache;var hadCachedValue=false;var funcArgLength,cachedValue,ret;if(this._readOnly){throw new EmberError('Cannot set read-only property "'+keyName+'" on object: '+inspect(obj))}if(cacheable&&cache[keyName]!==undefined){if(cache[keyName]!==UNDEFINED){cachedValue=cache[keyName]}hadCachedValue=true}funcArgLength=func.wrappedFunction?func.wrappedFunction.__ember_arity__:func.__ember_arity__;if(funcArgLength===3){ret=func.call(obj,keyName,value,cachedValue)}else if(funcArgLength===2){ret=func.call(obj,keyName,value)}else{defineProperty(obj,keyName,null,cachedValue);set(obj,keyName,value);return}if(hadCachedValue&&cachedValue===ret){return}var watched=meta.watching[keyName];if(watched){propertyWillChange(obj,keyName)}if(hadCachedValue){cache[keyName]=undefined}if(cacheable){if(!hadCachedValue){addDependentKeys(this,obj,keyName,meta)}if(ret===undefined){cache[keyName]=UNDEFINED}else{cache[keyName]=ret}}if(watched){propertyDidChange(obj,keyName)}return ret};ComputedPropertyPrototype.teardown=function(obj,keyName){var meta=metaFor(obj);if(keyName in meta.cache){removeDependentKeys(this,obj,keyName,meta)}if(this._cacheable){delete meta.cache[keyName]}return null};function computed(func){var args;if(arguments.length>1){args=a_slice.call(arguments);func=args.pop()}if(typeof func!=="function"){throw new EmberError("Computed Property declared without a property function")}var cp=new ComputedProperty(func);if(args){cp.property.apply(cp,args)}return cp}function cacheFor(obj,key){var meta=obj["__ember_meta__"];var cache=meta&&meta.cache;var ret=cache&&cache[key];if(ret===UNDEFINED){return undefined}return ret}cacheFor.set=function(cache,key,value){if(value===undefined){cache[key]=UNDEFINED}else{cache[key]=value}};cacheFor.get=function(cache,key){var ret=cache[key];if(ret===UNDEFINED){return undefined}return ret};cacheFor.remove=function(cache,key){cache[key]=undefined};__exports__.ComputedProperty=ComputedProperty;__exports__.computed=computed;__exports__.cacheFor=cacheFor});enifed("ember-metal/computed_macros",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/is_empty","ember-metal/is_none","ember-metal/alias"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var computed=__dependency4__.computed;var isEmpty=__dependency5__["default"];var isNone=__dependency6__.isNone;var alias=__dependency7__.alias;var a_slice=[].slice;function getProperties(self,propertyNames){var ret={};for(var i=0;i<propertyNames.length;i++){ret[propertyNames[i]]=get(self,propertyNames[i])}return ret}function registerComputed(name,macro){computed[name]=function(dependentKey){var args=a_slice.call(arguments);return computed(dependentKey,function(){return macro.apply(this,args)})}}function registerComputedWithProperties(name,macro){computed[name]=function(){var properties=a_slice.call(arguments);var computedFunc=computed(function(){return macro.apply(this,[getProperties(this,properties)])});return computedFunc.property.apply(computedFunc,properties)}}computed.empty=function(dependentKey){return computed(dependentKey+".length",function(){return isEmpty(get(this,dependentKey))})};computed.notEmpty=function(dependentKey){return computed(dependentKey+".length",function(){return!isEmpty(get(this,dependentKey))})};registerComputed("none",function(dependentKey){return isNone(get(this,dependentKey))});registerComputed("not",function(dependentKey){return!get(this,dependentKey)});registerComputed("bool",function(dependentKey){return!!get(this,dependentKey)});registerComputed("match",function(dependentKey,regexp){var value=get(this,dependentKey);return typeof value==="string"?regexp.test(value):false});registerComputed("equal",function(dependentKey,value){return get(this,dependentKey)===value});registerComputed("gt",function(dependentKey,value){return get(this,dependentKey)>value});registerComputed("gte",function(dependentKey,value){return get(this,dependentKey)>=value});registerComputed("lt",function(dependentKey,value){return get(this,dependentKey)<value});registerComputed("lte",function(dependentKey,value){return get(this,dependentKey)<=value});registerComputedWithProperties("and",function(properties){for(var key in properties){if(properties.hasOwnProperty(key)&&!properties[key]){return false}}return true});registerComputedWithProperties("or",function(properties){for(var key in properties){if(properties.hasOwnProperty(key)&&properties[key]){return true}}return false});registerComputedWithProperties("any",function(properties){for(var key in properties){if(properties.hasOwnProperty(key)&&properties[key]){return properties[key]}}return null});registerComputedWithProperties("collect",function(properties){var res=[];for(var key in properties){if(properties.hasOwnProperty(key)){if(isNone(properties[key])){res.push(null)}else{res.push(properties[key])}}}return res});computed.alias=alias;computed.oneWay=function(dependentKey){return alias(dependentKey).oneWay()};computed.reads=computed.oneWay;computed.readOnly=function(dependentKey){return alias(dependentKey).readOnly()};computed.defaultTo=function(defaultPath){return computed(function(key,newValue,cachedValue){if(arguments.length===1){return get(this,defaultPath)}return newValue!=null?newValue:get(this,defaultPath)})};computed.deprecatingAlias=function(dependentKey){return computed(dependentKey,function(key,value){if(arguments.length>1){set(this,dependentKey,value);return value}else{return get(this,dependentKey)}})}});enifed("ember-metal/core",["exports"],function(__exports__){"use strict";if("undefined"===typeof Ember){Ember={}}var imports=Ember.imports=Ember.imports||this;var exports=Ember.exports=Ember.exports||this;var lookup=Ember.lookup=Ember.lookup||this;exports.Em=exports.Ember=Ember;Ember.isNamespace=true;Ember.toString=function(){return"Ember"};Ember.VERSION="1.8.1";if(Ember.ENV){}else if("undefined"!==typeof EmberENV){Ember.ENV=EmberENV}else if("undefined"!==typeof ENV){Ember.ENV=ENV}else{Ember.ENV={}}Ember.config=Ember.config||{};if("undefined"===typeof Ember.ENV.DISABLE_RANGE_API){Ember.ENV.DISABLE_RANGE_API=true}if("undefined"===typeof MetamorphENV){exports.MetamorphENV={}}MetamorphENV.DISABLE_RANGE_API=Ember.ENV.DISABLE_RANGE_API;Ember.FEATURES=Ember.ENV.FEATURES||{};Ember.FEATURES.isEnabled=function(feature){var featureValue=Ember.FEATURES[feature];if(Ember.ENV.ENABLE_ALL_FEATURES){return true}else if(featureValue===true||featureValue===false||featureValue===undefined){return featureValue}else if(Ember.ENV.ENABLE_OPTIONAL_FEATURES){return true}else{return false}};Ember.EXTEND_PROTOTYPES=Ember.ENV.EXTEND_PROTOTYPES;if(typeof Ember.EXTEND_PROTOTYPES==="undefined"){Ember.EXTEND_PROTOTYPES=true}Ember.LOG_STACKTRACE_ON_DEPRECATION=Ember.ENV.LOG_STACKTRACE_ON_DEPRECATION!==false;Ember.SHIM_ES5=Ember.ENV.SHIM_ES5===false?false:Ember.EXTEND_PROTOTYPES;Ember.LOG_VERSION=Ember.ENV.LOG_VERSION===false?false:true;var K=function(){return this};var K=K;__exports__.K=K;Ember.K=K;if("undefined"===typeof Ember.assert){Ember.assert=Ember.K}if("undefined"===typeof Ember.warn){Ember.warn=Ember.K}if("undefined"===typeof Ember.debug){Ember.debug=Ember.K}if("undefined"===typeof Ember.runInDebug){Ember.runInDebug=Ember.K}if("undefined"===typeof Ember.deprecate){Ember.deprecate=Ember.K}if("undefined"===typeof Ember.deprecateFunc){Ember.deprecateFunc=function(_,func){return func}}__exports__["default"]=Ember});enifed("ember-metal/dependent_keys",["ember-metal/platform","ember-metal/watching","exports"],function(__dependency1__,__dependency2__,__exports__){var o_create=__dependency1__.create;var watch=__dependency2__.watch;var unwatch=__dependency2__.unwatch;function keysForDep(depsMeta,depKey){var keys=depsMeta[depKey];if(!keys){keys=depsMeta[depKey]={}}else if(!depsMeta.hasOwnProperty(depKey)){keys=depsMeta[depKey]=o_create(keys)}return keys}function metaForDeps(meta){return keysForDep(meta,"deps")}function addDependentKeys(desc,obj,keyName,meta){var depKeys=desc._dependentKeys,depsMeta,idx,len,depKey,keys;if(!depKeys)return;depsMeta=metaForDeps(meta);for(idx=0,len=depKeys.length;idx<len;idx++){depKey=depKeys[idx];keys=keysForDep(depsMeta,depKey);keys[keyName]=(keys[keyName]||0)+1;watch(obj,depKey,meta)}}__exports__.addDependentKeys=addDependentKeys;function removeDependentKeys(desc,obj,keyName,meta){var depKeys=desc._dependentKeys,depsMeta,idx,len,depKey,keys;if(!depKeys)return;depsMeta=metaForDeps(meta);for(idx=0,len=depKeys.length;idx<len;idx++){depKey=depKeys[idx];keys=keysForDep(depsMeta,depKey);keys[keyName]=(keys[keyName]||0)-1;unwatch(obj,depKey,meta)}}__exports__.removeDependentKeys=removeDependentKeys});enifed("ember-metal/deprecate_property",["ember-metal/core","ember-metal/platform","ember-metal/properties","ember-metal/property_get","ember-metal/property_set","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var Ember=__dependency1__["default"];var hasPropertyAccessors=__dependency2__.hasPropertyAccessors;var defineProperty=__dependency3__.defineProperty;var get=__dependency4__.get;var set=__dependency5__.set;function deprecateProperty(object,deprecatedKey,newKey){function deprecate(){}if(hasPropertyAccessors){defineProperty(object,deprecatedKey,{configurable:true,enumerable:false,set:function(value){deprecate();set(this,newKey,value)},get:function(){deprecate();return get(this,newKey)}})}}__exports__.deprecateProperty=deprecateProperty});enifed("ember-metal/dictionary",["ember-metal/platform","exports"],function(__dependency1__,__exports__){"use strict";var create=__dependency1__.create;__exports__["default"]=function makeDictionary(parent){var dict=create(parent);dict["_dict"]=null;delete dict["_dict"];return dict}});enifed("ember-metal/enumerable_utils",["ember-metal/array","exports"],function(__dependency1__,__exports__){"use strict";var _filter=__dependency1__.filter;var a_forEach=__dependency1__.forEach;var _indexOf=__dependency1__.indexOf;var _map=__dependency1__.map;var splice=Array.prototype.splice;function map(obj,callback,thisArg){return obj.map?obj.map(callback,thisArg):_map.call(obj,callback,thisArg)}__exports__.map=map;function forEach(obj,callback,thisArg){return obj.forEach?obj.forEach(callback,thisArg):a_forEach.call(obj,callback,thisArg)}__exports__.forEach=forEach;function filter(obj,callback,thisArg){return obj.filter?obj.filter(callback,thisArg):_filter.call(obj,callback,thisArg)}__exports__.filter=filter;function indexOf(obj,element,index){return obj.indexOf?obj.indexOf(element,index):_indexOf.call(obj,element,index)}__exports__.indexOf=indexOf;function indexesOf(obj,elements){return elements===undefined?[]:map(elements,function(item){return indexOf(obj,item)})}__exports__.indexesOf=indexesOf;function addObject(array,item){var index=indexOf(array,item);if(index===-1){array.push(item)}}__exports__.addObject=addObject;function removeObject(array,item){var index=indexOf(array,item);if(index!==-1){array.splice(index,1)}}__exports__.removeObject=removeObject;function _replace(array,idx,amt,objects){var args=[].concat(objects);var ret=[];var size=6e4;var start=idx;var ends=amt;var count,chunk;while(args.length){count=ends>size?size:ends;if(count<=0){count=0}chunk=args.splice(0,size);chunk=[start,count].concat(chunk);start+=size;ends-=count;ret=ret.concat(splice.apply(array,chunk))}return ret}__exports__._replace=_replace;function replace(array,idx,amt,objects){if(array.replace){return array.replace(idx,amt,objects)}else{return _replace(array,idx,amt,objects)}}__exports__.replace=replace;function intersection(array1,array2){var result=[];forEach(array1,function(element){if(indexOf(array2,element)>=0){result.push(element)}});return result}__exports__.intersection=intersection;__exports__["default"]={_replace:_replace,addObject:addObject,filter:filter,forEach:forEach,indexOf:indexOf,indexesOf:indexesOf,intersection:intersection,map:map,removeObject:removeObject,replace:replace}});enifed("ember-metal/error",["ember-metal/platform","exports"],function(__dependency1__,__exports__){"use strict";var create=__dependency1__.create;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];function EmberError(){var tmp=Error.apply(this,arguments);if(Error.captureStackTrace){Error.captureStackTrace(this,Ember.Error)}for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}}EmberError.prototype=create(Error.prototype);__exports__["default"]=EmberError});enifed("ember-metal/events",["ember-metal/core","ember-metal/utils","ember-metal/platform","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){var Ember=__dependency1__["default"];var meta=__dependency2__.meta;var tryFinally=__dependency2__.tryFinally;var apply=__dependency2__.apply;var applyStr=__dependency2__.applyStr;var create=__dependency3__.create;var a_slice=[].slice;var metaFor=meta;var ONCE=1;var SUSPENDED=2;function indexOf(array,target,method){var index=-1;for(var i=array.length-3;i>=0;i-=3){if(target===array[i]&&method===array[i+1]){index=i;break}}return index}function actionsFor(obj,eventName){var meta=metaFor(obj,true);var actions;if(!meta.listeners){meta.listeners={}}if(!meta.hasOwnProperty("listeners")){meta.listeners=create(meta.listeners)}actions=meta.listeners[eventName];if(actions&&!meta.listeners.hasOwnProperty(eventName)){actions=meta.listeners[eventName]=meta.listeners[eventName].slice()}else if(!actions){actions=meta.listeners[eventName]=[]}return actions}function listenersUnion(obj,eventName,otherActions){var meta=obj["__ember_meta__"];var actions=meta&&meta.listeners&&meta.listeners[eventName];if(!actions){return}for(var i=actions.length-3;i>=0;i-=3){var target=actions[i];var method=actions[i+1];var flags=actions[i+2];var actionIndex=indexOf(otherActions,target,method);if(actionIndex===-1){otherActions.push(target,method,flags)}}}__exports__.listenersUnion=listenersUnion;function listenersDiff(obj,eventName,otherActions){var meta=obj["__ember_meta__"];var actions=meta&&meta.listeners&&meta.listeners[eventName];var diffActions=[];if(!actions){return}for(var i=actions.length-3;i>=0;i-=3){var target=actions[i];var method=actions[i+1];var flags=actions[i+2];var actionIndex=indexOf(otherActions,target,method);if(actionIndex!==-1){continue}otherActions.push(target,method,flags);diffActions.push(target,method,flags)}return diffActions}__exports__.listenersDiff=listenersDiff;function addListener(obj,eventName,target,method,once){if(!method&&"function"===typeof target){method=target;target=null}var actions=actionsFor(obj,eventName);var actionIndex=indexOf(actions,target,method);var flags=0;if(once)flags|=ONCE;if(actionIndex!==-1){return}actions.push(target,method,flags);if("function"===typeof obj.didAddListener){obj.didAddListener(eventName,target,method)}}__exports__.addListener=addListener;function removeListener(obj,eventName,target,method){if(!method&&"function"===typeof target){method=target;target=null}function _removeListener(target,method){var actions=actionsFor(obj,eventName);var actionIndex=indexOf(actions,target,method);if(actionIndex===-1){return}actions.splice(actionIndex,3);if("function"===typeof obj.didRemoveListener){obj.didRemoveListener(eventName,target,method)}}if(method){_removeListener(target,method)}else{var meta=obj["__ember_meta__"];var actions=meta&&meta.listeners&&meta.listeners[eventName];if(!actions){return}for(var i=actions.length-3;i>=0;i-=3){_removeListener(actions[i],actions[i+1])}}}function suspendListener(obj,eventName,target,method,callback){if(!method&&"function"===typeof target){method=target;target=null}var actions=actionsFor(obj,eventName);var actionIndex=indexOf(actions,target,method);if(actionIndex!==-1){actions[actionIndex+2]|=SUSPENDED}function tryable(){return callback.call(target)}function finalizer(){if(actionIndex!==-1){actions[actionIndex+2]&=~SUSPENDED}}return tryFinally(tryable,finalizer)}__exports__.suspendListener=suspendListener;function suspendListeners(obj,eventNames,target,method,callback){if(!method&&"function"===typeof target){method=target;target=null}var suspendedActions=[];var actionsList=[];var eventName,actions,i,l;for(i=0,l=eventNames.length;i<l;i++){eventName=eventNames[i];actions=actionsFor(obj,eventName);var actionIndex=indexOf(actions,target,method);if(actionIndex!==-1){actions[actionIndex+2]|=SUSPENDED;suspendedActions.push(actionIndex);actionsList.push(actions)}}function tryable(){return callback.call(target)}function finalizer(){for(var i=0,l=suspendedActions.length;i<l;i++){var actionIndex=suspendedActions[i];actionsList[i][actionIndex+2]&=~SUSPENDED}}return tryFinally(tryable,finalizer)}__exports__.suspendListeners=suspendListeners;function watchedEvents(obj){var listeners=obj["__ember_meta__"].listeners,ret=[];if(listeners){for(var eventName in listeners){if(listeners[eventName]){ret.push(eventName)}}}return ret}__exports__.watchedEvents=watchedEvents;function sendEvent(obj,eventName,params,actions){if(obj!==Ember&&"function"===typeof obj.sendEvent){obj.sendEvent(eventName,params)}if(!actions){var meta=obj["__ember_meta__"];actions=meta&&meta.listeners&&meta.listeners[eventName]}if(!actions){return}for(var i=actions.length-3;i>=0;i-=3){var target=actions[i],method=actions[i+1],flags=actions[i+2];if(!method){continue}if(flags&SUSPENDED){continue}if(flags&ONCE){removeListener(obj,eventName,target,method)}if(!target){target=obj}if("string"===typeof method){if(params){applyStr(target,method,params)}else{target[method]()}}else{if(params){apply(target,method,params)}else{method.call(target)}}}return true}__exports__.sendEvent=sendEvent;function hasListeners(obj,eventName){var meta=obj["__ember_meta__"];var actions=meta&&meta.listeners&&meta.listeners[eventName];return!!(actions&&actions.length)}__exports__.hasListeners=hasListeners;function listenersFor(obj,eventName){var ret=[];var meta=obj["__ember_meta__"];var actions=meta&&meta.listeners&&meta.listeners[eventName];if(!actions){return ret}for(var i=0,l=actions.length;i<l;i+=3){var target=actions[i];var method=actions[i+1];ret.push([target,method])}return ret}__exports__.listenersFor=listenersFor;function on(){var func=a_slice.call(arguments,-1)[0];var events=a_slice.call(arguments,0,-1);func.__ember_listens__=events;return func}__exports__.on=on;__exports__.removeListener=removeListener});enifed("ember-metal/expand_properties",["ember-metal/core","ember-metal/error","ember-metal/enumerable_utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var EmberError=__dependency2__["default"];var forEach=__dependency3__.forEach;var BRACE_EXPANSION=/^((?:[^\.]*\.)*)\{(.*)\}$/;var SPLIT_REGEX=/\{|\}/;__exports__["default"]=function expandProperties(pattern,callback){if(pattern.indexOf(" ")>-1){throw new EmberError("Brace expanded properties cannot contain spaces, "+"e.g. `user.{firstName, lastName}` should be `user.{firstName,lastName}`")}return newExpandProperties(pattern,callback)};function oldExpandProperties(pattern,callback){var match,prefix,list;if(match=BRACE_EXPANSION.exec(pattern)){prefix=match[1];list=match[2];forEach(list.split(","),function(suffix){callback(prefix+suffix)})}else{callback(pattern)}}function newExpandProperties(pattern,callback){if("string"===Ember.typeOf(pattern)){var parts=pattern.split(SPLIT_REGEX);var properties=[parts];forEach(parts,function(part,index){if(part.indexOf(",")>=0){properties=duplicateAndReplace(properties,part.split(","),index)}});forEach(properties,function(property){callback(property.join(""))})}else{callback(pattern)}}function duplicateAndReplace(properties,currentParts,index){var all=[];forEach(properties,function(property){forEach(currentParts,function(part){var current=property.slice(0);current[index]=part;all.push(current)})});return all}});enifed("ember-metal/get_properties",["ember-metal/property_get","ember-metal/utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var get=__dependency1__.get;var typeOf=__dependency2__.typeOf;__exports__["default"]=function getProperties(obj){var ret={};var propertyNames=arguments;var i=1;if(arguments.length===2&&typeOf(arguments[1])==="array"){i=0;propertyNames=arguments[1]}for(var len=propertyNames.length;i<len;i++){ret[propertyNames[i]]=get(obj,propertyNames[i])}return ret}});enifed("ember-metal/instrumentation",["ember-metal/core","ember-metal/utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Ember=__dependency1__["default"];var tryCatchFinally=__dependency2__.tryCatchFinally;var subscribers=[];__exports__.subscribers=subscribers;var cache={};var populateListeners=function(name){var listeners=[];var subscriber;for(var i=0,l=subscribers.length;i<l;i++){subscriber=subscribers[i];if(subscriber.regex.test(name)){listeners.push(subscriber.object)}}cache[name]=listeners;return listeners};var time=function(){var perf="undefined"!==typeof window?window.performance||{}:{};var fn=perf.now||perf.mozNow||perf.webkitNow||perf.msNow||perf.oNow;return fn?fn.bind(perf):function(){return+new Date}}();function instrument(name,_payload,callback,binding){if(subscribers.length===0){return callback.call(binding)}var payload=_payload||{};var finalizer=_instrumentStart(name,function(){return payload});if(finalizer){var tryable=function _instrumenTryable(){return callback.call(binding)};var catchable=function _instrumentCatchable(e){payload.exception=e};return tryCatchFinally(tryable,catchable,finalizer)}else{return callback.call(binding)}}__exports__.instrument=instrument;function _instrumentStart(name,_payload){var listeners=cache[name];if(!listeners){listeners=populateListeners(name)}if(listeners.length===0){return}var payload=_payload();var STRUCTURED_PROFILE=Ember.STRUCTURED_PROFILE;var timeName;if(STRUCTURED_PROFILE){timeName=name+": "+payload.object;console.time(timeName)}var l=listeners.length;var beforeValues=new Array(l);var i,listener;var timestamp=time();for(i=0;i<l;i++){listener=listeners[i];beforeValues[i]=listener.before(name,timestamp,payload)}return function _instrumentEnd(){var i,l,listener;var timestamp=time();for(i=0,l=listeners.length;i<l;i++){listener=listeners[i];listener.after(name,timestamp,payload,beforeValues[i])}if(STRUCTURED_PROFILE){console.timeEnd(timeName)}}}__exports__._instrumentStart=_instrumentStart;function subscribe(pattern,object){var paths=pattern.split("."),path,regex=[];for(var i=0,l=paths.length;i<l;i++){path=paths[i];if(path==="*"){regex.push("[^\\.]*")}else{regex.push(path)}}regex=regex.join("\\.");regex=regex+"(\\..*)?";var subscriber={pattern:pattern,regex:new RegExp("^"+regex+"$"),object:object};subscribers.push(subscriber);cache={};return subscriber}__exports__.subscribe=subscribe;function unsubscribe(subscriber){var index;for(var i=0,l=subscribers.length;i<l;i++){if(subscribers[i]===subscriber){index=i}}subscribers.splice(index,1);cache={}}__exports__.unsubscribe=unsubscribe;function reset(){subscribers.length=0;cache={}}__exports__.reset=reset});enifed("ember-metal/is_blank",["ember-metal/core","ember-metal/is_empty","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Ember=__dependency1__["default"];var isEmpty=__dependency2__["default"];__exports__["default"]=function isBlank(obj){return isEmpty(obj)||typeof obj==="string"&&obj.match(/\S/)===null}});enifed("ember-metal/is_empty",["ember-metal/core","ember-metal/property_get","ember-metal/is_none","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var isNone=__dependency3__["default"];function isEmpty(obj){var none=isNone(obj);if(none){return none}if(typeof obj.size==="number"){return!obj.size}var objectType=typeof obj;if(objectType==="object"){var size=get(obj,"size");if(typeof size==="number"){return!size}}if(typeof obj.length==="number"&&objectType!=="function"){return!obj.length}if(objectType==="object"){var length=get(obj,"length");if(typeof length==="number"){return!length}}return false}var empty=Ember.deprecateFunc("Ember.empty is deprecated. Please use Ember.isEmpty instead.",isEmpty);__exports__.empty=empty;__exports__["default"]=isEmpty;__exports__.isEmpty=isEmpty;__exports__.empty=empty});enifed("ember-metal/is_none",["ember-metal/core","exports"],function(__dependency1__,__exports__){"use strict";var Ember=__dependency1__["default"];function isNone(obj){return obj===null||obj===undefined}var none=Ember.deprecateFunc("Ember.none is deprecated. Please use Ember.isNone instead.",isNone);__exports__.none=none;__exports__["default"]=isNone;__exports__.isNone=isNone});enifed("ember-metal/is_present",["ember-metal/is_blank","exports"],function(__dependency1__,__exports__){"use strict";var isBlank=__dependency1__["default"];var isPresent;isPresent=function isPresent(obj){return!isBlank(obj)};__exports__["default"]=isPresent});enifed("ember-metal/keys",["ember-metal/platform","exports"],function(__dependency1__,__exports__){"use strict";var canDefineNonEnumerableProperties=__dependency1__.canDefineNonEnumerableProperties;var keys=Object.keys;if(!keys||!canDefineNonEnumerableProperties){keys=function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function keys(obj){if(typeof obj!=="object"&&(typeof obj!=="function"||obj===null)){throw new TypeError("Object.keys called on non-object")}var result=[],prop,i;for(prop in obj){if(prop!=="_super"&&prop.lastIndexOf("__",0)!==0&&hasOwnProperty.call(obj,prop)){result.push(prop)}}if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i])}}}return result}}()}__exports__["default"]=keys});enifed("ember-metal/libraries",["ember-metal/enumerable_utils","exports"],function(__dependency1__,__exports__){"use strict";var forEach=__dependency1__.forEach;var indexOf=__dependency1__.indexOf;var libraries=function(){var _libraries=[];var coreLibIndex=0;var getLibrary=function(name){for(var i=0;i<_libraries.length;i++){if(_libraries[i].name===name){return _libraries[i]}}};_libraries.register=function(name,version){if(!getLibrary(name)){_libraries.push({name:name,version:version})}};_libraries.registerCoreLibrary=function(name,version){if(!getLibrary(name)){_libraries.splice(coreLibIndex++,0,{name:name,version:version})}};_libraries.deRegister=function(name){var lib=getLibrary(name);if(lib)_libraries.splice(indexOf(_libraries,lib),1)};_libraries.each=function(callback){forEach(_libraries,function(lib){callback(lib.name,lib.version)})};return _libraries}();__exports__["default"]=libraries});enifed("ember-metal/logger",["ember-metal/core","ember-metal/error","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Ember=__dependency1__["default"];var EmberError=__dependency2__["default"];function consoleMethod(name){var consoleObj,logToConsole;if(Ember.imports.console){consoleObj=Ember.imports.console}else if(typeof console!=="undefined"){consoleObj=console}var method=typeof consoleObj==="object"?consoleObj[name]:null;if(method){if(typeof method.apply==="function"){logToConsole=function(){method.apply(consoleObj,arguments)};logToConsole.displayName="console."+name;return logToConsole}else{return function(){var message=Array.prototype.join.call(arguments,", ");method(message)}}}}function assertPolyfill(test,message){if(!test){try{throw new EmberError("assertion failed: "+message)}catch(error){setTimeout(function(){throw error},0)}}}__exports__["default"]={log:consoleMethod("log")||Ember.K,warn:consoleMethod("warn")||Ember.K,error:consoleMethod("error")||Ember.K,info:consoleMethod("info")||Ember.K,debug:consoleMethod("debug")||consoleMethod("info")||Ember.K,assert:consoleMethod("assert")||assertPolyfill}});enifed("ember-metal/map",["ember-metal/utils","ember-metal/array","ember-metal/platform","ember-metal/deprecate_property","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var guidFor=__dependency1__.guidFor;var indexOf=__dependency2__.indexOf;var create=__dependency3__.create;var deprecateProperty=__dependency4__.deprecateProperty;function missingFunction(fn){throw new TypeError(""+Object.prototype.toString.call(fn)+" is not a function")}function missingNew(name){throw new TypeError("Constructor "+name+"requires 'new'")}function copyNull(obj){var output=create(null);for(var prop in obj){output[prop]=obj[prop]}return output}function copyMap(original,newObject){var keys=original.keys.copy();
var values=copyNull(original.values);newObject.keys=keys;newObject.values=values;newObject.size=original.size;return newObject}function OrderedSet(){if(this instanceof OrderedSet){this.clear();this._silenceRemoveDeprecation=false}else{missingNew("OrderedSet")}}OrderedSet.create=function(){var Constructor=this;return new Constructor};OrderedSet.prototype={constructor:OrderedSet,clear:function(){this.presenceSet=create(null);this.list=[];this.size=0},add:function(obj,_guid){var guid=_guid||guidFor(obj);var presenceSet=this.presenceSet;var list=this.list;if(presenceSet[guid]===true){return}presenceSet[guid]=true;this.size=list.push(obj);return this},remove:function(obj,_guid){return this["delete"](obj,_guid)},"delete":function(obj,_guid){var guid=_guid||guidFor(obj);var presenceSet=this.presenceSet;var list=this.list;if(presenceSet[guid]===true){delete presenceSet[guid];var index=indexOf.call(list,obj);if(index>-1){list.splice(index,1)}this.size=list.length;return true}else{return false}},isEmpty:function(){return this.size===0},has:function(obj){if(this.size===0){return false}var guid=guidFor(obj);var presenceSet=this.presenceSet;return presenceSet[guid]===true},forEach:function(fn){if(typeof fn!=="function"){missingFunction(fn)}if(this.size===0){return}var list=this.list;var length=arguments.length;var i;if(length===2){for(i=0;i<list.length;i++){fn.call(arguments[1],list[i])}}else{for(i=0;i<list.length;i++){fn(list[i])}}},toArray:function(){return this.list.slice()},copy:function(){var Constructor=this.constructor;var set=new Constructor;set._silenceRemoveDeprecation=this._silenceRemoveDeprecation;set.presenceSet=copyNull(this.presenceSet);set.list=this.toArray();set.size=this.size;return set}};deprecateProperty(OrderedSet.prototype,"length","size");function Map(){if(this instanceof this.constructor){this.keys=OrderedSet.create();this.keys._silenceRemoveDeprecation=true;this.values=create(null);this.size=0}else{missingNew("OrderedSet")}}Ember.Map=Map;Map.create=function(){var Constructor=this;return new Constructor};Map.prototype={constructor:Map,size:0,get:function(key){if(this.size===0){return}var values=this.values;var guid=guidFor(key);return values[guid]},set:function(key,value){var keys=this.keys;var values=this.values;var guid=guidFor(key);var k=key===-0?0:key;keys.add(k,guid);values[guid]=value;this.size=keys.size;return this},remove:function(key){return this["delete"](key)},"delete":function(key){if(this.size===0){return false}var keys=this.keys;var values=this.values;var guid=guidFor(key);if(keys["delete"](key,guid)){delete values[guid];this.size=keys.size;return true}else{return false}},has:function(key){return this.keys.has(key)},forEach:function(callback){if(typeof callback!=="function"){missingFunction(callback)}if(this.size===0){return}var length=arguments.length;var map=this;var cb,thisArg;if(length===2){thisArg=arguments[1];cb=function(key){callback.call(thisArg,map.get(key),key)}}else{cb=function(key){callback(map.get(key),key)}}this.keys.forEach(cb)},clear:function(){this.keys.clear();this.values=create(null);this.size=0},copy:function(){return copyMap(this,new Map)}};deprecateProperty(Map.prototype,"length","size");function MapWithDefault(options){this._super$constructor();this.defaultValue=options.defaultValue}MapWithDefault.create=function(options){if(options){return new MapWithDefault(options)}else{return new Map}};MapWithDefault.prototype=create(Map.prototype);MapWithDefault.prototype.constructor=MapWithDefault;MapWithDefault.prototype._super$constructor=Map;MapWithDefault.prototype._super$get=Map.prototype.get;MapWithDefault.prototype.get=function(key){var hasValue=this.has(key);if(hasValue){return this._super$get(key)}else{var defaultValue=this.defaultValue(key);this.set(key,defaultValue);return defaultValue}};MapWithDefault.prototype.copy=function(){var Constructor=this.constructor;return copyMap(this,new Constructor({defaultValue:this.defaultValue}))};__exports__["default"]=Map;__exports__.OrderedSet=OrderedSet;__exports__.Map=Map;__exports__.MapWithDefault=MapWithDefault});enifed("ember-metal/merge",["ember-metal/keys","exports"],function(__dependency1__,__exports__){"use strict";var keys=__dependency1__["default"];__exports__["default"]=function merge(original,updates){if(!updates||typeof updates!=="object"){return original}var props=keys(updates);var prop;var length=props.length;for(var i=0;i<length;i++){prop=props[i];original[prop]=updates[prop]}return original}});enifed("ember-metal/mixin",["ember-metal/core","ember-metal/merge","ember-metal/array","ember-metal/platform","ember-metal/utils","ember-metal/expand_properties","ember-metal/properties","ember-metal/computed","ember-metal/binding","ember-metal/observer","ember-metal/events","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__exports__){var Ember=__dependency1__["default"];var merge=__dependency2__["default"];var map=__dependency3__.map;var indexOf=__dependency3__.indexOf;var forEach=__dependency3__.forEach;var create=__dependency4__.create;var guidFor=__dependency5__.guidFor;var meta=__dependency5__.meta;var wrap=__dependency5__.wrap;var makeArray=__dependency5__.makeArray;var apply=__dependency5__.apply;var isArray=__dependency5__.isArray;var expandProperties=__dependency6__["default"];var Descriptor=__dependency7__.Descriptor;var defineProperty=__dependency7__.defineProperty;var ComputedProperty=__dependency8__.ComputedProperty;var Binding=__dependency9__.Binding;var addObserver=__dependency10__.addObserver;var removeObserver=__dependency10__.removeObserver;var addBeforeObserver=__dependency10__.addBeforeObserver;var removeBeforeObserver=__dependency10__.removeBeforeObserver;var addListener=__dependency11__.addListener;var removeListener=__dependency11__.removeListener;var REQUIRED;var a_map=map;var a_indexOf=indexOf;var a_forEach=forEach;var a_slice=[].slice;var o_create=create;var metaFor=meta;function superFunction(){var func=this.__nextSuper;var ret;if(func){var args=new Array(arguments.length);for(var i=0,l=args.length;i<l;i++){args[i]=arguments[i]}this.__nextSuper=null;ret=apply(this,func,args);this.__nextSuper=func}return ret}function mixinsMeta(obj){var m=metaFor(obj,true);var ret=m.mixins;if(!ret){ret=m.mixins={}}else if(!m.hasOwnProperty("mixins")){ret=m.mixins=o_create(ret)}return ret}function initMixin(mixin,args){if(args&&args.length>0){mixin.mixins=a_map.call(args,function(x){if(x instanceof Mixin){return x}var mixin=new Mixin;mixin.properties=x;return mixin})}return mixin}function isMethod(obj){return"function"===typeof obj&&obj.isMethod!==false&&obj!==Boolean&&obj!==Object&&obj!==Number&&obj!==Array&&obj!==Date&&obj!==String}var CONTINUE={};function mixinProperties(mixinsMeta,mixin){var guid;if(mixin instanceof Mixin){guid=guidFor(mixin);if(mixinsMeta[guid]){return CONTINUE}mixinsMeta[guid]=mixin;return mixin.properties}else{return mixin}}function concatenatedMixinProperties(concatProp,props,values,base){var concats;concats=values[concatProp]||base[concatProp];if(props[concatProp]){concats=concats?concats.concat(props[concatProp]):props[concatProp]}return concats}function giveDescriptorSuper(meta,key,property,values,descs){var superProperty;if(values[key]===undefined){superProperty=descs[key]}superProperty=superProperty||meta.descs[key];if(superProperty===undefined||!(superProperty instanceof ComputedProperty)){return property}property=o_create(property);property.func=wrap(property.func,superProperty.func);return property}function giveMethodSuper(obj,key,method,values,descs){var superMethod;if(descs[key]===undefined){superMethod=values[key]}superMethod=superMethod||obj[key];if(superMethod===undefined||"function"!==typeof superMethod){return method}return wrap(method,superMethod)}function applyConcatenatedProperties(obj,key,value,values){var baseValue=values[key]||obj[key];if(baseValue){if("function"===typeof baseValue.concat){return baseValue.concat(value)}else{return makeArray(baseValue).concat(value)}}else{return makeArray(value)}}function applyMergedProperties(obj,key,value,values){var baseValue=values[key]||obj[key];if(!baseValue){return value}var newBase=merge({},baseValue);var hasFunction=false;for(var prop in value){if(!value.hasOwnProperty(prop)){continue}var propValue=value[prop];if(isMethod(propValue)){hasFunction=true;newBase[prop]=giveMethodSuper(obj,prop,propValue,baseValue,{})}else{newBase[prop]=propValue}}if(hasFunction){newBase._super=superFunction}return newBase}function addNormalizedProperty(base,key,value,meta,descs,values,concats,mergings){if(value instanceof Descriptor){if(value===REQUIRED&&descs[key]){return CONTINUE}if(value.func){value=giveDescriptorSuper(meta,key,value,values,descs)}descs[key]=value;values[key]=undefined}else{if(concats&&a_indexOf.call(concats,key)>=0||key==="concatenatedProperties"||key==="mergedProperties"){value=applyConcatenatedProperties(base,key,value,values)}else if(mergings&&a_indexOf.call(mergings,key)>=0){value=applyMergedProperties(base,key,value,values)}else if(isMethod(value)){value=giveMethodSuper(base,key,value,values,descs)}descs[key]=undefined;values[key]=value}}function mergeMixins(mixins,m,descs,values,base,keys){var mixin,props,key,concats,mergings,meta;function removeKeys(keyName){delete descs[keyName];delete values[keyName]}for(var i=0,l=mixins.length;i<l;i++){mixin=mixins[i];props=mixinProperties(m,mixin);if(props===CONTINUE){continue}if(props){meta=metaFor(base);if(base.willMergeMixin){base.willMergeMixin(props)}concats=concatenatedMixinProperties("concatenatedProperties",props,values,base);mergings=concatenatedMixinProperties("mergedProperties",props,values,base);for(key in props){if(!props.hasOwnProperty(key)){continue}keys.push(key);addNormalizedProperty(base,key,props[key],meta,descs,values,concats,mergings)}if(props.hasOwnProperty("toString")){base.toString=props.toString}}else if(mixin.mixins){mergeMixins(mixin.mixins,m,descs,values,base,keys);if(mixin._without){a_forEach.call(mixin._without,removeKeys)}}}}var IS_BINDING=/^.+Binding$/;function detectBinding(obj,key,value,m){if(IS_BINDING.test(key)){var bindings=m.bindings;if(!bindings){bindings=m.bindings={}}else if(!m.hasOwnProperty("bindings")){bindings=m.bindings=o_create(m.bindings)}bindings[key]=value}}function connectBindings(obj,m){var bindings=m.bindings;var key,binding,to;if(bindings){for(key in bindings){binding=bindings[key];if(binding){to=key.slice(0,-7);if(binding instanceof Binding){binding=binding.copy();binding.to(to)}else{binding=new Binding(to,binding)}binding.connect(obj);obj[key]=binding}}m.bindings={}}}function finishPartial(obj,m){connectBindings(obj,m||metaFor(obj));return obj}function followAlias(obj,desc,m,descs,values){var altKey=desc.methodName;var value;if(descs[altKey]||values[altKey]){value=values[altKey];desc=descs[altKey]}else if(m.descs[altKey]){desc=m.descs[altKey];value=undefined}else{desc=undefined;value=obj[altKey]}return{desc:desc,value:value}}function updateObserversAndListeners(obj,key,observerOrListener,pathsKey,updateMethod){var paths=observerOrListener[pathsKey];if(paths){for(var i=0,l=paths.length;i<l;i++){updateMethod(obj,paths[i],null,key)}}}function replaceObserversAndListeners(obj,key,observerOrListener){var prev=obj[key];if("function"===typeof prev){updateObserversAndListeners(obj,key,prev,"__ember_observesBefore__",removeBeforeObserver);updateObserversAndListeners(obj,key,prev,"__ember_observes__",removeObserver);updateObserversAndListeners(obj,key,prev,"__ember_listens__",removeListener)}if("function"===typeof observerOrListener){updateObserversAndListeners(obj,key,observerOrListener,"__ember_observesBefore__",addBeforeObserver);updateObserversAndListeners(obj,key,observerOrListener,"__ember_observes__",addObserver);updateObserversAndListeners(obj,key,observerOrListener,"__ember_listens__",addListener)}}function applyMixin(obj,mixins,partial){var descs={};var values={};var m=metaFor(obj);var keys=[];var key,value,desc;obj._super=superFunction;mergeMixins(mixins,mixinsMeta(obj),descs,values,obj,keys);for(var i=0,l=keys.length;i<l;i++){key=keys[i];if(key==="constructor"||!values.hasOwnProperty(key)){continue}desc=descs[key];value=values[key];if(desc===REQUIRED){continue}while(desc&&desc instanceof Alias){var followed=followAlias(obj,desc,m,descs,values);desc=followed.desc;value=followed.value}if(desc===undefined&&value===undefined){continue}replaceObserversAndListeners(obj,key,value);detectBinding(obj,key,value,m);defineProperty(obj,key,desc,value,m)}if(!partial){finishPartial(obj,m)}return obj}function mixin(obj){var args=a_slice.call(arguments,1);applyMixin(obj,args,false);return obj}__exports__.mixin=mixin;__exports__["default"]=Mixin;function Mixin(){return initMixin(this,arguments)}Mixin.prototype={properties:null,mixins:null,ownerConstructor:null};Mixin._apply=applyMixin;Mixin.applyPartial=function(obj){var args=a_slice.call(arguments,1);return applyMixin(obj,args,true)};Mixin.finishPartial=finishPartial;Ember.anyUnprocessedMixins=false;Mixin.create=function(){Ember.anyUnprocessedMixins=true;var M=this;return initMixin(new M,arguments)};var MixinPrototype=Mixin.prototype;MixinPrototype.reopen=function(){var mixin,tmp;if(this.properties){mixin=Mixin.create();mixin.properties=this.properties;delete this.properties;this.mixins=[mixin]}else if(!this.mixins){this.mixins=[]}var len=arguments.length;var mixins=this.mixins;var idx;for(idx=0;idx<len;idx++){mixin=arguments[idx];if(mixin instanceof Mixin){mixins.push(mixin)}else{tmp=Mixin.create();tmp.properties=mixin;mixins.push(tmp)}}return this};MixinPrototype.apply=function(obj){return applyMixin(obj,[this],false)};MixinPrototype.applyPartial=function(obj){return applyMixin(obj,[this],true)};function _detect(curMixin,targetMixin,seen){var guid=guidFor(curMixin);if(seen[guid]){return false}seen[guid]=true;if(curMixin===targetMixin){return true}var mixins=curMixin.mixins;var loc=mixins?mixins.length:0;while(--loc>=0){if(_detect(mixins[loc],targetMixin,seen)){return true}}return false}MixinPrototype.detect=function(obj){if(!obj){return false}if(obj instanceof Mixin){return _detect(obj,this,{})}var m=obj["__ember_meta__"];var mixins=m&&m.mixins;if(mixins){return!!mixins[guidFor(this)]}return false};MixinPrototype.without=function(){var ret=new Mixin(this);ret._without=a_slice.call(arguments);return ret};function _keys(ret,mixin,seen){if(seen[guidFor(mixin)]){return}seen[guidFor(mixin)]=true;if(mixin.properties){var props=mixin.properties;for(var key in props){if(props.hasOwnProperty(key)){ret[key]=true}}}else if(mixin.mixins){a_forEach.call(mixin.mixins,function(x){_keys(ret,x,seen)})}}MixinPrototype.keys=function(){var keys={};var seen={};var ret=[];_keys(keys,this,seen);for(var key in keys){if(keys.hasOwnProperty(key)){ret.push(key)}}return ret};Mixin.mixins=function(obj){var m=obj["__ember_meta__"];var mixins=m&&m.mixins;var ret=[];if(!mixins){return ret}for(var key in mixins){var mixin=mixins[key];if(!mixin.properties){ret.push(mixin)}}return ret};REQUIRED=new Descriptor;REQUIRED.toString=function(){return"(Required Property)"};function required(){return REQUIRED}__exports__.required=required;function Alias(methodName){this.methodName=methodName}Alias.prototype=new Descriptor;function aliasMethod(methodName){return new Alias(methodName)}__exports__.aliasMethod=aliasMethod;function observer(){var func=a_slice.call(arguments,-1)[0];var paths;var addWatchedProperty=function(path){paths.push(path)};var _paths=a_slice.call(arguments,0,-1);if(typeof func!=="function"){func=arguments[0];_paths=a_slice.call(arguments,1)}paths=[];for(var i=0;i<_paths.length;++i){expandProperties(_paths[i],addWatchedProperty)}if(typeof func!=="function"){throw new Ember.Error("Ember.observer called without a function")}func.__ember_observes__=paths;return func}__exports__.observer=observer;function immediateObserver(){for(var i=0,l=arguments.length;i<l;i++){var arg=arguments[i]}return observer.apply(this,arguments)}__exports__.immediateObserver=immediateObserver;function beforeObserver(){var func=a_slice.call(arguments,-1)[0];var paths;var addWatchedProperty=function(path){paths.push(path)};var _paths=a_slice.call(arguments,0,-1);if(typeof func!=="function"){func=arguments[0];_paths=a_slice.call(arguments,1)}paths=[];for(var i=0;i<_paths.length;++i){expandProperties(_paths[i],addWatchedProperty)}if(typeof func!=="function"){throw new Ember.Error("Ember.beforeObserver called without a function")}func.__ember_observesBefore__=paths;return func}__exports__.beforeObserver=beforeObserver;__exports__.IS_BINDING=IS_BINDING;__exports__.Mixin=Mixin});enifed("ember-metal/observer",["ember-metal/watching","ember-metal/array","ember-metal/events","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var watch=__dependency1__.watch;var unwatch=__dependency1__.unwatch;var map=__dependency2__.map;var listenersFor=__dependency3__.listenersFor;var addListener=__dependency3__.addListener;var removeListener=__dependency3__.removeListener;var suspendListeners=__dependency3__.suspendListeners;var suspendListener=__dependency3__.suspendListener;var AFTER_OBSERVERS=":change";var BEFORE_OBSERVERS=":before";function changeEvent(keyName){return keyName+AFTER_OBSERVERS}function beforeEvent(keyName){return keyName+BEFORE_OBSERVERS}function addObserver(obj,_path,target,method){addListener(obj,changeEvent(_path),target,method);watch(obj,_path);return this}__exports__.addObserver=addObserver;function observersFor(obj,path){return listenersFor(obj,changeEvent(path))}__exports__.observersFor=observersFor;function removeObserver(obj,_path,target,method){unwatch(obj,_path);removeListener(obj,changeEvent(_path),target,method);return this}__exports__.removeObserver=removeObserver;function addBeforeObserver(obj,_path,target,method){addListener(obj,beforeEvent(_path),target,method);watch(obj,_path);return this}__exports__.addBeforeObserver=addBeforeObserver;function _suspendBeforeObserver(obj,path,target,method,callback){return suspendListener(obj,beforeEvent(path),target,method,callback)}__exports__._suspendBeforeObserver=_suspendBeforeObserver;function _suspendObserver(obj,path,target,method,callback){return suspendListener(obj,changeEvent(path),target,method,callback)}__exports__._suspendObserver=_suspendObserver;function _suspendBeforeObservers(obj,paths,target,method,callback){var events=map.call(paths,beforeEvent);return suspendListeners(obj,events,target,method,callback)}__exports__._suspendBeforeObservers=_suspendBeforeObservers;function _suspendObservers(obj,paths,target,method,callback){var events=map.call(paths,changeEvent);return suspendListeners(obj,events,target,method,callback)}__exports__._suspendObservers=_suspendObservers;function beforeObserversFor(obj,path){return listenersFor(obj,beforeEvent(path))}__exports__.beforeObserversFor=beforeObserversFor;function removeBeforeObserver(obj,_path,target,method){unwatch(obj,_path);removeListener(obj,beforeEvent(_path),target,method);return this}__exports__.removeBeforeObserver=removeBeforeObserver});enifed("ember-metal/observer_set",["ember-metal/utils","ember-metal/events","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var guidFor=__dependency1__.guidFor;var sendEvent=__dependency2__.sendEvent;__exports__["default"]=ObserverSet;function ObserverSet(){this.clear()}ObserverSet.prototype.add=function(sender,keyName,eventName){var observerSet=this.observerSet;var observers=this.observers;var senderGuid=guidFor(sender);var keySet=observerSet[senderGuid];var index;if(!keySet){observerSet[senderGuid]=keySet={}}index=keySet[keyName];if(index===undefined){index=observers.push({sender:sender,keyName:keyName,eventName:eventName,listeners:[]})-1;keySet[keyName]=index}return observers[index].listeners};ObserverSet.prototype.flush=function(){var observers=this.observers;var i,len,observer,sender;this.clear();for(i=0,len=observers.length;i<len;++i){observer=observers[i];sender=observer.sender;if(sender.isDestroying||sender.isDestroyed){continue}sendEvent(sender,observer.eventName,[sender,observer.keyName],observer.listeners)}};ObserverSet.prototype.clear=function(){this.observerSet={};this.observers=[]}});enifed("ember-metal/path_cache",["ember-metal/cache","exports"],function(__dependency1__,__exports__){"use strict";var Cache=__dependency1__["default"];var IS_GLOBAL=/^([A-Z$]|([0-9][A-Z$]))/;var IS_GLOBAL_PATH=/^([A-Z$]|([0-9][A-Z$])).*[\.]/;var HAS_THIS="this.";var isGlobalCache=new Cache(1e3,function(key){return IS_GLOBAL.test(key)});var isGlobalPathCache=new Cache(1e3,function(key){return IS_GLOBAL_PATH.test(key)});var hasThisCache=new Cache(1e3,function(key){return key.indexOf(HAS_THIS)!==-1});var isPathCache=new Cache(1e3,function(key){return key.indexOf(".")!==-1});var caches={isGlobalCache:isGlobalCache,isGlobalPathCache:isGlobalPathCache,hasThisCache:hasThisCache,isPathCache:isPathCache};__exports__.caches=caches;function isGlobal(path){return isGlobalCache.get(path)}__exports__.isGlobal=isGlobal;function isGlobalPath(path){return isGlobalPathCache.get(path)}__exports__.isGlobalPath=isGlobalPath;function hasThis(path){return hasThisCache.get(path)}__exports__.hasThis=hasThis;function isPath(path){return isPathCache.get(path)}__exports__.isPath=isPath});enifed("ember-metal/platform",["ember-metal/platform/define_property","ember-metal/platform/define_properties","ember-metal/platform/create","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var hasES5CompliantDefineProperty=__dependency1__.hasES5CompliantDefineProperty;var defineProperty=__dependency1__.defineProperty;var defineProperties=__dependency2__["default"];var create=__dependency3__["default"];var hasPropertyAccessors=hasES5CompliantDefineProperty;var canDefineNonEnumerableProperties=hasES5CompliantDefineProperty;__exports__.create=create;__exports__.defineProperty=defineProperty;__exports__.defineProperties=defineProperties;__exports__.hasPropertyAccessors=hasPropertyAccessors;__exports__.canDefineNonEnumerableProperties=canDefineNonEnumerableProperties});enifed("ember-metal/platform/create",["exports"],function(__exports__){var create;if(!(Object.create&&!Object.create(null).hasOwnProperty)){var createEmpty;var supportsProto=!({__proto__:null}instanceof Object);if(supportsProto||typeof document==="undefined"){createEmpty=function(){return{__proto__:null}}}else{createEmpty=function(){var iframe=document.createElement("iframe");var parent=document.body||document.documentElement;iframe.style.display="none";parent.appendChild(iframe);iframe.src="javascript:";var empty=iframe.contentWindow.Object.prototype;parent.removeChild(iframe);iframe=null;delete empty.constructor;delete empty.hasOwnProperty;delete empty.propertyIsEnumerable;delete empty.isPrototypeOf;delete empty.toLocaleString;delete empty.toString;delete empty.valueOf;function Empty(){}Empty.prototype=empty;createEmpty=function(){return new Empty};return new Empty}}create=Object.create=function create(prototype,properties){var object;function Type(){}if(prototype===null){object=createEmpty()}else{if(typeof prototype!=="object"&&typeof prototype!=="function"){throw new TypeError("Object prototype may only be an Object or null")}Type.prototype=prototype;object=new Type}if(properties!==undefined){Object.defineProperties(object,properties)}return object}}else{create=Object.create}__exports__["default"]=create});enifed("ember-metal/platform/define_properties",["ember-metal/platform/define_property","exports"],function(__dependency1__,__exports__){"use strict";var defineProperty=__dependency1__.defineProperty;var defineProperties=Object.defineProperties;if(!defineProperties){defineProperties=function defineProperties(object,properties){for(var property in properties){if(properties.hasOwnProperty(property)&&property!=="__proto__"){defineProperty(object,property,properties[property])}}return object};Object.defineProperties=defineProperties}__exports__["default"]=defineProperties});enifed("ember-metal/platform/define_property",["exports"],function(__exports__){"use strict";var defineProperty=function checkCompliance(defineProperty){if(!defineProperty)return;try{var a=5;var obj={};defineProperty(obj,"a",{configurable:true,enumerable:true,get:function(){return a},set:function(v){a=v}});if(obj.a!==5)return;obj.a=10;if(a!==10)return;defineProperty(obj,"a",{configurable:true,enumerable:false,writable:true,value:true});for(var key in obj){if(key==="a")return}if(obj.a!==true)return;return defineProperty}catch(e){return}}(Object.defineProperty);var hasES5CompliantDefineProperty=!!defineProperty;if(hasES5CompliantDefineProperty&&typeof document!=="undefined"){var canDefinePropertyOnDOM=function(){try{defineProperty(document.createElement("div"),"definePropertyOnDOM",{});return true}catch(e){}return false}();if(!canDefinePropertyOnDOM){defineProperty=function(obj,keyName,desc){var isNode;if(typeof Node==="object"){isNode=obj instanceof Node}else{isNode=typeof obj==="object"&&typeof obj.nodeType==="number"&&typeof obj.nodeName==="string"}if(isNode){return obj[keyName]=desc.value}else{return Object.defineProperty(obj,keyName,desc)}}}}if(!hasES5CompliantDefineProperty){defineProperty=function defineProperty(obj,keyName,desc){if(!desc.get){obj[keyName]=desc.value}}}__exports__.hasES5CompliantDefineProperty=hasES5CompliantDefineProperty;__exports__.defineProperty=defineProperty});enifed("ember-metal/properties",["ember-metal/core","ember-metal/utils","ember-metal/platform","ember-metal/property_events","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var Ember=__dependency1__["default"];var metaFor=__dependency2__.meta;var objectDefineProperty=__dependency3__.defineProperty;var hasPropertyAccessors=__dependency3__.hasPropertyAccessors;var overrideChains=__dependency4__.overrideChains;function Descriptor(){}__exports__.Descriptor=Descriptor;function MANDATORY_SETTER_FUNCTION(name){return function SETTER_FUNCTION(value){}}__exports__.MANDATORY_SETTER_FUNCTION=MANDATORY_SETTER_FUNCTION;function DEFAULT_GETTER_FUNCTION(name){return function GETTER_FUNCTION(){var meta=this["__ember_meta__"];return meta&&meta.values[name]}}__exports__.DEFAULT_GETTER_FUNCTION=DEFAULT_GETTER_FUNCTION;function defineProperty(obj,keyName,desc,data,meta){var descs,existingDesc,watching,value;if(!meta)meta=metaFor(obj);descs=meta.descs;existingDesc=meta.descs[keyName];var watchEntry=meta.watching[keyName];watching=watchEntry!==undefined&&watchEntry>0;if(existingDesc instanceof Descriptor){existingDesc.teardown(obj,keyName)}if(desc instanceof Descriptor){value=desc;descs[keyName]=desc;obj[keyName]=undefined;if(desc.setup){desc.setup(obj,keyName)}}else{descs[keyName]=undefined;if(desc==null){value=data;obj[keyName]=data}else{value=desc;objectDefineProperty(obj,keyName,desc)}}if(watching){overrideChains(obj,keyName,meta)}if(obj.didDefineProperty){obj.didDefineProperty(obj,keyName,value)}return this}__exports__.defineProperty=defineProperty});enifed("ember-metal/property_events",["ember-metal/utils","ember-metal/events","ember-metal/observer_set","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var guidFor=__dependency1__.guidFor;var tryFinally=__dependency1__.tryFinally;var sendEvent=__dependency2__.sendEvent;var listenersUnion=__dependency2__.listenersUnion;var listenersDiff=__dependency2__.listenersDiff;var ObserverSet=__dependency3__["default"];var beforeObserverSet=new ObserverSet;var observerSet=new ObserverSet;var deferred=0;function propertyWillChange(obj,keyName){var m=obj["__ember_meta__"];var watching=m&&m.watching[keyName]>0||keyName==="length";var proto=m&&m.proto;var desc=m&&m.descs[keyName];if(!watching){return}if(proto===obj){return}if(desc&&desc.willChange){desc.willChange(obj,keyName)}dependentKeysWillChange(obj,keyName,m);chainsWillChange(obj,keyName,m);notifyBeforeObservers(obj,keyName)}function propertyDidChange(obj,keyName){var m=obj["__ember_meta__"];var watching=m&&m.watching[keyName]>0||keyName==="length";var proto=m&&m.proto;var desc=m&&m.descs[keyName];if(proto===obj){return}if(desc&&desc.didChange){desc.didChange(obj,keyName)}if(!watching&&keyName!=="length"){return}if(m&&m.deps&&m.deps[keyName]){dependentKeysDidChange(obj,keyName,m)}chainsDidChange(obj,keyName,m,false);notifyObservers(obj,keyName)}var WILL_SEEN,DID_SEEN;function dependentKeysWillChange(obj,depKey,meta){if(obj.isDestroying){return}var deps;if(meta&&meta.deps&&(deps=meta.deps[depKey])){var seen=WILL_SEEN;var top=!seen;if(top){seen=WILL_SEEN={}}iterDeps(propertyWillChange,obj,deps,depKey,seen,meta);if(top){WILL_SEEN=null}}}function dependentKeysDidChange(obj,depKey,meta){if(obj.isDestroying){return}var deps;if(meta&&meta.deps&&(deps=meta.deps[depKey])){var seen=DID_SEEN;var top=!seen;if(top){seen=DID_SEEN={}}iterDeps(propertyDidChange,obj,deps,depKey,seen,meta);if(top){DID_SEEN=null}}}function keysOf(obj){var keys=[];for(var key in obj)keys.push(key);return keys}function iterDeps(method,obj,deps,depKey,seen,meta){var keys,key,i,desc;var guid=guidFor(obj);var current=seen[guid];if(!current)current=seen[guid]={};if(current[depKey])return;current[depKey]=true;if(deps){keys=keysOf(deps);var descs=meta.descs;for(i=0;i<keys.length;i++){key=keys[i];desc=descs[key];if(desc&&desc._suspended===obj)continue;method(obj,key)}}}function chainsWillChange(obj,keyName,m){if(!(m.hasOwnProperty("chainWatchers")&&m.chainWatchers[keyName])){return}var nodes=m.chainWatchers[keyName];var events=[];var i,l;for(i=0,l=nodes.length;i<l;i++){nodes[i].willChange(events)}for(i=0,l=events.length;i<l;i+=2){propertyWillChange(events[i],events[i+1])}}function chainsDidChange(obj,keyName,m,suppressEvents){if(!(m&&m.hasOwnProperty("chainWatchers")&&m.chainWatchers[keyName])){return}var nodes=m.chainWatchers[keyName];var events=suppressEvents?null:[];var i,l;for(i=0,l=nodes.length;i<l;i++){nodes[i].didChange(events)}if(suppressEvents){return}for(i=0,l=events.length;i<l;i+=2){propertyDidChange(events[i],events[i+1])}}function overrideChains(obj,keyName,m){chainsDidChange(obj,keyName,m,true)}function beginPropertyChanges(){deferred++}function endPropertyChanges(){deferred--;if(deferred<=0){beforeObserverSet.clear();observerSet.flush()}}function changeProperties(cb,binding){beginPropertyChanges();tryFinally(cb,endPropertyChanges,binding)}function notifyBeforeObservers(obj,keyName){if(obj.isDestroying){return}var eventName=keyName+":before";var listeners,diff;if(deferred){listeners=beforeObserverSet.add(obj,keyName,eventName);diff=listenersDiff(obj,eventName,listeners);sendEvent(obj,eventName,[obj,keyName],diff)}else{sendEvent(obj,eventName,[obj,keyName])}}function notifyObservers(obj,keyName){if(obj.isDestroying){return}var eventName=keyName+":change";var listeners;if(deferred){listeners=observerSet.add(obj,keyName,eventName);listenersUnion(obj,eventName,listeners)}else{sendEvent(obj,eventName,[obj,keyName])}}__exports__.propertyWillChange=propertyWillChange;__exports__.propertyDidChange=propertyDidChange;__exports__.overrideChains=overrideChains;__exports__.beginPropertyChanges=beginPropertyChanges;__exports__.endPropertyChanges=endPropertyChanges;__exports__.changeProperties=changeProperties});enifed("ember-metal/property_get",["ember-metal/core","ember-metal/error","ember-metal/path_cache","ember-metal/platform","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var Ember=__dependency1__["default"];var EmberError=__dependency2__["default"];var isGlobalPath=__dependency3__.isGlobalPath;var isPath=__dependency3__.isPath;var pathHasThis=__dependency3__.hasThis;var hasPropertyAccessors=__dependency4__.hasPropertyAccessors;var FIRST_KEY=/^([^\.]+)/;var get=function get(obj,keyName){if(keyName===""){return obj}if(!keyName&&"string"===typeof obj){keyName=obj;
obj=null}if(obj===null){var value=_getPath(obj,keyName);return value}var meta=obj["__ember_meta__"];var desc=meta&&meta.descs[keyName];var ret;if(desc===undefined&&isPath(keyName)){return _getPath(obj,keyName)}if(desc){return desc.get(obj,keyName)}else{ret=obj[keyName];if(ret===undefined&&"object"===typeof obj&&!(keyName in obj)&&"function"===typeof obj.unknownProperty){return obj.unknownProperty(keyName)}return ret}};if(Ember.config.overrideAccessors){Ember.get=get;Ember.config.overrideAccessors();get=Ember.get}function normalizeTuple(target,path){var hasThis=pathHasThis(path);var isGlobal=!hasThis&&isGlobalPath(path);var key;if(!target||isGlobal)target=Ember.lookup;if(hasThis)path=path.slice(5);if(target===Ember.lookup){key=path.match(FIRST_KEY)[0];target=get(target,key);path=path.slice(key.length+1)}if(!path||path.length===0)throw new EmberError("Path cannot be empty");return[target,path]}function _getPath(root,path){var hasThis,parts,tuple,idx,len;if(root===null&&!isPath(path)){return get(Ember.lookup,path)}hasThis=pathHasThis(path);if(!root||hasThis){tuple=normalizeTuple(root,path);root=tuple[0];path=tuple[1];tuple.length=0}parts=path.split(".");len=parts.length;for(idx=0;root!=null&&idx<len;idx++){root=get(root,parts[idx],true);if(root&&root.isDestroyed){return undefined}}return root}function getWithDefault(root,key,defaultValue){var value=get(root,key);if(value===undefined){return defaultValue}return value}__exports__.getWithDefault=getWithDefault;__exports__["default"]=get;__exports__.get=get;__exports__.normalizeTuple=normalizeTuple;__exports__._getPath=_getPath});enifed("ember-metal/property_set",["ember-metal/core","ember-metal/property_get","ember-metal/property_events","ember-metal/properties","ember-metal/error","ember-metal/path_cache","ember-metal/platform","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";var Ember=__dependency1__["default"];var getPath=__dependency2__._getPath;var propertyWillChange=__dependency3__.propertyWillChange;var propertyDidChange=__dependency3__.propertyDidChange;var defineProperty=__dependency4__.defineProperty;var EmberError=__dependency5__["default"];var isPath=__dependency6__.isPath;var hasPropertyAccessors=__dependency7__.hasPropertyAccessors;var IS_GLOBAL=/^([A-Z$]|([0-9][A-Z$]))/;var set=function set(obj,keyName,value,tolerant){if(typeof obj==="string"){value=keyName;keyName=obj;obj=null}if(!obj){return setPath(obj,keyName,value,tolerant)}var meta=obj["__ember_meta__"];var desc=meta&&meta.descs[keyName];var isUnknown,currentValue;if(desc===undefined&&isPath(keyName)){return setPath(obj,keyName,value,tolerant)}if(desc!==undefined){desc.set(obj,keyName,value)}else{if(typeof obj==="object"&&obj!==null&&value!==undefined&&obj[keyName]===value){return value}isUnknown="object"===typeof obj&&!(keyName in obj);if(isUnknown&&"function"===typeof obj.setUnknownProperty){obj.setUnknownProperty(keyName,value)}else if(meta&&meta.watching[keyName]>0){currentValue=obj[keyName];if(value!==currentValue){propertyWillChange(obj,keyName);obj[keyName]=value;propertyDidChange(obj,keyName)}}else{obj[keyName]=value}}return value};if(Ember.config.overrideAccessors){Ember.set=set;Ember.config.overrideAccessors();set=Ember.set}function setPath(root,path,value,tolerant){var keyName;keyName=path.slice(path.lastIndexOf(".")+1);path=path===keyName?keyName:path.slice(0,path.length-(keyName.length+1));if(path!=="this"){root=getPath(root,path)}if(!keyName||keyName.length===0){throw new EmberError("Property set failed: You passed an empty path")}if(!root){if(tolerant){return}else{throw new EmberError('Property set failed: object in path "'+path+'" could not be found or was destroyed.')}}return set(root,keyName,value)}function trySet(root,path,value){return set(root,path,value,true)}__exports__.trySet=trySet;__exports__.set=set});enifed("ember-metal/run_loop",["ember-metal/core","ember-metal/utils","ember-metal/array","ember-metal/property_events","backburner","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var Ember=__dependency1__["default"];var apply=__dependency2__.apply;var GUID_KEY=__dependency2__.GUID_KEY;var indexOf=__dependency3__.indexOf;var beginPropertyChanges=__dependency4__.beginPropertyChanges;var endPropertyChanges=__dependency4__.endPropertyChanges;var Backburner=__dependency5__["default"];function onBegin(current){run.currentRunLoop=current}function onEnd(current,next){run.currentRunLoop=next}var backburner=new Backburner(["sync","actions","destroy"],{GUID_KEY:GUID_KEY,sync:{before:beginPropertyChanges,after:endPropertyChanges},defaultQueue:"actions",onBegin:onBegin,onEnd:onEnd,onErrorTarget:Ember,onErrorMethod:"onerror"});var slice=[].slice;var concat=[].concat;__exports__["default"]=run;function run(){return backburner.run.apply(backburner,arguments)}run.join=function(target,method){if(!run.currentRunLoop){return Ember.run.apply(Ember,arguments)}var args=slice.call(arguments);args.unshift("actions");run.schedule.apply(run,args)};run.bind=function(target,method){var args=slice.call(arguments);return function(){return run.join.apply(run,args.concat(slice.call(arguments)))}};run.backburner=backburner;run.currentRunLoop=null;run.queues=backburner.queueNames;run.begin=function(){backburner.begin()};run.end=function(){backburner.end()};run.schedule=function(queue,target,method){checkAutoRun();backburner.schedule.apply(backburner,arguments)};run.hasScheduledTimers=function(){return backburner.hasTimers()};run.cancelTimers=function(){backburner.cancelTimers()};run.sync=function(){if(backburner.currentInstance){backburner.currentInstance.queues.sync.flush()}};run.later=function(){return backburner.later.apply(backburner,arguments)};run.once=function(target,method){checkAutoRun();var args=slice.call(arguments);args.unshift("actions");return apply(backburner,backburner.scheduleOnce,args)};run.scheduleOnce=function(){checkAutoRun();return backburner.scheduleOnce.apply(backburner,arguments)};run.next=function(){var args=slice.call(arguments);args.push(1);return apply(backburner,backburner.later,args)};run.cancel=function(timer){return backburner.cancel(timer)};run.debounce=function(){return backburner.debounce.apply(backburner,arguments)};run.throttle=function(){return backburner.throttle.apply(backburner,arguments)};function checkAutoRun(){if(!run.currentRunLoop){}}run._addQueue=function(name,after){if(indexOf.call(run.queues,name)===-1){run.queues.splice(indexOf.call(run.queues,after)+1,0,name)}}});enifed("ember-metal/set_properties",["ember-metal/property_events","ember-metal/property_set","ember-metal/keys","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var changeProperties=__dependency1__.changeProperties;var set=__dependency2__.set;var keys=__dependency3__["default"];__exports__["default"]=function setProperties(obj,properties){if(!properties||typeof properties!=="object"){return obj}changeProperties(function(){var props=keys(properties);var propertyName;for(var i=0,l=props.length;i<l;i++){propertyName=props[i];set(obj,propertyName,properties[propertyName])}});return obj}});enifed("ember-metal/utils",["ember-metal/core","ember-metal/platform","ember-metal/array","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){var Ember=__dependency1__["default"];var o_defineProperty=__dependency2__.defineProperty;var canDefineNonEnumerableProperties=__dependency2__.canDefineNonEnumerableProperties;var hasPropertyAccessors=__dependency2__.hasPropertyAccessors;var create=__dependency2__.create;var forEach=__dependency3__.forEach;var _uuid=0;function uuid(){return++_uuid}__exports__.uuid=uuid;var GUID_PREFIX="ember";var o_create=create;var numberCache=[];var stringCache={};function intern(str){var obj={};obj[str]=1;for(var key in obj){if(key===str)return key}return str}var GUID_KEY=intern("__ember"+ +new Date);var GUID_DESC={writable:false,configurable:false,enumerable:false,value:null};function generateGuid(obj,prefix){if(!prefix)prefix=GUID_PREFIX;var ret=prefix+uuid();if(obj){if(obj[GUID_KEY]===null){obj[GUID_KEY]=ret}else{GUID_DESC.value=ret;o_defineProperty(obj,GUID_KEY,GUID_DESC)}}return ret}__exports__.generateGuid=generateGuid;function guidFor(obj){if(obj===undefined)return"(undefined)";if(obj===null)return"(null)";var ret;var type=typeof obj;switch(type){case"number":ret=numberCache[obj];if(!ret)ret=numberCache[obj]="nu"+obj;return ret;case"string":ret=stringCache[obj];if(!ret)ret=stringCache[obj]="st"+uuid();return ret;case"boolean":return obj?"(true)":"(false)";default:if(obj[GUID_KEY])return obj[GUID_KEY];if(obj===Object)return"(Object)";if(obj===Array)return"(Array)";ret=GUID_PREFIX+uuid();if(obj[GUID_KEY]===null){obj[GUID_KEY]=ret}else{GUID_DESC.value=ret;o_defineProperty(obj,GUID_KEY,GUID_DESC)}return ret}}__exports__.guidFor=guidFor;var META_DESC={writable:true,configurable:false,enumerable:false,value:null};function Meta(obj){this.descs={};this.watching={};this.cache={};this.cacheMeta={};this.source=obj}Meta.prototype={descs:null,deps:null,watching:null,listeners:null,cache:null,cacheMeta:null,source:null,mixins:null,bindings:null,chains:null,chainWatchers:null,values:null,proto:null};if(!canDefineNonEnumerableProperties){Meta.prototype.__preventPlainObject__=true;Meta.prototype.toJSON=function(){}}var EMPTY_META=new Meta(null);function meta(obj,writable){var ret=obj["__ember_meta__"];if(writable===false)return ret||EMPTY_META;if(!ret){if(canDefineNonEnumerableProperties)o_defineProperty(obj,"__ember_meta__",META_DESC);ret=new Meta(obj);obj["__ember_meta__"]=ret;ret.descs.constructor=null}else if(ret.source!==obj){if(canDefineNonEnumerableProperties)o_defineProperty(obj,"__ember_meta__",META_DESC);ret=o_create(ret);ret.descs=o_create(ret.descs);ret.watching=o_create(ret.watching);ret.cache={};ret.cacheMeta={};ret.source=obj;obj["__ember_meta__"]=ret}return ret}function getMeta(obj,property){var _meta=meta(obj,false);return _meta[property]}__exports__.getMeta=getMeta;function setMeta(obj,property,value){var _meta=meta(obj,true);_meta[property]=value;return value}__exports__.setMeta=setMeta;function metaPath(obj,path,writable){var _meta=meta(obj,writable);var keyName,value;for(var i=0,l=path.length;i<l;i++){keyName=path[i];value=_meta[keyName];if(!value){if(!writable){return undefined}value=_meta[keyName]={__ember_source__:obj}}else if(value.__ember_source__!==obj){if(!writable){return undefined}value=_meta[keyName]=o_create(value);value.__ember_source__=obj}_meta=value}return value}__exports__.metaPath=metaPath;function wrap(func,superFunc){function superWrapper(){var ret;var sup=this&&this.__nextSuper;var args=new Array(arguments.length);for(var i=0,l=args.length;i<l;i++){args[i]=arguments[i]}if(this){this.__nextSuper=superFunc}ret=apply(this,func,args);if(this){this.__nextSuper=sup}return ret}superWrapper.wrappedFunction=func;superWrapper.wrappedFunction.__ember_arity__=func.length;superWrapper.__ember_observes__=func.__ember_observes__;superWrapper.__ember_observesBefore__=func.__ember_observesBefore__;superWrapper.__ember_listens__=func.__ember_listens__;return superWrapper}__exports__.wrap=wrap;var EmberArray;function isArray(obj){var modulePath,type;if(typeof EmberArray==="undefined"){modulePath="ember-runtime/mixins/array";if(Ember.__loader.registry[modulePath]){EmberArray=Ember.__loader.require(modulePath)["default"]}}if(!obj||obj.setInterval){return false}if(Array.isArray&&Array.isArray(obj)){return true}if(EmberArray&&EmberArray.detect(obj)){return true}type=typeOf(obj);if("array"===type){return true}if(obj.length!==undefined&&"object"===type){return true}return false}function makeArray(obj){if(obj===null||obj===undefined){return[]}return isArray(obj)?obj:[obj]}__exports__.makeArray=makeArray;function canInvoke(obj,methodName){return!!(obj&&typeof obj[methodName]==="function")}function tryInvoke(obj,methodName,args){if(canInvoke(obj,methodName)){return args?applyStr(obj,methodName,args):applyStr(obj,methodName)}}__exports__.tryInvoke=tryInvoke;var needsFinallyFix=function(){var count=0;try{try{}finally{count++;throw new Error("needsFinallyFixTest")}}catch(e){}return count!==1}();var tryFinally;if(needsFinallyFix){tryFinally=function(tryable,finalizer,binding){var result,finalResult,finalError;binding=binding||this;try{result=tryable.call(binding)}finally{try{finalResult=finalizer.call(binding)}catch(e){finalError=e}}if(finalError){throw finalError}return finalResult===undefined?result:finalResult}}else{tryFinally=function(tryable,finalizer,binding){var result,finalResult;binding=binding||this;try{result=tryable.call(binding)}finally{finalResult=finalizer.call(binding)}return finalResult===undefined?result:finalResult}}var tryCatchFinally;if(needsFinallyFix){tryCatchFinally=function(tryable,catchable,finalizer,binding){var result,finalResult,finalError;binding=binding||this;try{result=tryable.call(binding)}catch(error){result=catchable.call(binding,error)}finally{try{finalResult=finalizer.call(binding)}catch(e){finalError=e}}if(finalError){throw finalError}return finalResult===undefined?result:finalResult}}else{tryCatchFinally=function(tryable,catchable,finalizer,binding){var result,finalResult;binding=binding||this;try{result=tryable.call(binding)}catch(error){result=catchable.call(binding,error)}finally{finalResult=finalizer.call(binding)}return finalResult===undefined?result:finalResult}}var TYPE_MAP={};var t="Boolean Number String Function Array Date RegExp Object".split(" ");forEach.call(t,function(name){TYPE_MAP["[object "+name+"]"]=name.toLowerCase()});var toString=Object.prototype.toString;var EmberObject;function typeOf(item){var ret,modulePath;if(typeof EmberObject==="undefined"){modulePath="ember-runtime/system/object";if(Ember.__loader.registry[modulePath]){EmberObject=Ember.__loader.require(modulePath)["default"]}}ret=item===null||item===undefined?String(item):TYPE_MAP[toString.call(item)]||"object";if(ret==="function"){if(EmberObject&&EmberObject.detect(item))ret="class"}else if(ret==="object"){if(item instanceof Error)ret="error";else if(EmberObject&&item instanceof EmberObject)ret="instance";else if(item instanceof Date)ret="date"}return ret}function inspect(obj){var type=typeOf(obj);if(type==="array"){return"["+obj+"]"}if(type!=="object"){return obj+""}var v;var ret=[];for(var key in obj){if(obj.hasOwnProperty(key)){v=obj[key];if(v==="toString"){continue}if(typeOf(v)==="function"){v="function() { ... }"}if(v&&typeof v.toString!=="function"){ret.push(key+": "+toString.call(v))}else{ret.push(key+": "+v)}}}return"{"+ret.join(", ")+"}"}__exports__.inspect=inspect;function apply(t,m,a){var l=a&&a.length;if(!a||!l){return m.call(t)}switch(l){case 1:return m.call(t,a[0]);case 2:return m.call(t,a[0],a[1]);case 3:return m.call(t,a[0],a[1],a[2]);case 4:return m.call(t,a[0],a[1],a[2],a[3]);case 5:return m.call(t,a[0],a[1],a[2],a[3],a[4]);default:return m.apply(t,a)}}__exports__.apply=apply;function applyStr(t,m,a){var l=a&&a.length;if(!a||!l){return t[m]()}switch(l){case 1:return t[m](a[0]);case 2:return t[m](a[0],a[1]);case 3:return t[m](a[0],a[1],a[2]);case 4:return t[m](a[0],a[1],a[2],a[3]);case 5:return t[m](a[0],a[1],a[2],a[3],a[4]);default:return t[m].apply(t,a)}}__exports__.applyStr=applyStr;__exports__.GUID_KEY=GUID_KEY;__exports__.META_DESC=META_DESC;__exports__.EMPTY_META=EMPTY_META;__exports__.meta=meta;__exports__.typeOf=typeOf;__exports__.tryCatchFinally=tryCatchFinally;__exports__.isArray=isArray;__exports__.canInvoke=canInvoke;__exports__.tryFinally=tryFinally});enifed("ember-metal/watch_key",["ember-metal/core","ember-metal/utils","ember-metal/platform","ember-metal/properties","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var Ember=__dependency1__["default"];var meta=__dependency2__.meta;var typeOf=__dependency2__.typeOf;var o_defineProperty=__dependency3__.defineProperty;var hasPropertyAccessors=__dependency3__.hasPropertyAccessors;var MANDATORY_SETTER_FUNCTION=__dependency4__.MANDATORY_SETTER_FUNCTION;var DEFAULT_GETTER_FUNCTION=__dependency4__.DEFAULT_GETTER_FUNCTION;var metaFor=meta;function watchKey(obj,keyName,meta){if(keyName==="length"&&typeOf(obj)==="array"){return}var m=meta||metaFor(obj),watching=m.watching;if(!watching[keyName]){watching[keyName]=1;var desc=m.descs[keyName];if(desc&&desc.willWatch){desc.willWatch(obj,keyName)}if("function"===typeof obj.willWatchProperty){obj.willWatchProperty(keyName)}}else{watching[keyName]=(watching[keyName]||0)+1}}__exports__.watchKey=watchKey;function unwatchKey(obj,keyName,meta){var m=meta||metaFor(obj),watching=m.watching;if(watching[keyName]===1){watching[keyName]=0;var desc=m.descs[keyName];if(desc&&desc.didUnwatch){desc.didUnwatch(obj,keyName)}if("function"===typeof obj.didUnwatchProperty){obj.didUnwatchProperty(keyName)}}else if(watching[keyName]>1){watching[keyName]--}}__exports__.unwatchKey=unwatchKey});enifed("ember-metal/watch_path",["ember-metal/utils","ember-metal/chains","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var meta=__dependency1__.meta;var typeOf=__dependency1__.typeOf;var ChainNode=__dependency2__.ChainNode;var metaFor=meta;function chainsFor(obj,meta){var m=meta||metaFor(obj);var ret=m.chains;if(!ret){ret=m.chains=new ChainNode(null,null,obj)}else if(ret.value()!==obj){ret=m.chains=ret.copy(obj)}return ret}function watchPath(obj,keyPath,meta){if(keyPath==="length"&&typeOf(obj)==="array"){return}var m=meta||metaFor(obj);var watching=m.watching;if(!watching[keyPath]){watching[keyPath]=1;chainsFor(obj,m).add(keyPath)}else{watching[keyPath]=(watching[keyPath]||0)+1}}__exports__.watchPath=watchPath;function unwatchPath(obj,keyPath,meta){var m=meta||metaFor(obj);var watching=m.watching;if(watching[keyPath]===1){watching[keyPath]=0;chainsFor(obj,m).remove(keyPath)}else if(watching[keyPath]>1){watching[keyPath]--}}__exports__.unwatchPath=unwatchPath});enifed("ember-metal/watching",["ember-metal/utils","ember-metal/chains","ember-metal/watch_key","ember-metal/watch_path","ember-metal/path_cache","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var meta=__dependency1__.meta;var GUID_KEY=__dependency1__.GUID_KEY;var typeOf=__dependency1__.typeOf;var generateGuid=__dependency1__.generateGuid;var removeChainWatcher=__dependency2__.removeChainWatcher;var flushPendingChains=__dependency2__.flushPendingChains;var watchKey=__dependency3__.watchKey;var unwatchKey=__dependency3__.unwatchKey;var watchPath=__dependency4__.watchPath;var unwatchPath=__dependency4__.unwatchPath;var metaFor=meta;var isPath=__dependency5__.isPath;function watch(obj,_keyPath,m){if(_keyPath==="length"&&typeOf(obj)==="array"){return}if(!isPath(_keyPath)){watchKey(obj,_keyPath,m)}else{watchPath(obj,_keyPath,m)}}__exports__.watch=watch;function isWatching(obj,key){var meta=obj["__ember_meta__"];return(meta&&meta.watching[key])>0}__exports__.isWatching=isWatching;watch.flushPending=flushPendingChains;function unwatch(obj,_keyPath,m){if(_keyPath==="length"&&typeOf(obj)==="array"){return}if(!isPath(_keyPath)){unwatchKey(obj,_keyPath,m)}else{unwatchPath(obj,_keyPath,m)}}__exports__.unwatch=unwatch;function rewatch(obj){var m=obj["__ember_meta__"],chains=m&&m.chains;if(GUID_KEY in obj&&!obj.hasOwnProperty(GUID_KEY)){generateGuid(obj)}if(chains&&chains.value()!==obj){m.chains=chains.copy(obj)}}__exports__.rewatch=rewatch;var NODE_STACK=[];function destroy(obj){var meta=obj["__ember_meta__"],node,nodes,key,nodeObject;if(meta){obj["__ember_meta__"]=null;node=meta.chains;if(node){NODE_STACK.push(node);while(NODE_STACK.length>0){node=NODE_STACK.pop();nodes=node._chains;if(nodes){for(key in nodes){if(nodes.hasOwnProperty(key)){NODE_STACK.push(nodes[key])}}}if(node._watching){nodeObject=node._object;if(nodeObject){removeChainWatcher(nodeObject,node._key,node)}}}}}}__exports__.destroy=destroy});enifed("ember-routing-handlebars",["ember-metal/core","ember-handlebars","ember-routing/system/router","ember-routing-handlebars/helpers/shared","ember-routing-handlebars/helpers/link_to","ember-routing-handlebars/helpers/outlet","ember-routing-handlebars/helpers/render","ember-routing-handlebars/helpers/action","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var Ember=__dependency1__["default"];var EmberHandlebars=__dependency2__["default"];var Router=__dependency3__["default"];var resolvePaths=__dependency4__.resolvePaths;var resolveParams=__dependency4__.resolveParams;var deprecatedLinkToHelper=__dependency5__.deprecatedLinkToHelper;var linkToHelper=__dependency5__.linkToHelper;var LinkView=__dependency5__.LinkView;var queryParamsHelper=__dependency5__.queryParamsHelper;var outletHelper=__dependency6__.outletHelper;var OutletView=__dependency6__.OutletView;var renderHelper=__dependency7__["default"];var ActionHelper=__dependency8__.ActionHelper;var actionHelper=__dependency8__.actionHelper;Router.resolveParams=resolveParams;Router.resolvePaths=resolvePaths;Ember.LinkView=LinkView;EmberHandlebars.ActionHelper=ActionHelper;EmberHandlebars.OutletView=OutletView;EmberHandlebars.registerHelper("render",renderHelper);EmberHandlebars.registerHelper("action",actionHelper);EmberHandlebars.registerHelper("outlet",outletHelper);EmberHandlebars.registerHelper("link-to",linkToHelper);EmberHandlebars.registerHelper("linkTo",deprecatedLinkToHelper);EmberHandlebars.registerHelper("query-params",queryParamsHelper);__exports__["default"]=Ember});enifed("ember-routing-handlebars/helpers/action",["ember-metal/core","ember-metal/property_get","ember-metal/array","ember-metal/utils","ember-metal/run_loop","ember-views/system/utils","ember-views/system/action_manager","ember-routing/system/router","ember-handlebars","ember-handlebars/ext","ember-handlebars/helpers/view","ember-routing-handlebars/helpers/shared","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var forEach=__dependency3__.forEach;var uuid=__dependency4__.uuid;var run=__dependency5__["default"];var isSimpleClick=__dependency6__.isSimpleClick;var ActionManager=__dependency7__["default"];var EmberRouter=__dependency8__["default"];var EmberHandlebars=__dependency9__["default"];var handlebarsGet=__dependency10__.handlebarsGet;var viewHelper=__dependency11__.viewHelper;var resolveParams=__dependency12__.resolveParams;var resolvePath=__dependency12__.resolvePath;var SafeString=EmberHandlebars.SafeString;var a_slice=Array.prototype.slice;function args(options,actionName){var ret=[];if(actionName){ret.push(actionName)}var types=options.options.types.slice(1);var data=options.options.data;return ret.concat(resolveParams(options.context,options.params,{types:types,data:data}))}var ActionHelper={};ActionHelper.registeredActions=ActionManager.registeredActions;__exports__.ActionHelper=ActionHelper;var keys=["alt","shift","meta","ctrl"];var POINTER_EVENT_TYPE_REGEX=/^click|mouse|touch/;var isAllowedEvent=function(event,allowedKeys){if(typeof allowedKeys==="undefined"){if(POINTER_EVENT_TYPE_REGEX.test(event.type)){return isSimpleClick(event)}else{allowedKeys=""}}if(allowedKeys.indexOf("any")>=0){return true}var allowed=true;forEach.call(keys,function(key){if(event[key+"Key"]&&allowedKeys.indexOf(key)===-1){allowed=false}});return allowed};function isKeyEvent(eventName){return["keyUp","keyPress","keyDown"].indexOf(eventName)!==-1}function ignoreKeyEvent(eventName,event,keyCode){var any="any";keyCode=keyCode||any;return isKeyEvent(eventName)&&keyCode!==any&&keyCode!==event.which.toString()}ActionHelper.registerAction=function(actionNameOrPath,options,allowedKeys){var actionId=uuid();ActionManager.registeredActions[actionId]={eventName:options.eventName,handler:function handleRegisteredAction(event){if(!isAllowedEvent(event,allowedKeys)){return true}if(options.preventDefault!==false){event.preventDefault()}if(options.bubbles===false){event.stopPropagation()}var target=options.target;var parameters=options.parameters;var eventName=options.eventName;var actionName;if(target.target){target=handlebarsGet(target.root,target.target,target.options)}else{target=target.root}if(options.boundProperty){actionName=resolveParams(parameters.context,[actionNameOrPath],{types:["ID"],data:parameters.options.data})[0];if(typeof actionName==="undefined"||typeof actionName==="function"){actionName=actionNameOrPath}}if(!actionName){actionName=actionNameOrPath}run(function runRegisteredAction(){if(target.send){target.send.apply(target,args(parameters,actionName))}else{target[actionName].apply(target,args(parameters))}})}};options.view.on("willClearRender",function(){delete ActionManager.registeredActions[actionId]});return actionId};function actionHelper(actionName){var options=arguments[arguments.length-1];var contexts=a_slice.call(arguments,1,-1);var hash=options.hash;var controller=options.data.keywords.controller;var action={eventName:hash.on||"click",parameters:{context:this,options:options,params:contexts},view:options.data.view,bubbles:hash.bubbles,preventDefault:hash.preventDefault,target:{options:options},withKeyCode:hash.withKeyCode,boundProperty:options.types[0]==="ID"};if(hash.target){action.target.root=this;action.target.target=hash.target}else if(controller){action.target.root=controller}var actionId=ActionHelper.registerAction(actionName,action,hash.allowedKeys);return new SafeString('data-ember-action="'+actionId+'"')}__exports__.actionHelper=actionHelper});enifed("ember-routing-handlebars/helpers/link_to",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/merge","ember-metal/run_loop","ember-metal/computed","ember-runtime/system/lazy_load","ember-runtime/system/string","ember-runtime/system/object","ember-metal/keys","ember-views/system/utils","ember-views/views/component","ember-handlebars","ember-handlebars/helpers/view","ember-routing/system/router","ember-routing-handlebars/helpers/shared","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var merge=__dependency4__["default"];var run=__dependency5__["default"];var computed=__dependency6__.computed;var onLoad=__dependency7__.onLoad;var fmt=__dependency8__.fmt;var EmberObject=__dependency9__["default"];var keys=__dependency10__["default"];var isSimpleClick=__dependency11__.isSimpleClick;var EmberComponent=__dependency12__["default"];var EmberHandlebars=__dependency13__["default"];var viewHelper=__dependency14__.viewHelper;var EmberRouter=__dependency15__["default"];var resolveParams=__dependency16__.resolveParams;var resolvePaths=__dependency16__.resolvePaths;var routeArgs=__dependency16__.routeArgs;var slice=[].slice;requireModule("ember-handlebars");var numberOfContextsAcceptedByHandler=function(handler,handlerInfos){var req=0;for(var i=0,l=handlerInfos.length;i<l;i++){req=req+handlerInfos[i].names.length;if(handlerInfos[i].handler===handler)break}return req};var QueryParams=EmberObject.extend({values:null});function getResolvedPaths(options){var types=options.options.types;var data=options.options.data;return resolvePaths(options.context,options.params,{types:types,data:data})}var LinkView=Ember.LinkView=EmberComponent.extend({tagName:"a",currentWhen:null,"current-when":null,title:null,rel:null,activeClass:"active",loadingClass:"loading",disabledClass:"disabled",_isDisabled:false,replace:false,attributeBindings:["href","title","rel","tabindex"],classNameBindings:["active","loading","disabled"],eventName:"click",init:function(){this._super.apply(this,arguments);var eventName=get(this,"eventName");this.on(eventName,this,this._invoke)},_paramsChanged:function(){this.notifyPropertyChange("resolvedParams")},_setupPathObservers:function(){var helperParameters=this.parameters;var linkTextPath=helperParameters.options.linkTextPath;var paths=getResolvedPaths(helperParameters);var length=paths.length;var path,i,normalizedPath;if(linkTextPath){normalizedPath=getNormalizedPath(linkTextPath,helperParameters);this.registerObserver(normalizedPath.root,normalizedPath.path,this,this.rerender)}for(i=0;i<length;i++){path=paths[i];if(null===path){continue}normalizedPath=getNormalizedPath(path,helperParameters);this.registerObserver(normalizedPath.root,normalizedPath.path,this,this._paramsChanged)}var queryParamsObject=this.queryParamsObject;if(queryParamsObject){var values=queryParamsObject.values;for(var k in values){if(!values.hasOwnProperty(k)){continue}if(queryParamsObject.types[k]==="ID"){normalizedPath=getNormalizedPath(values[k],helperParameters);this.registerObserver(normalizedPath.root,normalizedPath.path,this,this._paramsChanged)}}}},afterRender:function(){this._super.apply(this,arguments);this._setupPathObservers()},disabled:computed(function computeLinkViewDisabled(key,value){if(value!==undefined){this.set("_isDisabled",value)}return value?get(this,"disabledClass"):false}),active:computed("loadedParams",function computeLinkViewActive(){if(get(this,"loading")){return false}var router=get(this,"router");var loadedParams=get(this,"loadedParams");var contexts=loadedParams.models;var currentWhen=this["current-when"]||this.currentWhen;var isCurrentWhenSpecified=Boolean(currentWhen);currentWhen=currentWhen||loadedParams.targetRouteName;function isActiveForRoute(routeName){var handlers=router.router.recognizer.handlersFor(routeName);var leafName=handlers[handlers.length-1].handler;var maximumContexts=numberOfContextsAcceptedByHandler(routeName,handlers);if(contexts.length>maximumContexts){routeName=leafName}var args=routeArgs(routeName,contexts,null);var isActive=router.isActive.apply(router,args);if(!isActive){return false}var emptyQueryParams=Ember.isEmpty(Ember.keys(loadedParams.queryParams));if(!isCurrentWhenSpecified&&!emptyQueryParams&&isActive){var visibleQueryParams={};merge(visibleQueryParams,loadedParams.queryParams);router._prepareQueryParams(loadedParams.targetRouteName,loadedParams.models,visibleQueryParams);isActive=shallowEqual(visibleQueryParams,router.router.state.queryParams)}return isActive}currentWhen=currentWhen.split(" ");for(var i=0,len=currentWhen.length;i<len;i++){if(isActiveForRoute(currentWhen[i])){return get(this,"activeClass")}}}),loading:computed("loadedParams",function computeLinkViewLoading(){if(!get(this,"loadedParams")){return get(this,"loadingClass")}}),router:computed(function(){var controller=get(this,"controller");if(controller&&controller.container){return controller.container.lookup("router:main")}}),_invoke:function(event){if(!isSimpleClick(event)){return true}if(this.preventDefault!==false){var targetAttribute=get(this,"target");if(!targetAttribute||targetAttribute==="_self"){event.preventDefault()}}if(this.bubbles===false){event.stopPropagation()}if(get(this,"_isDisabled")){return false}if(get(this,"loading")){Ember.Logger.warn("This link-to is in an inactive loading state because at least one of its parameters presently has a null/undefined value, or the provided route name is invalid.");return false}var targetAttribute2=get(this,"target");if(targetAttribute2&&targetAttribute2!=="_self"){return false}var router=get(this,"router");var loadedParams=get(this,"loadedParams");var transition=router._doTransition(loadedParams.targetRouteName,loadedParams.models,loadedParams.queryParams);
if(get(this,"replace")){transition.method("replace")}var args=routeArgs(loadedParams.targetRouteName,loadedParams.models,transition.state.queryParams);var url=router.router.generate.apply(router.router,args);run.scheduleOnce("routerTransitions",this,this._eagerUpdateUrl,transition,url)},_eagerUpdateUrl:function(transition,href){if(!transition.isActive||!transition.urlMethod){return}if(href.indexOf("#")===0){href=href.slice(1)}var routerjs=get(this,"router.router");if(transition.urlMethod==="update"){routerjs.updateURL(href)}else if(transition.urlMethod==="replace"){routerjs.replaceURL(href)}transition.method(null)},resolvedParams:computed("router.url",function(){var parameters=this.parameters;var options=parameters.options;var types=options.types;var data=options.data;var targetRouteName,models;var onlyQueryParamsSupplied=parameters.params.length===0;if(onlyQueryParamsSupplied){var appController=this.container.lookup("controller:application");targetRouteName=get(appController,"currentRouteName");models=[]}else{models=resolveParams(parameters.context,parameters.params,{types:types,data:data});targetRouteName=models.shift()}var suppliedQueryParams=getResolvedQueryParams(this,targetRouteName);return{targetRouteName:targetRouteName,models:models,queryParams:suppliedQueryParams}}),loadedParams:computed("resolvedParams",function computeLinkViewRouteArgs(){var router=get(this,"router");if(!router){return}var resolvedParams=get(this,"resolvedParams");var namedRoute=resolvedParams.targetRouteName;if(!namedRoute){return}if(!paramsAreLoaded(resolvedParams.models)){return}return resolvedParams}),queryParamsObject:null,href:computed("loadedParams",function computeLinkViewHref(){if(get(this,"tagName")!=="a"){return}var router=get(this,"router");var loadedParams=get(this,"loadedParams");if(!loadedParams){return get(this,"loadingHref")}var visibleQueryParams={};merge(visibleQueryParams,loadedParams.queryParams);router._prepareQueryParams(loadedParams.targetRouteName,loadedParams.models,visibleQueryParams);var args=routeArgs(loadedParams.targetRouteName,loadedParams.models,visibleQueryParams);var result=router.generate.apply(router,args);return result}),loadingHref:"#"});LinkView.toString=function(){return"LinkView"};LinkView.reopen({attributeBindings:["target"],target:null});function linkToHelper(name){var options=slice.call(arguments,-1)[0];var params=slice.call(arguments,0,-1);var hash=options.hash;if(params[params.length-1]instanceof QueryParams){hash.queryParamsObject=params.pop()}hash.disabledBinding=hash.disabledWhen;if(!options.fn){var linkTitle=params.shift();var linkType=options.types.shift();var context=this;if(linkType==="ID"){options.linkTextPath=linkTitle;options.fn=function(){return EmberHandlebars.getEscaped(context,linkTitle,options)}}else{options.fn=function(){return linkTitle}}}hash.parameters={context:this,options:options,params:params};options.helperName=options.helperName||"link-to";return viewHelper.call(this,LinkView,options)}function queryParamsHelper(options){return QueryParams.create({values:options.hash,types:options.hashTypes})}__exports__.queryParamsHelper=queryParamsHelper;function deprecatedLinkToHelper(){return linkToHelper.apply(this,arguments)}function getResolvedQueryParams(linkView,targetRouteName){var helperParameters=linkView.parameters;var queryParamsObject=linkView.queryParamsObject;var resolvedQueryParams={};if(!queryParamsObject){return resolvedQueryParams}var rawParams=queryParamsObject.values;for(var key in rawParams){if(!rawParams.hasOwnProperty(key)){continue}var value=rawParams[key];var type=queryParamsObject.types[key];if(type==="ID"){var normalizedPath=getNormalizedPath(value,helperParameters);value=EmberHandlebars.get(normalizedPath.root,normalizedPath.path,helperParameters.options)}resolvedQueryParams[key]=value}return resolvedQueryParams}function getNormalizedPath(path,helperParameters){return EmberHandlebars.normalizePath(helperParameters.context,path,helperParameters.options.data)}function paramsAreLoaded(params){for(var i=0,len=params.length;i<len;++i){var param=params[i];if(param===null||typeof param==="undefined"){return false}}return true}function shallowEqual(a,b){var k;for(k in a){if(a.hasOwnProperty(k)&&a[k]!==b[k]){return false}}for(k in b){if(b.hasOwnProperty(k)&&a[k]!==b[k]){return false}}return true}__exports__.LinkView=LinkView;__exports__.deprecatedLinkToHelper=deprecatedLinkToHelper;__exports__.linkToHelper=linkToHelper});enifed("ember-routing-handlebars/helpers/outlet",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/lazy_load","ember-views/views/container_view","ember-handlebars/views/metamorph_view","ember-handlebars/helpers/view","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var onLoad=__dependency4__.onLoad;var ContainerView=__dependency5__["default"];var _Metamorph=__dependency6__._Metamorph;var viewHelper=__dependency7__.viewHelper;var OutletView=ContainerView.extend(_Metamorph);__exports__.OutletView=OutletView;function outletHelper(property,options){var outletSource;var container;var viewName;var viewClass;var viewFullName;if(property&&property.data&&property.data.isRenderData){options=property;property="main"}container=options.data.view.container;outletSource=options.data.view;while(!outletSource.get("template.isTop")){outletSource=outletSource.get("_parentView")}viewName=options.hash.view;if(viewName){viewFullName="view:"+viewName}viewClass=viewName?container.lookupFactory(viewFullName):options.hash.viewClass||OutletView;options.data.view.set("outletSource",outletSource);options.hash.currentViewBinding="_view.outletSource._outlets."+property;options.helperName=options.helperName||"outlet";return viewHelper.call(this,viewClass,options)}__exports__.outletHelper=outletHelper});enifed("ember-routing-handlebars/helpers/render",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-routing/system/generate_controller","ember-handlebars/ext","ember-handlebars/helpers/view","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var Ember=__dependency1__["default"];var EmberError=__dependency2__["default"];var get=__dependency3__.get;var set=__dependency4__.set;var camelize=__dependency5__.camelize;var generateControllerFactory=__dependency6__.generateControllerFactory;var generateController=__dependency6__["default"];var handlebarsGet=__dependency7__.handlebarsGet;var ViewHelper=__dependency8__.ViewHelper;__exports__["default"]=function renderHelper(name,contextString,options){var length=arguments.length;var contextProvided=length===3;var container,router,controller,view,context,lookupOptions;container=(options||contextString).data.keywords.controller.container;router=container.lookup("router:main");if(length===2){options=contextString;contextString=undefined}else if(length===3){context=handlebarsGet(options.contexts[1],contextString,options)}else{throw new EmberError("You must pass a templateName to render")}name=name.replace(/\//g,".");view=container.lookup("view:"+name)||container.lookup("view:default");var controllerName=options.hash.controller||name;var controllerFullName="controller:"+controllerName;if(options.hash.controller){}var parentController=options.data.keywords.controller;if(length>2){var factory=container.lookupFactory(controllerFullName)||generateControllerFactory(container,controllerName,context);controller=factory.create({model:context,parentController:parentController,target:parentController});view.one("willDestroyElement",function(){controller.destroy()})}else{controller=container.lookup(controllerFullName)||generateController(container,controllerName);controller.setProperties({target:parentController,parentController:parentController})}var root=options.contexts[1];if(root){view.registerObserver(root,contextString,function(){controller.set("model",handlebarsGet(root,contextString,options))})}options.hash.viewName=camelize(name);var templateName="template:"+name;options.hash.template=container.lookup(templateName);options.hash.controller=controller;if(router&&!context){router._connectActiveView(name,view)}options.helperName=options.helperName||'render "'+name+'"';ViewHelper.instanceHelper(this,view,options)}});enifed("ember-routing-handlebars/helpers/shared",["ember-metal/property_get","ember-metal/array","ember-runtime/mixins/controller","ember-handlebars/ext","ember-metal/utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var get=__dependency1__.get;var map=__dependency2__.map;var ControllerMixin=__dependency3__["default"];var handlebarsResolve=__dependency4__.resolveParams;var handlebarsGet=__dependency4__.handlebarsGet;var typeOf=__dependency5__.typeOf;var get=__dependency1__.get;function routeArgs(targetRouteName,models,queryParams){var args=[];if(typeOf(targetRouteName)==="string"){args.push(""+targetRouteName)}args.push.apply(args,models);args.push({queryParams:queryParams});return args}__exports__.routeArgs=routeArgs;function getActiveTargetName(router){var handlerInfos=router.activeTransition?router.activeTransition.state.handlerInfos:router.state.handlerInfos;return handlerInfos[handlerInfos.length-1].name}__exports__.getActiveTargetName=getActiveTargetName;function resolveParams(context,params,options){return map.call(resolvePaths(context,params,options),function(path,i){if(null===path){return params[i]}else{return handlebarsGet(context,path,options)}})}__exports__.resolveParams=resolveParams;function stashParamNames(router,handlerInfos){if(handlerInfos._namesStashed){return}var targetRouteName=handlerInfos[handlerInfos.length-1].name;var recogHandlers=router.router.recognizer.handlersFor(targetRouteName);var dynamicParent=null;for(var i=0,len=handlerInfos.length;i<len;++i){var handlerInfo=handlerInfos[i];var names=recogHandlers[i].names;if(names.length){dynamicParent=handlerInfo}handlerInfo._names=names;var route=handlerInfo.handler;route._stashNames(handlerInfo,dynamicParent)}handlerInfos._namesStashed=true}__exports__.stashParamNames=stashParamNames;function resolvePaths(context,params,options){var resolved=handlebarsResolve(context,params,options);var types=options.types;return map.call(resolved,function(object,i){if(types[i]==="ID"){return unwrap(object,params[i])}else{return null}});function unwrap(object,path){if(path==="controller"){return path}if(ControllerMixin.detect(object)){return unwrap(get(object,"model"),path?path+".model":"model")}else{return path}}}__exports__.resolvePaths=resolvePaths});enifed("ember-routing",["ember-handlebars","ember-metal/core","ember-routing/ext/run_loop","ember-routing/ext/controller","ember-routing/ext/view","ember-routing/location/api","ember-routing/location/none_location","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/system/generate_controller","ember-routing/system/controller_for","ember-routing/system/dsl","ember-routing/system/router","ember-routing/system/route","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__exports__){"use strict";var EmberHandlebars=__dependency1__["default"];var Ember=__dependency2__["default"];var EmberLocation=__dependency6__["default"];var NoneLocation=__dependency7__["default"];var HashLocation=__dependency8__["default"];var HistoryLocation=__dependency9__["default"];var AutoLocation=__dependency10__["default"];var generateControllerFactory=__dependency11__.generateControllerFactory;var generateController=__dependency11__["default"];var controllerFor=__dependency12__["default"];var RouterDSL=__dependency13__["default"];var Router=__dependency14__["default"];var Route=__dependency15__["default"];Ember.Location=EmberLocation;Ember.AutoLocation=AutoLocation;Ember.HashLocation=HashLocation;Ember.HistoryLocation=HistoryLocation;Ember.NoneLocation=NoneLocation;Ember.controllerFor=controllerFor;Ember.generateControllerFactory=generateControllerFactory;Ember.generateController=generateController;Ember.RouterDSL=RouterDSL;Ember.Router=Router;Ember.Route=Route;__exports__["default"]=Ember});enifed("ember-routing/ext/controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/utils","ember-metal/merge","ember-metal/enumerable_utils","ember-runtime/mixins/controller","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var computed=__dependency4__.computed;var typeOf=__dependency5__.typeOf;var meta=__dependency5__.meta;var merge=__dependency6__["default"];var map=__dependency7__.map;var ControllerMixin=__dependency8__["default"];ControllerMixin.reopen({concatenatedProperties:["queryParams","_pCacheMeta"],init:function(){this._super.apply(this,arguments);listenForQueryParamChanges(this)},queryParams:null,_qpDelegate:null,_normalizedQueryParams:computed(function(){var m=meta(this);if(m.proto!==this){return get(m.proto,"_normalizedQueryParams")}var queryParams=get(this,"queryParams");if(queryParams._qpMap){return queryParams._qpMap}var qpMap=queryParams._qpMap={};for(var i=0,len=queryParams.length;i<len;++i){accumulateQueryParamDescriptors(queryParams[i],qpMap)}return qpMap}),_cacheMeta:computed(function(){var m=meta(this);if(m.proto!==this){return get(m.proto,"_cacheMeta")}var cacheMeta={};var qpMap=get(this,"_normalizedQueryParams");for(var prop in qpMap){if(!qpMap.hasOwnProperty(prop)){continue}var qp=qpMap[prop];var scope=qp.scope;var parts;if(scope==="controller"){parts=[]}cacheMeta[prop]={parts:parts,values:null,scope:scope,prefix:"",def:get(this,prop)}}return cacheMeta}),_updateCacheParams:function(params){var cacheMeta=get(this,"_cacheMeta");for(var prop in cacheMeta){if(!cacheMeta.hasOwnProperty(prop)){continue}var propMeta=cacheMeta[prop];propMeta.values=params;var cacheKey=this._calculateCacheKey(propMeta.prefix,propMeta.parts,propMeta.values);var cache=this._bucketCache;if(cache){var value=cache.lookup(cacheKey,prop,propMeta.def);set(this,prop,value)}}},_qpChanged:function(controller,_prop){var prop=_prop.substr(0,_prop.length-3);var cacheMeta=get(controller,"_cacheMeta");var propCache=cacheMeta[prop];var cacheKey=controller._calculateCacheKey(propCache.prefix||"",propCache.parts,propCache.values);var value=get(controller,prop);var cache=this._bucketCache;if(cache){controller._bucketCache.stash(cacheKey,prop,value)}var delegate=controller._qpDelegate;if(delegate){delegate(controller,prop)}},_calculateCacheKey:function(prefix,_parts,values){var parts=_parts||[],suffixes="";for(var i=0,len=parts.length;i<len;++i){var part=parts[i];var value=get(values,part);suffixes+="::"+part+":"+value}return prefix+suffixes.replace(ALL_PERIODS_REGEX,"-")},transitionToRoute:function(){var target=get(this,"target");var method=target.transitionToRoute||target.transitionTo;return method.apply(target,arguments)},transitionTo:function(){return this.transitionToRoute.apply(this,arguments)},replaceRoute:function(){var target=get(this,"target");var method=target.replaceRoute||target.replaceWith;return method.apply(target,arguments)},replaceWith:function(){return this.replaceRoute.apply(this,arguments)}});var ALL_PERIODS_REGEX=/\./g;function accumulateQueryParamDescriptors(_desc,accum){var desc=_desc,tmp;if(typeOf(desc)==="string"){tmp={};tmp[desc]={as:null};desc=tmp}for(var key in desc){if(!desc.hasOwnProperty(key)){return}var singleDesc=desc[key];if(typeOf(singleDesc)==="string"){singleDesc={as:singleDesc}}tmp=accum[key]||{as:null,scope:"model"};merge(tmp,singleDesc);accum[key]=tmp}}function listenForQueryParamChanges(controller){var qpMap=get(controller,"_normalizedQueryParams");for(var prop in qpMap){if(!qpMap.hasOwnProperty(prop)){continue}controller.addObserver(prop+".[]",controller,controller._qpChanged)}}__exports__["default"]=ControllerMixin});enifed("ember-routing/ext/run_loop",["ember-metal/run_loop"],function(__dependency1__){"use strict";var run=__dependency1__["default"];var queues=run.queues;run._addQueue("routerTransitions","actions")});enifed("ember-routing/ext/view",["ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-views/views/view","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var get=__dependency1__.get;var set=__dependency2__.set;var run=__dependency3__["default"];var EmberView=__dependency4__["default"];EmberView.reopen({init:function(){set(this,"_outlets",{});this._super()},connectOutlet:function(outletName,view){if(this._pendingDisconnections){delete this._pendingDisconnections[outletName]}if(this._hasEquivalentView(outletName,view)){view.destroy();return}var outlets=get(this,"_outlets");var container=get(this,"container");var router=container&&container.lookup("router:main");var renderedName=get(view,"renderedName");set(outlets,outletName,view);if(router&&renderedName){router._connectActiveView(renderedName,view)}},_hasEquivalentView:function(outletName,view){var existingView=get(this,"_outlets."+outletName);return existingView&&existingView.constructor===view.constructor&&existingView.get("template")===view.get("template")&&existingView.get("context")===view.get("context")},disconnectOutlet:function(outletName){if(!this._pendingDisconnections){this._pendingDisconnections={}}this._pendingDisconnections[outletName]=true;run.once(this,"_finishDisconnections")},_finishDisconnections:function(){if(this.isDestroyed)return;var outlets=get(this,"_outlets");var pendingDisconnections=this._pendingDisconnections;this._pendingDisconnections=null;for(var outletName in pendingDisconnections){set(outlets,outletName,null)}}});__exports__["default"]=EmberView});enifed("ember-routing/location/api",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;__exports__["default"]={create:function(options){var implementation=options&&options.implementation;var implementationClass=this.implementations[implementation];return implementationClass.create.apply(implementationClass,arguments)},registerImplementation:function(name,implementation){this.implementations[name]=implementation},implementations:{},_location:window.location,_getHash:function(){var href=(this._location||this.location).href;var hashIndex=href.indexOf("#");if(hashIndex===-1){return""}else{return href.substr(hashIndex)}}}});enifed("ember-routing/location/auto_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-routing/location/api","ember-routing/location/history_location","ember-routing/location/hash_location","ember-routing/location/none_location","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var EmberLocation=__dependency4__["default"];var HistoryLocation=__dependency5__["default"];var HashLocation=__dependency6__["default"];var NoneLocation=__dependency7__["default"];__exports__["default"]={cancelRouterSetup:false,rootURL:"/",_window:window,_location:window.location,_history:window.history,_HistoryLocation:HistoryLocation,_HashLocation:HashLocation,_NoneLocation:NoneLocation,_getOrigin:function(){var location=this._location;var origin=location.origin;if(!origin){origin=location.protocol+"//"+location.hostname;if(location.port){origin+=":"+location.port}}return origin},_getSupportsHistory:function(){var userAgent=this._window.navigator.userAgent;if(userAgent.indexOf("Android 2")!==-1&&userAgent.indexOf("Mobile Safari")!==-1&&userAgent.indexOf("Chrome")===-1){return false}return!!(this._history&&"pushState"in this._history)},_getSupportsHashChange:function(){var _window=this._window;var documentMode=_window.document.documentMode;return"onhashchange"in _window&&(documentMode===undefined||documentMode>7)},_replacePath:function(path){this._location.replace(this._getOrigin()+path)},_getRootURL:function(){return this.rootURL},_getPath:function(){var pathname=this._location.pathname;if(pathname.charAt(0)!=="/"){pathname="/"+pathname}return pathname},_getHash:EmberLocation._getHash,_getQuery:function(){return this._location.search},_getFullPath:function(){return this._getPath()+this._getQuery()+this._getHash()},_getHistoryPath:function(){var rootURL=this._getRootURL();var path=this._getPath();var hash=this._getHash();var query=this._getQuery();var rootURLIndex=path.indexOf(rootURL);var routeHash,hashParts;if(hash.substr(0,2)==="#/"){hashParts=hash.substr(1).split("#");routeHash=hashParts.shift();if(path.slice(-1)==="/"){routeHash=routeHash.substr(1)}path+=routeHash;path+=query;if(hashParts.length){path+="#"+hashParts.join("#")}}else{path+=query;path+=hash}return path},_getHashPath:function(){var rootURL=this._getRootURL();var path=rootURL;var historyPath=this._getHistoryPath();var routePath=historyPath.substr(rootURL.length);if(routePath!==""){if(routePath.charAt(0)!=="/"){routePath="/"+routePath}path+="#"+routePath}return path},create:function(options){if(options&&options.rootURL){this.rootURL=options.rootURL}var historyPath,hashPath;var cancelRouterSetup=false;var implementationClass=this._NoneLocation;var currentPath=this._getFullPath();if(this._getSupportsHistory()){historyPath=this._getHistoryPath();if(currentPath===historyPath){implementationClass=this._HistoryLocation}else{if(currentPath.substr(0,2)==="/#"){this._history.replaceState({path:historyPath},null,historyPath);implementationClass=this._HistoryLocation}else{cancelRouterSetup=true;this._replacePath(historyPath)}}}else if(this._getSupportsHashChange()){hashPath=this._getHashPath();if(currentPath===hashPath||currentPath==="/"&&hashPath==="/#/"){implementationClass=this._HashLocation}else{cancelRouterSetup=true;this._replacePath(hashPath)}}var implementation=implementationClass.create.apply(implementationClass,arguments);if(cancelRouterSetup){set(implementation,"cancelRouterSetup",true)}return implementation}}});enifed("ember-routing/location/hash_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/object","ember-routing/location/api","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var run=__dependency4__["default"];var guidFor=__dependency5__.guidFor;var EmberObject=__dependency6__["default"];var EmberLocation=__dependency7__["default"];__exports__["default"]=EmberObject.extend({implementation:"hash",init:function(){set(this,"location",get(this,"_location")||window.location)},getHash:EmberLocation._getHash,getURL:function(){var path=this.getHash().substr(1);return path},setURL:function(path){get(this,"location").hash=path;set(this,"lastSetURL",path)},replaceURL:function(path){get(this,"location").replace("#"+path);set(this,"lastSetURL",path)},onUpdateURL:function(callback){var self=this;var guid=guidFor(this);Ember.$(window).on("hashchange.ember-location-"+guid,function(){run(function(){var path=self.getURL();if(get(self,"lastSetURL")===path){return}set(self,"lastSetURL",null);callback(path)})})},formatURL:function(url){return"#"+url},willDestroy:function(){var guid=guidFor(this);Ember.$(window).off("hashchange.ember-location-"+guid)}})});enifed("ember-routing/location/history_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-runtime/system/object","ember-views/system/jquery","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var guidFor=__dependency4__.guidFor;var EmberObject=__dependency5__["default"];var jQuery=__dependency6__["default"];var popstateFired=false;var supportsHistoryState=window.history&&"state"in window.history;__exports__["default"]=EmberObject.extend({implementation:"history",init:function(){set(this,"location",get(this,"location")||window.location);set(this,"baseURL",jQuery("base").attr("href")||"")},initState:function(){set(this,"history",get(this,"history")||window.history);this.replaceState(this.formatURL(this.getURL()))},rootURL:"/",getURL:function(){var rootURL=get(this,"rootURL");var location=get(this,"location");var path=location.pathname;var baseURL=get(this,"baseURL");rootURL=rootURL.replace(/\/$/,"");baseURL=baseURL.replace(/\/$/,"");var url=path.replace(baseURL,"").replace(rootURL,"");var search=location.search||"";url+=search;return url},setURL:function(path){var state=this.getState();path=this.formatURL(path);if(!state||state.path!==path){this.pushState(path)}},replaceURL:function(path){var state=this.getState();path=this.formatURL(path);if(!state||state.path!==path){this.replaceState(path)}},getState:function(){return supportsHistoryState?get(this,"history").state:this._historyState},pushState:function(path){var state={path:path};get(this,"history").pushState(state,null,path);if(!supportsHistoryState){this._historyState=state}this._previousURL=this.getURL()},replaceState:function(path){var state={path:path};get(this,"history").replaceState(state,null,path);if(!supportsHistoryState){this._historyState=state}this._previousURL=this.getURL()},onUpdateURL:function(callback){var guid=guidFor(this);var self=this;jQuery(window).on("popstate.ember-location-"+guid,function(e){if(!popstateFired){popstateFired=true;if(self.getURL()===self._previousURL){return}}callback(self.getURL())})},formatURL:function(url){var rootURL=get(this,"rootURL");var baseURL=get(this,"baseURL");if(url!==""){rootURL=rootURL.replace(/\/$/,"");baseURL=baseURL.replace(/\/$/,"")}else if(baseURL.match(/^\//)&&rootURL.match(/^\//)){baseURL=baseURL.replace(/\/$/,"")}return baseURL+rootURL+url},willDestroy:function(){var guid=guidFor(this);jQuery(window).off("popstate.ember-location-"+guid)}})});enifed("ember-routing/location/none_location",["ember-metal/property_get","ember-metal/property_set","ember-runtime/system/object","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var get=__dependency1__.get;var set=__dependency2__.set;var EmberObject=__dependency3__["default"];__exports__["default"]=EmberObject.extend({implementation:"none",path:"",getURL:function(){return get(this,"path")},setURL:function(path){set(this,"path",path)},onUpdateURL:function(callback){this.updateCallback=callback},handleURL:function(url){set(this,"path",url);this.updateCallback(url)},formatURL:function(url){return url}})});enifed("ember-routing/system/cache",["ember-runtime/system/object","exports"],function(__dependency1__,__exports__){"use strict";var EmberObject=__dependency1__["default"];__exports__["default"]=EmberObject.extend({init:function(){this.cache={}},has:function(bucketKey){return bucketKey in this.cache},stash:function(bucketKey,key,value){var bucket=this.cache[bucketKey];if(!bucket){bucket=this.cache[bucketKey]={}}bucket[key]=value},lookup:function(bucketKey,prop,defaultValue){var cache=this.cache;if(!(bucketKey in cache)){return defaultValue}var bucket=cache[bucketKey];if(prop in bucket){return bucket[prop]}else{return defaultValue}},cache:null})});enifed("ember-routing/system/controller_for",["exports"],function(__exports__){"use strict";__exports__["default"]=function controllerFor(container,controllerName,lookupOptions){return container.lookup("controller:"+controllerName,lookupOptions)}});enifed("ember-routing/system/dsl",["ember-metal/core","exports"],function(__dependency1__,__exports__){"use strict";var Ember=__dependency1__["default"];function DSL(name){this.parent=name;this.matches=[]}__exports__["default"]=DSL;DSL.prototype={route:function(name,options,callback){if(arguments.length===2&&typeof options==="function"){callback=options;options={}}if(arguments.length===1){options={}}var type=options.resetNamespace===true?"resource":"route";if(typeof options.path!=="string"){options.path="/"+name}if(canNest(this)&&options.resetNamespace!==true){name=this.parent+"."+name}if(callback){var dsl=new DSL(name);route(dsl,"loading");route(dsl,"error",{path:"/_unused_dummy_error_path_route_"+name+"/:error"});if(callback){callback.call(dsl)}this.push(options.path,name,dsl.generate())}else{this.push(options.path,name,null)}},push:function(url,name,callback){var parts=name.split(".");if(url===""||url==="/"||parts[parts.length-1]==="index"){this.explicitIndex=true}this.matches.push([url,name,callback])},resource:function(name,options,callback){if(arguments.length===2&&typeof options==="function"){callback=options;options={}}if(arguments.length===1){options={}}options.resetNamespace=true;this.route(name,options,callback)},generate:function(){var dslMatches=this.matches;if(!this.explicitIndex){route(this,"index",{path:"/"})}return function(match){for(var i=0,l=dslMatches.length;i<l;i++){var dslMatch=dslMatches[i];var matchObj=match(dslMatch[0]).to(dslMatch[1],dslMatch[2])}}}};function canNest(dsl){return dsl.parent&&dsl.parent!=="application"}function route(dsl,name,options){options=options||{};if(typeof options.path!=="string"){options.path="/"+name}if(canNest(dsl)&&options.resetNamespace!==true){name=dsl.parent+"."+name}dsl.push(options.path,name,null)}DSL.map=function(callback){var dsl=new DSL;callback.call(dsl);return dsl}});enifed("ember-routing/system/generate_controller",["ember-metal/core","ember-metal/property_get","ember-metal/utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var isArray=__dependency3__.isArray;function generateControllerFactory(container,controllerName,context){var Factory,fullName,instance,name,factoryName,controllerType;if(context&&isArray(context)){controllerType="array"}else if(context){controllerType="object"}else{controllerType="basic"}factoryName="controller:"+controllerType;Factory=container.lookupFactory(factoryName).extend({isGenerated:true,toString:function(){return"(generated "+controllerName+" controller)"}});fullName="controller:"+controllerName;container.register(fullName,Factory);return Factory}__exports__.generateControllerFactory=generateControllerFactory;__exports__["default"]=function generateController(container,controllerName,context){generateControllerFactory(container,controllerName,context);var fullName="controller:"+controllerName;var instance=container.lookup(fullName);if(get(instance,"namespace.LOG_ACTIVE_GENERATION")){}return instance}});enifed("ember-routing/system/route",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/get_properties","ember-metal/enumerable_utils","ember-metal/is_none","ember-metal/computed","ember-metal/merge","ember-metal/utils","ember-metal/run_loop","ember-metal/keys","ember-runtime/copy","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/action_handler","ember-routing/system/generate_controller","ember-routing-handlebars/helpers/shared","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__dependency18__,__exports__){"use strict";
var Ember=__dependency1__["default"];var EmberError=__dependency2__["default"];var get=__dependency3__.get;var set=__dependency4__.set;var getProperties=__dependency5__["default"];var forEach=__dependency6__.forEach;var replace=__dependency6__.replace;var isNone=__dependency7__.isNone;var computed=__dependency8__.computed;var merge=__dependency9__["default"];var isArray=__dependency10__.isArray;var typeOf=__dependency10__.typeOf;var run=__dependency11__["default"];var keys=__dependency12__["default"];var copy=__dependency13__["default"];var classify=__dependency14__.classify;var fmt=__dependency14__.fmt;var EmberObject=__dependency15__["default"];var ActionHandler=__dependency16__["default"];var generateController=__dependency17__["default"];var stashParamNames=__dependency18__.stashParamNames;var Route=EmberObject.extend(ActionHandler,{queryParams:{},_qp:computed(function(){var controllerName=this.controllerName||this.routeName;var controllerClass=this.container.lookupFactory("controller:"+controllerName);if(!controllerClass){return defaultQPMeta}var controllerProto=controllerClass.proto();var qpProps=get(controllerProto,"_normalizedQueryParams");var cacheMeta=get(controllerProto,"_cacheMeta");var qps=[],map={},self=this;for(var propName in qpProps){if(!qpProps.hasOwnProperty(propName)){continue}var desc=qpProps[propName];var urlKey=desc.as||this.serializeQueryParamKey(propName);var defaultValue=get(controllerProto,propName);if(isArray(defaultValue)){defaultValue=Ember.A(defaultValue.slice())}var type=typeOf(defaultValue);var defaultValueSerialized=this.serializeQueryParam(defaultValue,urlKey,type);var fprop=controllerName+":"+propName;var qp={def:defaultValue,sdef:defaultValueSerialized,type:type,urlKey:urlKey,prop:propName,fprop:fprop,ctrl:controllerName,cProto:controllerProto,svalue:defaultValueSerialized,cacheType:desc.scope,route:this,cacheMeta:cacheMeta[propName]};map[propName]=map[urlKey]=map[fprop]=qp;qps.push(qp)}return{qps:qps,map:map,states:{active:function(controller,prop){return self._activeQPChanged(controller,map[prop])},allowOverrides:function(controller,prop){return self._updatingQPChanged(controller,map[prop])},changingKeys:function(controller,prop){return self._updateSerializedQPValue(controller,map[prop])}}}}),_names:null,_stashNames:function(_handlerInfo,dynamicParent){var handlerInfo=_handlerInfo;if(this._names){return}var names=this._names=handlerInfo._names;if(!names.length){handlerInfo=dynamicParent;names=handlerInfo&&handlerInfo._names||[]}var qps=get(this,"_qp.qps");var len=qps.length;var namePaths=new Array(names.length);for(var a=0,nlen=names.length;a<nlen;++a){namePaths[a]=handlerInfo.name+"."+names[a]}for(var i=0;i<len;++i){var qp=qps[i];var cacheMeta=qp.cacheMeta;if(cacheMeta.scope==="model"){cacheMeta.parts=namePaths}cacheMeta.prefix=qp.ctrl}},_updateSerializedQPValue:function(controller,qp){var value=get(controller,qp.prop);qp.svalue=this.serializeQueryParam(value,qp.urlKey,qp.type)},_activeQPChanged:function(controller,qp){var value=get(controller,qp.prop);this.router._queuedQPChanges[qp.fprop]=value;run.once(this,this._fireQueryParamTransition)},_updatingQPChanged:function(controller,qp){var router=this.router;if(!router._qpUpdates){router._qpUpdates={}}router._qpUpdates[qp.urlKey]=true},mergedProperties:["events","queryParams"],paramsFor:function(name){var route=this.container.lookup("route:"+name);if(!route){return{}}var transition=this.router.router.activeTransition;var state=transition?transition.state:this.router.router.state;var params={};merge(params,state.params[name]);merge(params,getQueryParamsFor(route,state));return params},serializeQueryParamKey:function(controllerPropertyName){return controllerPropertyName},serializeQueryParam:function(value,urlKey,defaultValueType){if(defaultValueType==="array"){return JSON.stringify(value)}return""+value},deserializeQueryParam:function(value,urlKey,defaultValueType){if(defaultValueType==="boolean"){return value==="true"?true:false}else if(defaultValueType==="number"){return Number(value).valueOf()}else if(defaultValueType==="array"){return Ember.A(JSON.parse(value))}return value},_fireQueryParamTransition:function(){this.transitionTo({queryParams:this.router._queuedQPChanges});this.router._queuedQPChanges={}},resetController:Ember.K,exit:function(){this.deactivate();this.teardownViews()},_reset:function(isExiting,transition){var controller=this.controller;controller._qpDelegate=get(this,"_qp.states.inactive");this.resetController(controller,isExiting,transition)},enter:function(){this.activate()},viewName:null,templateName:null,controllerName:null,_actions:{queryParamsDidChange:function(changed,totalPresent,removed){var totalChanged=keys(changed).concat(keys(removed));for(var i=0,len=totalChanged.length;i<len;++i){var urlKey=totalChanged[i];var options=get(this.queryParams,urlKey)||{};if(get(options,"refreshModel")){this.refresh()}}return true},finalizeQueryParamChange:function(params,finalParams,transition){if(this.routeName!=="application"){return true}if(!transition){return}var handlerInfos=transition.state.handlerInfos;var router=this.router;var qpMeta=router._queryParamsFor(handlerInfos[handlerInfos.length-1].name);var changes=router._qpUpdates;var replaceUrl;stashParamNames(router,handlerInfos);for(var i=0,len=qpMeta.qps.length;i<len;++i){var qp=qpMeta.qps[i];var route=qp.route;var controller=route.controller;var presentKey=qp.urlKey in params&&qp.urlKey;var value,svalue;if(changes&&qp.urlKey in changes){value=get(controller,qp.prop);svalue=route.serializeQueryParam(value,qp.urlKey,qp.type)}else{if(presentKey){svalue=params[presentKey];value=route.deserializeQueryParam(svalue,qp.urlKey,qp.type)}else{svalue=qp.sdef;value=copyDefaultValue(qp.def)}}controller._qpDelegate=get(this,"_qp.states.inactive");var thisQueryParamChanged=svalue!==qp.svalue;if(thisQueryParamChanged){var options=get(route,"queryParams."+qp.urlKey)||{};if(transition.queryParamsOnly&&replaceUrl!==false){var replaceConfigValue=get(options,"replace");if(replaceConfigValue){replaceUrl=true}else if(replaceConfigValue===false){replaceUrl=false}}set(controller,qp.prop,value)}qp.svalue=svalue;var thisQueryParamHasDefaultValue=qp.sdef===svalue;if(!thisQueryParamHasDefaultValue){finalParams.push({value:svalue,visible:true,key:presentKey||qp.urlKey})}}if(replaceUrl){transition.method("replace")}forEach(qpMeta.qps,function(qp){var routeQpMeta=get(qp.route,"_qp");var finalizedController=qp.route.controller;finalizedController._qpDelegate=get(routeQpMeta,"states.active")});router._qpUpdates=null}},events:null,deactivate:Ember.K,activate:Ember.K,transitionTo:function(name,context){var router=this.router;return router.transitionTo.apply(router,arguments)},intermediateTransitionTo:function(){var router=this.router;router.intermediateTransitionTo.apply(router,arguments)},refresh:function(){return this.router.router.refresh(this)},replaceWith:function(){var router=this.router;return router.replaceWith.apply(router,arguments)},send:function(){return this.router.send.apply(this.router,arguments)},setup:function(context,transition){var controllerName=this.controllerName||this.routeName;var controller=this.controllerFor(controllerName,true);if(!controller){controller=this.generateController(controllerName,context)}this.controller=controller;if(this.setupControllers){this.setupControllers(controller,context)}else{var states=get(this,"_qp.states");if(transition){stashParamNames(this.router,transition.state.handlerInfos);controller._qpDelegate=states.changingKeys;controller._updateCacheParams(transition.params)}controller._qpDelegate=states.allowOverrides;if(transition){var qpValues=getQueryParamsFor(this,transition.state);controller.setProperties(qpValues)}this.setupController(controller,context,transition)}if(this.renderTemplates){this.renderTemplates(context)}else{this.renderTemplate(controller,context)}},beforeModel:Ember.K,afterModel:Ember.K,redirect:Ember.K,contextDidChange:function(){this.currentModel=this.context},model:function(params,transition){var match,name,sawParams,value;var queryParams=get(this,"_qp.map");for(var prop in params){if(prop==="queryParams"||queryParams&&prop in queryParams){continue}if(match=prop.match(/^(.*)_id$/)){name=match[1];value=params[prop]}sawParams=true}if(!name&&sawParams){return copy(params)}else if(!name){if(transition.resolveIndex<1){return}var parentModel=transition.state.handlerInfos[transition.resolveIndex-1].context;return parentModel}return this.findModel(name,value)},deserialize:function(params,transition){return this.model(this.paramsFor(this.routeName),transition)},findModel:function(){var store=get(this,"store");return store.find.apply(store,arguments)},store:computed(function(){var container=this.container;var routeName=this.routeName;var namespace=get(this,"router.namespace");return{find:function(name,value){var modelClass=container.lookupFactory("model:"+name);if(!modelClass){return}return modelClass.find(value)}}}),serialize:function(model,params){if(params.length<1){return}if(!model){return}var name=params[0],object={};if(/_id$/.test(name)&&params.length===1){object[name]=get(model,"id")}else{object=getProperties(model,params)}return object},setupController:function(controller,context,transition){if(controller&&context!==undefined){set(controller,"model",context)}},controllerFor:function(name,_skipAssert){var container=this.container;var route=container.lookup("route:"+name);var controller;if(route&&route.controllerName){name=route.controllerName}controller=container.lookup("controller:"+name);return controller},generateController:function(name,model){var container=this.container;model=model||this.modelFor(name);return generateController(container,name,model)},modelFor:function(name){var route=this.container.lookup("route:"+name);var transition=this.router?this.router.router.activeTransition:null;if(transition){var modelLookupName=route&&route.routeName||name;if(transition.resolvedModels.hasOwnProperty(modelLookupName)){return transition.resolvedModels[modelLookupName]}}return route&&route.currentModel},renderTemplate:function(controller,model){this.render()},render:function(name,options){var namePassed=typeof name==="string"&&!!name;if(typeof name==="object"&&!options){options=name;name=this.routeName}options=options||{};options.namePassed=namePassed;var templateName;if(name){name=name.replace(/\//g,".");templateName=name}else{name=this.routeName;templateName=this.templateName||name}var viewName=options.view||namePassed&&name||this.viewName||name;var container=this.container;var view=container.lookup("view:"+viewName);var template=view?view.get("template"):null;if(!template){template=container.lookup("template:"+templateName)}if(!view&&!template){if(get(this.router,"namespace.LOG_VIEW_LOOKUPS")){}return}options=normalizeOptions(this,name,template,options);view=setupView(view,container,options);if(options.outlet==="main"){this.lastRenderedTemplate=name}appendView(this,view,options)},disconnectOutlet:function(options){if(!options||typeof options==="string"){var outletName=options;options={};options.outlet=outletName}options.parentView=options.parentView?options.parentView.replace(/\//g,"."):parentTemplate(this);options.outlet=options.outlet||"main";var parentView=this.router._lookupActiveView(options.parentView);if(parentView){parentView.disconnectOutlet(options.outlet)}},willDestroy:function(){this.teardownViews()},teardownViews:function(){if(this.teardownTopLevelView){this.teardownTopLevelView()}var teardownOutletViews=this.teardownOutletViews||[];forEach(teardownOutletViews,function(teardownOutletView){teardownOutletView()});delete this.teardownTopLevelView;delete this.teardownOutletViews;delete this.lastRenderedTemplate}});var defaultQPMeta={qps:[],map:{},states:{}};function parentRoute(route){var handlerInfo=handlerInfoFor(route,route.router.router.state.handlerInfos,-1);return handlerInfo&&handlerInfo.handler}function handlerInfoFor(route,handlerInfos,_offset){if(!handlerInfos){return}var offset=_offset||0,current;for(var i=0,l=handlerInfos.length;i<l;i++){current=handlerInfos[i].handler;if(current===route){return handlerInfos[i+offset]}}}function parentTemplate(route){var parent=parentRoute(route),template;if(!parent){return}if(template=parent.lastRenderedTemplate){return template}else{return parentTemplate(parent)}}function normalizeOptions(route,name,template,options){options=options||{};options.into=options.into?options.into.replace(/\//g,"."):parentTemplate(route);options.outlet=options.outlet||"main";options.name=name;options.template=template;options.LOG_VIEW_LOOKUPS=get(route.router,"namespace.LOG_VIEW_LOOKUPS");var controller=options.controller;var model=options.model;var namedController;if(options.controller){controller=options.controller}else if(options.namePassed){controller=route.container.lookup("controller:"+name)||route.controllerName||route.routeName}else{controller=route.controllerName||route.container.lookup("controller:"+name)}if(typeof controller==="string"){var controllerName=controller;controller=route.container.lookup("controller:"+controllerName);if(!controller){throw new EmberError("You passed `controller: '"+controllerName+"'` into the `render` method, but no such controller could be found.")}}if(model){controller.set("model",model)}options.controller=controller;return options}function setupView(view,container,options){if(view){if(options.LOG_VIEW_LOOKUPS){}}else{var defaultView=options.into?"view:default":"view:toplevel";view=container.lookup(defaultView);if(options.LOG_VIEW_LOOKUPS){}}if(!get(view,"templateName")){set(view,"template",options.template);set(view,"_debugTemplateName",options.name)}set(view,"renderedName",options.name);set(view,"controller",options.controller);return view}function appendView(route,view,options){if(options.into){var parentView=route.router._lookupActiveView(options.into);var teardownOutletView=generateOutletTeardown(parentView,options.outlet);if(!route.teardownOutletViews){route.teardownOutletViews=[]}replace(route.teardownOutletViews,0,0,[teardownOutletView]);parentView.connectOutlet(options.outlet,view)}else{var rootElement=get(route,"router.namespace.rootElement");if(route.teardownTopLevelView){route.teardownTopLevelView()}route.router._connectActiveView(options.name,view);route.teardownTopLevelView=generateTopLevelTeardown(view);view.appendTo(rootElement)}}function generateTopLevelTeardown(view){return function(){view.destroy()}}function generateOutletTeardown(parentView,outlet){return function(){parentView.disconnectOutlet(outlet)}}function getFullQueryParams(router,state){if(state.fullQueryParams){return state.fullQueryParams}state.fullQueryParams={};merge(state.fullQueryParams,state.queryParams);var targetRouteName=state.handlerInfos[state.handlerInfos.length-1].name;router._deserializeQueryParams(targetRouteName,state.fullQueryParams);return state.fullQueryParams}function getQueryParamsFor(route,state){state.queryParamsFor=state.queryParamsFor||{};var name=route.routeName;if(state.queryParamsFor[name]){return state.queryParamsFor[name]}var fullQueryParams=getFullQueryParams(route.router,state);var params=state.queryParamsFor[name]={};var qpMeta=get(route,"_qp");var qps=qpMeta.qps;for(var i=0,len=qps.length;i<len;++i){var qp=qps[i];var qpValueWasPassedIn=qp.prop in fullQueryParams;params[qp.prop]=qpValueWasPassedIn?fullQueryParams[qp.prop]:copyDefaultValue(qp.def)}return params}function copyDefaultValue(value){if(isArray(value)){return Ember.A(value.slice())}return value}__exports__["default"]=Route});enifed("ember-routing/system/router",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/properties","ember-metal/computed","ember-metal/merge","ember-metal/run_loop","ember-metal/enumerable_utils","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/evented","ember-routing/system/dsl","ember-views/views/view","ember-routing/location/api","ember-handlebars/views/metamorph_view","ember-routing-handlebars/helpers/shared","ember-metal/platform","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__dependency18__,__exports__){"use strict";var Ember=__dependency1__["default"];var EmberError=__dependency2__["default"];var get=__dependency3__.get;var set=__dependency4__.set;var defineProperty=__dependency5__.defineProperty;var computed=__dependency6__.computed;var merge=__dependency7__["default"];var run=__dependency8__["default"];var forEach=__dependency9__.forEach;var fmt=__dependency10__.fmt;var EmberObject=__dependency11__["default"];var Evented=__dependency12__["default"];var EmberRouterDSL=__dependency13__["default"];var EmberView=__dependency14__["default"];var EmberLocation=__dependency15__["default"];var _MetamorphView=__dependency16__["default"];var routeArgs=__dependency17__.routeArgs;var getActiveTargetName=__dependency17__.getActiveTargetName;var stashParamNames=__dependency17__.stashParamNames;var create=__dependency18__.create;var Router=requireModule("router")["default"];var Transition=requireModule("router/transition").Transition;var slice=[].slice;var EmberRouter=EmberObject.extend(Evented,{location:"hash",rootURL:"/",init:function(){this.router=this.constructor.router||this.constructor.map(Ember.K);this._activeViews={};this._setupLocation();this._qpCache={};this._queuedQPChanges={};if(get(this,"namespace.LOG_TRANSITIONS_INTERNAL")){this.router.log=Ember.Logger.debug}},url:computed(function(){return get(this,"location").getURL()}),startRouting:function(){this.router=this.router||this.constructor.map(Ember.K);var router=this.router;var location=get(this,"location");var container=this.container;var self=this;var initialURL=get(this,"initialURL");if(get(location,"cancelRouterSetup")){return}this._setupRouter(router,location);container.register("view:default",_MetamorphView);container.register("view:toplevel",EmberView.extend());location.onUpdateURL(function(url){self.handleURL(url)});if(typeof initialURL==="undefined"){initialURL=location.getURL()}this.handleURL(initialURL)},didTransition:function(infos){updatePaths(this);this._cancelLoadingEvent();this.notifyPropertyChange("url");run.once(this,this.trigger,"didTransition");if(get(this,"namespace").LOG_TRANSITIONS){Ember.Logger.log("Transitioned into '"+EmberRouter._routePath(infos)+"'")}},handleURL:function(url){return this._doURLTransition("handleURL",url)},_doURLTransition:function(routerJsMethod,url){var transition=this.router[routerJsMethod](url||"/");listenForTransitionErrors(transition);return transition},transitionTo:function(){var args=slice.call(arguments),queryParams;if(resemblesURL(args[0])){return this._doURLTransition("transitionTo",args[0])}var possibleQueryParams=args[args.length-1];if(possibleQueryParams&&possibleQueryParams.hasOwnProperty("queryParams")){queryParams=args.pop().queryParams}else{queryParams={}}var targetRouteName=args.shift();return this._doTransition(targetRouteName,args,queryParams)},intermediateTransitionTo:function(){this.router.intermediateTransitionTo.apply(this.router,arguments);updatePaths(this);var infos=this.router.currentHandlerInfos;if(get(this,"namespace").LOG_TRANSITIONS){Ember.Logger.log("Intermediate-transitioned into '"+EmberRouter._routePath(infos)+"'")}},replaceWith:function(){return this.transitionTo.apply(this,arguments).method("replace")},generate:function(){var url=this.router.generate.apply(this.router,arguments);return this.location.formatURL(url)},isActive:function(routeName){var router=this.router;return router.isActive.apply(router,arguments)},isActiveIntent:function(routeName,models,queryParams){var router=this.router;return router.isActive.apply(router,arguments)},send:function(name,context){this.router.trigger.apply(this.router,arguments)},hasRoute:function(route){return this.router.hasRoute(route)},reset:function(){this.router.reset()},_lookupActiveView:function(templateName){var active=this._activeViews[templateName];return active&&active[0]},_connectActiveView:function(templateName,view){var existing=this._activeViews[templateName];if(existing){existing[0].off("willDestroyElement",this,existing[1])}function disconnectActiveView(){delete this._activeViews[templateName]}this._activeViews[templateName]=[view,disconnectActiveView];view.one("willDestroyElement",this,disconnectActiveView)},_setupLocation:function(){var location=get(this,"location");var rootURL=get(this,"rootURL");if(rootURL&&this.container&&!this.container.has("-location-setting:root-url")){this.container.register("-location-setting:root-url",rootURL,{instantiate:false})}if("string"===typeof location&&this.container){var resolvedLocation=this.container.lookup("location:"+location);if("undefined"!==typeof resolvedLocation){location=set(this,"location",resolvedLocation)}else{var options={implementation:location};location=set(this,"location",EmberLocation.create(options))}}if(location!==null&&typeof location==="object"){if(rootURL&&typeof rootURL==="string"){location.rootURL=rootURL}if(typeof location.initState==="function"){location.initState()}}},_getHandlerFunction:function(){var seen={},container=this.container;var DefaultRoute=container.lookupFactory("route:basic");var self=this;return function(name){var routeName="route:"+name;var handler=container.lookup(routeName);if(seen[name]){return handler}seen[name]=true;if(!handler){container.register(routeName,DefaultRoute.extend());handler=container.lookup(routeName);if(get(self,"namespace.LOG_ACTIVE_GENERATION")){}}handler.routeName=name;return handler}},_setupRouter:function(router,location){var lastURL,emberRouter=this;router.getHandler=this._getHandlerFunction();var doUpdateURL=function(){location.setURL(lastURL)};router.updateURL=function(path){lastURL=path;run.once(doUpdateURL)};if(location.replaceURL){var doReplaceURL=function(){location.replaceURL(lastURL)};router.replaceURL=function(path){lastURL=path;run.once(doReplaceURL)}}router.didTransition=function(infos){emberRouter.didTransition(infos)}},_serializeQueryParams:function(targetRouteName,queryParams){var groupedByUrlKey={};forEachQueryParam(this,targetRouteName,queryParams,function(key,value,qp){var urlKey=qp.urlKey;if(!groupedByUrlKey[urlKey]){groupedByUrlKey[urlKey]=[]}groupedByUrlKey[urlKey].push({qp:qp,value:value});delete queryParams[key]});for(var key in groupedByUrlKey){var qps=groupedByUrlKey[key];if(qps.length>1){var qp0=qps[0].qp,qp1=qps[1].qp}var qp=qps[0].qp;queryParams[qp.urlKey]=qp.route.serializeQueryParam(qps[0].value,qp.urlKey,qp.type)}},_deserializeQueryParams:function(targetRouteName,queryParams){forEachQueryParam(this,targetRouteName,queryParams,function(key,value,qp){delete queryParams[key];queryParams[qp.prop]=qp.route.deserializeQueryParam(value,qp.urlKey,qp.type)})},_pruneDefaultQueryParamValues:function(targetRouteName,queryParams){var qps=this._queryParamsFor(targetRouteName);for(var key in queryParams){var qp=qps.map[key];if(qp&&qp.sdef===queryParams[key]){delete queryParams[key]}}},_doTransition:function(_targetRouteName,models,_queryParams){var targetRouteName=_targetRouteName||getActiveTargetName(this.router);var queryParams={};merge(queryParams,_queryParams);this._prepareQueryParams(targetRouteName,models,queryParams);var transitionArgs=routeArgs(targetRouteName,models,queryParams);var transitionPromise=this.router.transitionTo.apply(this.router,transitionArgs);listenForTransitionErrors(transitionPromise);return transitionPromise},_prepareQueryParams:function(targetRouteName,models,queryParams){this._hydrateUnsuppliedQueryParams(targetRouteName,models,queryParams);this._serializeQueryParams(targetRouteName,queryParams);this._pruneDefaultQueryParamValues(targetRouteName,queryParams)},_queryParamsFor:function(leafRouteName){if(this._qpCache[leafRouteName]){return this._qpCache[leafRouteName]}var map={},qps=[],qpCache=this._qpCache[leafRouteName]={map:map,qps:qps};var routerjs=this.router;var recogHandlerInfos=routerjs.recognizer.handlersFor(leafRouteName);for(var i=0,len=recogHandlerInfos.length;i<len;++i){var recogHandler=recogHandlerInfos[i];var route=routerjs.getHandler(recogHandler.handler);var qpMeta=get(route,"_qp");if(!qpMeta){continue}merge(map,qpMeta.map);qps.push.apply(qps,qpMeta.qps)}return{qps:qps,map:map}},_hydrateUnsuppliedQueryParams:function(leafRouteName,contexts,queryParams){var state=calculatePostTransitionState(this,leafRouteName,contexts);var handlerInfos=state.handlerInfos;var appCache=this._bucketCache;stashParamNames(this,handlerInfos);for(var i=0,len=handlerInfos.length;i<len;++i){var route=handlerInfos[i].handler;var qpMeta=get(route,"_qp");for(var j=0,qpLen=qpMeta.qps.length;j<qpLen;++j){var qp=qpMeta.qps[j];var presentProp=qp.prop in queryParams&&qp.prop||qp.fprop in queryParams&&qp.fprop;if(presentProp){if(presentProp!==qp.fprop){queryParams[qp.fprop]=queryParams[presentProp];delete queryParams[presentProp]}}else{var controllerProto=qp.cProto;var cacheMeta=get(controllerProto,"_cacheMeta");var cacheKey=controllerProto._calculateCacheKey(qp.ctrl,cacheMeta[qp.prop].parts,state.params);queryParams[qp.fprop]=appCache.lookup(cacheKey,qp.prop,qp.def)}}}},_scheduleLoadingEvent:function(transition,originRoute){this._cancelLoadingEvent();this._loadingStateTimer=run.scheduleOnce("routerTransitions",this,"_fireLoadingEvent",transition,originRoute)},_fireLoadingEvent:function(transition,originRoute){if(!this.router.activeTransition){return}transition.trigger(true,"loading",transition,originRoute)},_cancelLoadingEvent:function(){if(this._loadingStateTimer){run.cancel(this._loadingStateTimer)}this._loadingStateTimer=null}});function forEachRouteAbove(originRoute,transition,callback){var handlerInfos=transition.state.handlerInfos;var originRouteFound=false;var handlerInfo,route;for(var i=handlerInfos.length-1;i>=0;--i){handlerInfo=handlerInfos[i];route=handlerInfo.handler;if(!originRouteFound){if(originRoute===route){originRouteFound=true}continue}if(callback(route,handlerInfos[i+1].handler)!==true){return false}}return true}var defaultActionHandlers={willResolveModel:function(transition,originRoute){originRoute.router._scheduleLoadingEvent(transition,originRoute)},error:function(error,transition,originRoute){var router=originRoute.router;var tryTopLevel=forEachRouteAbove(originRoute,transition,function(route,childRoute){var childErrorRouteName=findChildRouteName(route,childRoute,"error");if(childErrorRouteName){router.intermediateTransitionTo(childErrorRouteName,error);return}return true});if(tryTopLevel){if(routeHasBeenDefined(originRoute.router,"application_error")){router.intermediateTransitionTo("application_error",error);return}}logError(error,"Error while processing route: "+transition.targetName)},loading:function(transition,originRoute){var router=originRoute.router;var tryTopLevel=forEachRouteAbove(originRoute,transition,function(route,childRoute){var childLoadingRouteName=findChildRouteName(route,childRoute,"loading");if(childLoadingRouteName){router.intermediateTransitionTo(childLoadingRouteName);return}if(transition.pivotHandler!==route){return true}});if(tryTopLevel){if(routeHasBeenDefined(originRoute.router,"application_loading")){router.intermediateTransitionTo("application_loading");return}}}};function logError(error,initialMessage){var errorArgs=[];if(initialMessage){errorArgs.push(initialMessage)}if(error){if(error.message){errorArgs.push(error.message)}if(error.stack){errorArgs.push(error.stack)}if(typeof error==="string"){errorArgs.push(error)}}Ember.Logger.error.apply(this,errorArgs)}function findChildRouteName(parentRoute,originatingChildRoute,name){var router=parentRoute.router;var childName;var targetChildRouteName=originatingChildRoute.routeName.split(".").pop();var namespace=parentRoute.routeName==="application"?"":parentRoute.routeName+".";childName=namespace+name;if(routeHasBeenDefined(router,childName)){return childName}}function routeHasBeenDefined(router,name){var container=router.container;return router.hasRoute(name)&&(container.has("template:"+name)||container.has("route:"+name))}function triggerEvent(handlerInfos,ignoreFailure,args){var name=args.shift();if(!handlerInfos){if(ignoreFailure){return}throw new EmberError("Can't trigger action '"+name+"' because your app hasn't finished transitioning into its first route. To trigger an action on destination routes during a transition, you can call `.send()` on the `Transition` object passed to the `model/beforeModel/afterModel` hooks.")}var eventWasHandled=false;var handlerInfo,handler;for(var i=handlerInfos.length-1;i>=0;i--){handlerInfo=handlerInfos[i];handler=handlerInfo.handler;if(handler._actions&&handler._actions[name]){if(handler._actions[name].apply(handler,args)===true){eventWasHandled=true}else{return}}}if(defaultActionHandlers[name]){defaultActionHandlers[name].apply(null,args);return}if(!eventWasHandled&&!ignoreFailure){throw new EmberError("Nothing handled the action '"+name+"'. If you did handle the action, this error can be caused by returning true from an action handler in a controller, causing the action to bubble.")}}function calculatePostTransitionState(emberRouter,leafRouteName,contexts){var routerjs=emberRouter.router;var state=routerjs.applyIntent(leafRouteName,contexts);var handlerInfos=state.handlerInfos;var params=state.params;for(var i=0,len=handlerInfos.length;i<len;++i){var handlerInfo=handlerInfos[i];if(!handlerInfo.isResolved){handlerInfo=handlerInfo.becomeResolved(null,handlerInfo.context)}params[handlerInfo.name]=handlerInfo.params}return state}function updatePaths(router){var appController=router.container.lookup("controller:application");if(!appController){return}var infos=router.router.currentHandlerInfos;var path=EmberRouter._routePath(infos);if(!("currentPath"in appController)){defineProperty(appController,"currentPath")}set(appController,"currentPath",path);if(!("currentRouteName"in appController)){defineProperty(appController,"currentRouteName")}set(appController,"currentRouteName",infos[infos.length-1].name)}EmberRouter.reopenClass({router:null,map:function(callback){var router=this.router;if(!router){router=new Router;router._triggerWillChangeContext=Ember.K;router._triggerWillLeave=Ember.K;router.callbacks=[];router.triggerEvent=triggerEvent;this.reopenClass({router:router})}var dsl=EmberRouterDSL.map(function(){this.resource("application",{path:"/"},function(){for(var i=0;i<router.callbacks.length;i++){router.callbacks[i].call(this)}callback.call(this)})});router.callbacks.push(callback);router.map(dsl.generate());return router},_routePath:function(handlerInfos){var path=[];function intersectionMatches(a1,a2){for(var i=0,len=a1.length;i<len;++i){if(a1[i]!==a2[i]){return false}}return true}var name,nameParts,oldNameParts;for(var i=1,l=handlerInfos.length;i<l;i++){name=handlerInfos[i].name;nameParts=name.split(".");oldNameParts=slice.call(path);while(oldNameParts.length){if(intersectionMatches(oldNameParts,nameParts)){break}oldNameParts.shift()}path.push.apply(path,nameParts.slice(oldNameParts.length))}return path.join(".")}});function listenForTransitionErrors(transition){transition.then(null,function(error){if(!error||!error.name){return}if(error.name==="UnrecognizedURLError"){}return error},"Ember: Process errors from Router")}function resemblesURL(str){return typeof str==="string"&&(str===""||str.charAt(0)==="/")}function forEachQueryParam(router,targetRouteName,queryParams,callback){var qpCache=router._queryParamsFor(targetRouteName);var qps=qpCache.qps;for(var key in queryParams){if(!queryParams.hasOwnProperty(key)){continue}var value=queryParams[key];var qp=qpCache.map[key];if(qp){callback(key,value,qp)}}}__exports__["default"]=EmberRouter});enifed("ember-runtime",["ember-metal","ember-runtime/core","ember-runtime/compare","ember-runtime/copy","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/tracked_array","ember-runtime/system/subarray","ember-runtime/system/container","ember-runtime/system/application","ember-runtime/system/array_proxy","ember-runtime/system/object_proxy","ember-runtime/system/core_object","ember-runtime/system/each_proxy","ember-runtime/system/native_array","ember-runtime/system/set","ember-runtime/system/string","ember-runtime/system/deferred","ember-runtime/system/lazy_load","ember-runtime/mixins/array","ember-runtime/mixins/comparable","ember-runtime/mixins/copyable","ember-runtime/mixins/enumerable","ember-runtime/mixins/freezable","ember-runtime/mixins/-proxy","ember-runtime/mixins/observable","ember-runtime/mixins/action_handler","ember-runtime/mixins/deferred","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/mutable_array","ember-runtime/mixins/target_action_support","ember-runtime/mixins/evented","ember-runtime/mixins/promise_proxy","ember-runtime/mixins/sortable","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/computed/reduce_computed_macros","ember-runtime/controllers/array_controller","ember-runtime/controllers/object_controller","ember-runtime/controllers/controller","ember-runtime/mixins/controller","ember-runtime/ext/rsvp","ember-runtime/ext/string","ember-runtime/ext/function","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__dependency18__,__dependency19__,__dependency20__,__dependency21__,__dependency22__,__dependency23__,__dependency24__,__dependency25__,__dependency26__,__dependency27__,__dependency28__,__dependency29__,__dependency30__,__dependency31__,__dependency32__,__dependency33__,__dependency34__,__dependency35__,__dependency36__,__dependency37__,__dependency38__,__dependency39__,__dependency40__,__dependency41__,__dependency42__,__dependency43__,__dependency44__,__exports__){"use strict";
var Ember=__dependency1__["default"];var isEqual=__dependency2__.isEqual;var compare=__dependency3__["default"];var copy=__dependency4__["default"];var Namespace=__dependency5__["default"];var EmberObject=__dependency6__["default"];var TrackedArray=__dependency7__["default"];var SubArray=__dependency8__["default"];var Container=__dependency9__["default"];var Application=__dependency10__["default"];var ArrayProxy=__dependency11__["default"];var ObjectProxy=__dependency12__["default"];var CoreObject=__dependency13__["default"];var EachArray=__dependency14__.EachArray;var EachProxy=__dependency14__.EachProxy;var NativeArray=__dependency15__["default"];var Set=__dependency16__["default"];var EmberStringUtils=__dependency17__["default"];var Deferred=__dependency18__["default"];var onLoad=__dependency19__.onLoad;var runLoadHooks=__dependency19__.runLoadHooks;var EmberArray=__dependency20__["default"];var Comparable=__dependency21__["default"];var Copyable=__dependency22__["default"];var Enumerable=__dependency23__["default"];var Freezable=__dependency24__.Freezable;var FROZEN_ERROR=__dependency24__.FROZEN_ERROR;var _ProxyMixin=__dependency25__["default"];var Observable=__dependency26__["default"];var ActionHandler=__dependency27__["default"];var DeferredMixin=__dependency28__["default"];var MutableEnumerable=__dependency29__["default"];var MutableArray=__dependency30__["default"];var TargetActionSupport=__dependency31__["default"];var Evented=__dependency32__["default"];var PromiseProxyMixin=__dependency33__["default"];var SortableMixin=__dependency34__["default"];var arrayComputed=__dependency35__.arrayComputed;var ArrayComputedProperty=__dependency35__.ArrayComputedProperty;var reduceComputed=__dependency36__.reduceComputed;var ReduceComputedProperty=__dependency36__.ReduceComputedProperty;var sum=__dependency37__.sum;var min=__dependency37__.min;var max=__dependency37__.max;var map=__dependency37__.map;var sort=__dependency37__.sort;var setDiff=__dependency37__.setDiff;var mapBy=__dependency37__.mapBy;var mapProperty=__dependency37__.mapProperty;var filter=__dependency37__.filter;var filterBy=__dependency37__.filterBy;var filterProperty=__dependency37__.filterProperty;var uniq=__dependency37__.uniq;var union=__dependency37__.union;var intersect=__dependency37__.intersect;var ArrayController=__dependency38__["default"];var ObjectController=__dependency39__["default"];var Controller=__dependency40__["default"];var ControllerMixin=__dependency41__["default"];var RSVP=__dependency42__["default"];Ember.compare=compare;Ember.copy=copy;Ember.isEqual=isEqual;Ember.Array=EmberArray;Ember.Comparable=Comparable;Ember.Copyable=Copyable;Ember.SortableMixin=SortableMixin;Ember.Freezable=Freezable;Ember.FROZEN_ERROR=FROZEN_ERROR;Ember.DeferredMixin=DeferredMixin;Ember.MutableEnumerable=MutableEnumerable;Ember.MutableArray=MutableArray;Ember.TargetActionSupport=TargetActionSupport;Ember.Evented=Evented;Ember.PromiseProxyMixin=PromiseProxyMixin;Ember.Observable=Observable;Ember.arrayComputed=arrayComputed;Ember.ArrayComputedProperty=ArrayComputedProperty;Ember.reduceComputed=reduceComputed;Ember.ReduceComputedProperty=ReduceComputedProperty;var EmComputed=Ember.computed;EmComputed.sum=sum;EmComputed.min=min;EmComputed.max=max;EmComputed.map=map;EmComputed.sort=sort;EmComputed.setDiff=setDiff;EmComputed.mapBy=mapBy;EmComputed.mapProperty=mapProperty;EmComputed.filter=filter;EmComputed.filterBy=filterBy;EmComputed.filterProperty=filterProperty;EmComputed.uniq=uniq;EmComputed.union=union;EmComputed.intersect=intersect;Ember.String=EmberStringUtils;Ember.Object=EmberObject;Ember.TrackedArray=TrackedArray;Ember.SubArray=SubArray;Ember.Container=Container;Ember.Namespace=Namespace;Ember.Enumerable=Enumerable;Ember.ArrayProxy=ArrayProxy;Ember.ObjectProxy=ObjectProxy;Ember.ActionHandler=ActionHandler;Ember.CoreObject=CoreObject;Ember.EachArray=EachArray;Ember.EachProxy=EachProxy;Ember.NativeArray=NativeArray;Ember.Set=Set;Ember.Deferred=Deferred;Ember.onLoad=onLoad;Ember.runLoadHooks=runLoadHooks;Ember.ArrayController=ArrayController;Ember.ObjectController=ObjectController;Ember.Controller=Controller;Ember.ControllerMixin=ControllerMixin;Ember._ProxyMixin=_ProxyMixin;Ember.RSVP=RSVP;__exports__["default"]=Ember});enifed("ember-runtime/compare",["ember-metal/utils","ember-runtime/mixins/comparable","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var typeOf=__dependency1__.typeOf;var Comparable=__dependency2__["default"];var TYPE_ORDER={undefined:0,"null":1,"boolean":2,number:3,string:4,array:5,object:6,instance:7,"function":8,"class":9,date:10};function spaceship(a,b){var diff=a-b;return(diff>0)-(diff<0)}__exports__["default"]=function compare(v,w){if(v===w){return 0}var type1=typeOf(v);var type2=typeOf(w);if(Comparable){if(type1==="instance"&&Comparable.detect(v.constructor)){return v.constructor.compare(v,w)}if(type2==="instance"&&Comparable.detect(w.constructor)){return 1-w.constructor.compare(w,v)}}var res=spaceship(TYPE_ORDER[type1],TYPE_ORDER[type2]);if(res!==0){return res}switch(type1){case"boolean":case"number":return spaceship(v,w);case"string":return spaceship(v.localeCompare(w),0);case"array":var vLen=v.length;var wLen=w.length;var len=Math.min(vLen,wLen);for(var i=0;i<len;i++){var r=compare(v[i],w[i]);if(r!==0){return r}}return spaceship(vLen,wLen);case"instance":if(Comparable&&Comparable.detect(v)){return v.compare(v,w)}return 0;case"date":return spaceship(v.getTime(),w.getTime());default:return 0}}});enifed("ember-runtime/computed/array_computed",["ember-metal/core","ember-runtime/computed/reduce_computed","ember-metal/enumerable_utils","ember-metal/platform","ember-metal/observer","ember-metal/error","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__exports__){"use strict";var Ember=__dependency1__["default"];var reduceComputed=__dependency2__.reduceComputed;var ReduceComputedProperty=__dependency2__.ReduceComputedProperty;var forEach=__dependency3__.forEach;var o_create=__dependency4__.create;var addObserver=__dependency5__.addObserver;var EmberError=__dependency6__["default"];var a_slice=[].slice;function ArrayComputedProperty(){var cp=this;ReduceComputedProperty.apply(this,arguments);this.func=function(reduceFunc){return function(propertyName){if(!cp._hasInstanceMeta(this,propertyName)){forEach(cp._dependentKeys,function(dependentKey){addObserver(this,dependentKey,function(){cp.recomputeOnce.call(this,propertyName)})},this)}return reduceFunc.apply(this,arguments)}}(this.func);return this}ArrayComputedProperty.prototype=o_create(ReduceComputedProperty.prototype);ArrayComputedProperty.prototype.initialValue=function(){return Ember.A()};ArrayComputedProperty.prototype.resetValue=function(array){array.clear();return array};ArrayComputedProperty.prototype.didChange=function(obj,keyName){return};function arrayComputed(options){var args;if(arguments.length>1){args=a_slice.call(arguments,0,-1);options=a_slice.call(arguments,-1)[0]}if(typeof options!=="object"){throw new EmberError("Array Computed Property declared without an options hash")}var cp=new ArrayComputedProperty(options);if(args){cp.property.apply(cp,args)}return cp}__exports__.arrayComputed=arrayComputed;__exports__.ArrayComputedProperty=ArrayComputedProperty});enifed("ember-runtime/computed/reduce_computed",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/property_events","ember-metal/expand_properties","ember-metal/observer","ember-metal/computed","ember-metal/platform","ember-metal/enumerable_utils","ember-runtime/system/tracked_array","ember-runtime/mixins/array","ember-metal/run_loop","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__exports__){"use strict";var Ember=__dependency1__["default"];var e_get=__dependency2__.get;var set=__dependency3__.set;var guidFor=__dependency4__.guidFor;var metaFor=__dependency4__.meta;var EmberError=__dependency5__["default"];var propertyWillChange=__dependency6__.propertyWillChange;var propertyDidChange=__dependency6__.propertyDidChange;var expandProperties=__dependency7__["default"];var addObserver=__dependency8__.addObserver;var observersFor=__dependency8__.observersFor;var removeObserver=__dependency8__.removeObserver;var addBeforeObserver=__dependency8__.addBeforeObserver;var removeBeforeObserver=__dependency8__.removeBeforeObserver;var ComputedProperty=__dependency9__.ComputedProperty;var cacheFor=__dependency9__.cacheFor;var o_create=__dependency10__.create;var forEach=__dependency11__.forEach;var TrackedArray=__dependency12__["default"];var EmberArray=__dependency13__["default"];var run=__dependency14__["default"];var isArray=__dependency4__.isArray;var cacheSet=cacheFor.set;var cacheGet=cacheFor.get;var cacheRemove=cacheFor.remove;var a_slice=[].slice;var eachPropertyPattern=/^(.*)\.@each\.(.*)/;var doubleEachPropertyPattern=/(.*\.@each){2,}/;var arrayBracketPattern=/\.\[\]$/;function get(obj,key){if(key==="@this"){return obj}return e_get(obj,key)}function DependentArraysObserver(callbacks,cp,instanceMeta,context,propertyName,sugarMeta){this.callbacks=callbacks;this.cp=cp;this.instanceMeta=instanceMeta;this.dependentKeysByGuid={};this.trackedArraysByGuid={};this.suspended=false;this.changedItems={};this.changedItemCount=0}function ItemPropertyObserverContext(dependentArray,index,trackedArray){this.dependentArray=dependentArray;this.index=index;this.item=dependentArray.objectAt(index);this.trackedArray=trackedArray;this.beforeObserver=null;this.observer=null;this.destroyed=false}DependentArraysObserver.prototype={setValue:function(newValue){this.instanceMeta.setValue(newValue,true)},getValue:function(){return this.instanceMeta.getValue()},setupObservers:function(dependentArray,dependentKey){this.dependentKeysByGuid[guidFor(dependentArray)]=dependentKey;dependentArray.addArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"});if(this.cp._itemPropertyKeys[dependentKey]){this.setupPropertyObservers(dependentKey,this.cp._itemPropertyKeys[dependentKey])}},teardownObservers:function(dependentArray,dependentKey){var itemPropertyKeys=this.cp._itemPropertyKeys[dependentKey]||[];delete this.dependentKeysByGuid[guidFor(dependentArray)];this.teardownPropertyObservers(dependentKey,itemPropertyKeys);dependentArray.removeArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"})},suspendArrayObservers:function(callback,binding){var oldSuspended=this.suspended;this.suspended=true;callback.call(binding);this.suspended=oldSuspended},setupPropertyObservers:function(dependentKey,itemPropertyKeys){var dependentArray=get(this.instanceMeta.context,dependentKey);var length=get(dependentArray,"length");var observerContexts=new Array(length);this.resetTransformations(dependentKey,observerContexts);forEach(dependentArray,function(item,index){var observerContext=this.createPropertyObserverContext(dependentArray,index,this.trackedArraysByGuid[dependentKey]);observerContexts[index]=observerContext;forEach(itemPropertyKeys,function(propertyKey){addBeforeObserver(item,propertyKey,this,observerContext.beforeObserver);addObserver(item,propertyKey,this,observerContext.observer)},this)},this)},teardownPropertyObservers:function(dependentKey,itemPropertyKeys){var dependentArrayObserver=this;var trackedArray=this.trackedArraysByGuid[dependentKey];var beforeObserver,observer,item;if(!trackedArray){return}trackedArray.apply(function(observerContexts,offset,operation){if(operation===TrackedArray.DELETE){return}forEach(observerContexts,function(observerContext){observerContext.destroyed=true;beforeObserver=observerContext.beforeObserver;observer=observerContext.observer;item=observerContext.item;forEach(itemPropertyKeys,function(propertyKey){removeBeforeObserver(item,propertyKey,dependentArrayObserver,beforeObserver);removeObserver(item,propertyKey,dependentArrayObserver,observer)})})})},createPropertyObserverContext:function(dependentArray,index,trackedArray){var observerContext=new ItemPropertyObserverContext(dependentArray,index,trackedArray);this.createPropertyObserver(observerContext);return observerContext},createPropertyObserver:function(observerContext){var dependentArrayObserver=this;observerContext.beforeObserver=function(obj,keyName){return dependentArrayObserver.itemPropertyWillChange(obj,keyName,observerContext.dependentArray,observerContext)};observerContext.observer=function(obj,keyName){return dependentArrayObserver.itemPropertyDidChange(obj,keyName,observerContext.dependentArray,observerContext)}},resetTransformations:function(dependentKey,observerContexts){this.trackedArraysByGuid[dependentKey]=new TrackedArray(observerContexts)},trackAdd:function(dependentKey,index,newItems){var trackedArray=this.trackedArraysByGuid[dependentKey];if(trackedArray){trackedArray.addItems(index,newItems)}},trackRemove:function(dependentKey,index,removedCount){var trackedArray=this.trackedArraysByGuid[dependentKey];if(trackedArray){return trackedArray.removeItems(index,removedCount)}return[]},updateIndexes:function(trackedArray,array){var length=get(array,"length");trackedArray.apply(function(observerContexts,offset,operation,operationIndex){if(operation===TrackedArray.DELETE){return}if(operationIndex===0&&operation===TrackedArray.RETAIN&&observerContexts.length===length&&offset===0){return}forEach(observerContexts,function(context,index){context.index=index+offset})})},dependentArrayWillChange:function(dependentArray,index,removedCount,addedCount){if(this.suspended){return}var removedItem=this.callbacks.removedItem;var changeMeta;var guid=guidFor(dependentArray);var dependentKey=this.dependentKeysByGuid[guid];var itemPropertyKeys=this.cp._itemPropertyKeys[dependentKey]||[];var length=get(dependentArray,"length");var normalizedIndex=normalizeIndex(index,length,0);var normalizedRemoveCount=normalizeRemoveCount(normalizedIndex,length,removedCount);var item,itemIndex,sliceIndex,observerContexts;observerContexts=this.trackRemove(dependentKey,normalizedIndex,normalizedRemoveCount);function removeObservers(propertyKey){observerContexts[sliceIndex].destroyed=true;removeBeforeObserver(item,propertyKey,this,observerContexts[sliceIndex].beforeObserver);removeObserver(item,propertyKey,this,observerContexts[sliceIndex].observer)}for(sliceIndex=normalizedRemoveCount-1;sliceIndex>=0;--sliceIndex){itemIndex=normalizedIndex+sliceIndex;if(itemIndex>=length){break}item=dependentArray.objectAt(itemIndex);forEach(itemPropertyKeys,removeObservers,this);changeMeta=new ChangeMeta(dependentArray,item,itemIndex,this.instanceMeta.propertyName,this.cp,normalizedRemoveCount);this.setValue(removedItem.call(this.instanceMeta.context,this.getValue(),item,changeMeta,this.instanceMeta.sugarMeta))}this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta)},dependentArrayDidChange:function(dependentArray,index,removedCount,addedCount){if(this.suspended){return}var addedItem=this.callbacks.addedItem;var guid=guidFor(dependentArray);var dependentKey=this.dependentKeysByGuid[guid];var observerContexts=new Array(addedCount);var itemPropertyKeys=this.cp._itemPropertyKeys[dependentKey];var length=get(dependentArray,"length");var normalizedIndex=normalizeIndex(index,length,addedCount);var endIndex=normalizedIndex+addedCount;var changeMeta,observerContext;forEach(dependentArray.slice(normalizedIndex,endIndex),function(item,sliceIndex){if(itemPropertyKeys){observerContext=this.createPropertyObserverContext(dependentArray,normalizedIndex+sliceIndex,this.trackedArraysByGuid[dependentKey]);observerContexts[sliceIndex]=observerContext;forEach(itemPropertyKeys,function(propertyKey){addBeforeObserver(item,propertyKey,this,observerContext.beforeObserver);addObserver(item,propertyKey,this,observerContext.observer)},this)}changeMeta=new ChangeMeta(dependentArray,item,normalizedIndex+sliceIndex,this.instanceMeta.propertyName,this.cp,addedCount);this.setValue(addedItem.call(this.instanceMeta.context,this.getValue(),item,changeMeta,this.instanceMeta.sugarMeta))},this);this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta);this.trackAdd(dependentKey,normalizedIndex,observerContexts)},itemPropertyWillChange:function(obj,keyName,array,observerContext){var guid=guidFor(obj);if(!this.changedItems[guid]){this.changedItems[guid]={array:array,observerContext:observerContext,obj:obj,previousValues:{}}}++this.changedItemCount;this.changedItems[guid].previousValues[keyName]=get(obj,keyName)},itemPropertyDidChange:function(obj,keyName,array,observerContext){if(--this.changedItemCount===0){this.flushChanges()}},flushChanges:function(){var changedItems=this.changedItems;var key,c,changeMeta;for(key in changedItems){c=changedItems[key];if(c.observerContext.destroyed){continue}this.updateIndexes(c.observerContext.trackedArray,c.observerContext.dependentArray);changeMeta=new ChangeMeta(c.array,c.obj,c.observerContext.index,this.instanceMeta.propertyName,this.cp,changedItems.length,c.previousValues);this.setValue(this.callbacks.removedItem.call(this.instanceMeta.context,this.getValue(),c.obj,changeMeta,this.instanceMeta.sugarMeta));this.setValue(this.callbacks.addedItem.call(this.instanceMeta.context,this.getValue(),c.obj,changeMeta,this.instanceMeta.sugarMeta))}this.changedItems={};this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta)}};function normalizeIndex(index,length,newItemsOffset){if(index<0){return Math.max(0,length+index)}else if(index<length){return index}else{return Math.min(length-newItemsOffset,index)}}function normalizeRemoveCount(index,length,removedCount){return Math.min(removedCount,length-index)}function ChangeMeta(dependentArray,item,index,propertyName,property,changedCount,previousValues){this.arrayChanged=dependentArray;this.index=index;this.item=item;this.propertyName=propertyName;this.property=property;this.changedCount=changedCount;if(previousValues){this.previousValues=previousValues}}function addItems(dependentArray,callbacks,cp,propertyName,meta){forEach(dependentArray,function(item,index){meta.setValue(callbacks.addedItem.call(this,meta.getValue(),item,new ChangeMeta(dependentArray,item,index,propertyName,cp,dependentArray.length),meta.sugarMeta))},this);callbacks.flushedChanges.call(this,meta.getValue(),meta.sugarMeta)}function reset(cp,propertyName){var callbacks=cp._callbacks();var hadMeta=cp._hasInstanceMeta(this,propertyName);var meta=cp._instanceMeta(this,propertyName);if(hadMeta){meta.setValue(cp.resetValue(meta.getValue()))}if(cp.options.initialize){cp.options.initialize.call(this,meta.getValue(),{property:cp,propertyName:propertyName},meta.sugarMeta)}}function partiallyRecomputeFor(obj,dependentKey){if(arrayBracketPattern.test(dependentKey)){return false}var value=get(obj,dependentKey);return EmberArray.detect(value)}function ReduceComputedPropertyInstanceMeta(context,propertyName,initialValue){this.context=context;this.propertyName=propertyName;this.cache=metaFor(context).cache;this.dependentArrays={};this.sugarMeta={};this.initialValue=initialValue}ReduceComputedPropertyInstanceMeta.prototype={getValue:function(){var value=cacheGet(this.cache,this.propertyName);if(value!==undefined){return value}else{return this.initialValue}},setValue:function(newValue,triggerObservers){if(newValue===cacheGet(this.cache,this.propertyName)){return}if(triggerObservers){propertyWillChange(this.context,this.propertyName)}if(newValue===undefined){cacheRemove(this.cache,this.propertyName)}else{cacheSet(this.cache,this.propertyName,newValue)}if(triggerObservers){propertyDidChange(this.context,this.propertyName)}}};__exports__.ReduceComputedProperty=ReduceComputedProperty;function ReduceComputedProperty(options){var cp=this;this.options=options;this._dependentKeys=null;this._itemPropertyKeys={};this._previousItemPropertyKeys={};this.readOnly();this.cacheable();this.recomputeOnce=function(propertyName){run.once(this,recompute,propertyName)};var recompute=function(propertyName){var dependentKeys=cp._dependentKeys;var meta=cp._instanceMeta(this,propertyName);var callbacks=cp._callbacks();reset.call(this,cp,propertyName);meta.dependentArraysObserver.suspendArrayObservers(function(){forEach(cp._dependentKeys,function(dependentKey){if(!partiallyRecomputeFor(this,dependentKey)){return}var dependentArray=get(this,dependentKey);var previousDependentArray=meta.dependentArrays[dependentKey];if(dependentArray===previousDependentArray){if(cp._previousItemPropertyKeys[dependentKey]){delete cp._previousItemPropertyKeys[dependentKey];meta.dependentArraysObserver.setupPropertyObservers(dependentKey,cp._itemPropertyKeys[dependentKey])}}else{meta.dependentArrays[dependentKey]=dependentArray;if(previousDependentArray){meta.dependentArraysObserver.teardownObservers(previousDependentArray,dependentKey)}if(dependentArray){meta.dependentArraysObserver.setupObservers(dependentArray,dependentKey)}}},this)},this);forEach(cp._dependentKeys,function(dependentKey){if(!partiallyRecomputeFor(this,dependentKey)){return}var dependentArray=get(this,dependentKey);if(dependentArray){addItems.call(this,dependentArray,callbacks,cp,propertyName,meta)}},this)};this.func=function(propertyName){recompute.call(this,propertyName);return cp._instanceMeta(this,propertyName).getValue()}}ReduceComputedProperty.prototype=o_create(ComputedProperty.prototype);function defaultCallback(computedValue){return computedValue}ReduceComputedProperty.prototype._callbacks=function(){if(!this.callbacks){var options=this.options;this.callbacks={removedItem:options.removedItem||defaultCallback,addedItem:options.addedItem||defaultCallback,flushedChanges:options.flushedChanges||defaultCallback}}return this.callbacks};ReduceComputedProperty.prototype._hasInstanceMeta=function(context,propertyName){return!!metaFor(context).cacheMeta[propertyName]};ReduceComputedProperty.prototype._instanceMeta=function(context,propertyName){var cacheMeta=metaFor(context).cacheMeta;var meta=cacheMeta[propertyName];if(!meta){meta=cacheMeta[propertyName]=new ReduceComputedPropertyInstanceMeta(context,propertyName,this.initialValue());meta.dependentArraysObserver=new DependentArraysObserver(this._callbacks(),this,meta,context,propertyName,meta.sugarMeta)}return meta};ReduceComputedProperty.prototype.initialValue=function(){if(typeof this.options.initialValue==="function"){return this.options.initialValue()}else{return this.options.initialValue}};ReduceComputedProperty.prototype.resetValue=function(value){return this.initialValue()};ReduceComputedProperty.prototype.itemPropertyKey=function(dependentArrayKey,itemPropertyKey){this._itemPropertyKeys[dependentArrayKey]=this._itemPropertyKeys[dependentArrayKey]||[];this._itemPropertyKeys[dependentArrayKey].push(itemPropertyKey)};ReduceComputedProperty.prototype.clearItemPropertyKeys=function(dependentArrayKey){if(this._itemPropertyKeys[dependentArrayKey]){this._previousItemPropertyKeys[dependentArrayKey]=this._itemPropertyKeys[dependentArrayKey];this._itemPropertyKeys[dependentArrayKey]=[]}};ReduceComputedProperty.prototype.property=function(){var cp=this;var args=a_slice.call(arguments);var propertyArgs={};var match,dependentArrayKey,itemPropertyKey;forEach(args,function(dependentKey){if(doubleEachPropertyPattern.test(dependentKey)){throw new EmberError("Nested @each properties not supported: "+dependentKey)}else if(match=eachPropertyPattern.exec(dependentKey)){dependentArrayKey=match[1];var itemPropertyKeyPattern=match[2];var addItemPropertyKey=function(itemPropertyKey){cp.itemPropertyKey(dependentArrayKey,itemPropertyKey)};expandProperties(itemPropertyKeyPattern,addItemPropertyKey);propertyArgs[guidFor(dependentArrayKey)]=dependentArrayKey}else{propertyArgs[guidFor(dependentKey)]=dependentKey}});var propertyArgsToArray=[];for(var guid in propertyArgs){propertyArgsToArray.push(propertyArgs[guid])}return ComputedProperty.prototype.property.apply(this,propertyArgsToArray)};function reduceComputed(options){var args;if(arguments.length>1){args=a_slice.call(arguments,0,-1);options=a_slice.call(arguments,-1)[0]}if(typeof options!=="object"){throw new EmberError("Reduce Computed Property declared without an options hash")}if(!("initialValue"in options)){throw new EmberError("Reduce Computed Property declared without an initial value")}var cp=new ReduceComputedProperty(options);if(args){cp.property.apply(cp,args)}return cp}__exports__.reduceComputed=reduceComputed});enifed("ember-runtime/computed/reduce_computed_macros",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/run_loop","ember-metal/observer","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/system/subarray","ember-metal/keys","ember-runtime/compare","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var isArray=__dependency4__.isArray;var guidFor=__dependency4__.guidFor;var EmberError=__dependency5__["default"];var forEach=__dependency6__.forEach;var run=__dependency7__["default"];var addObserver=__dependency8__.addObserver;var arrayComputed=__dependency9__.arrayComputed;var reduceComputed=__dependency10__.reduceComputed;var SubArray=__dependency11__["default"];var keys=__dependency12__["default"];var compare=__dependency13__["default"];var a_slice=[].slice;function sum(dependentKey){return reduceComputed(dependentKey,{initialValue:0,addedItem:function(accumulatedValue,item,changeMeta,instanceMeta){return accumulatedValue+item},removedItem:function(accumulatedValue,item,changeMeta,instanceMeta){return accumulatedValue-item}})}__exports__.sum=sum;function max(dependentKey){return reduceComputed(dependentKey,{initialValue:-Infinity,addedItem:function(accumulatedValue,item,changeMeta,instanceMeta){return Math.max(accumulatedValue,item)},removedItem:function(accumulatedValue,item,changeMeta,instanceMeta){if(item<accumulatedValue){return accumulatedValue}}})}__exports__.max=max;function min(dependentKey){return reduceComputed(dependentKey,{initialValue:Infinity,addedItem:function(accumulatedValue,item,changeMeta,instanceMeta){return Math.min(accumulatedValue,item)},removedItem:function(accumulatedValue,item,changeMeta,instanceMeta){if(item>accumulatedValue){return accumulatedValue}}})}__exports__.min=min;function map(dependentKey,callback){var options={addedItem:function(array,item,changeMeta,instanceMeta){var mapped=callback.call(this,item,changeMeta.index);array.insertAt(changeMeta.index,mapped);return array},removedItem:function(array,item,changeMeta,instanceMeta){array.removeAt(changeMeta.index,1);return array}};return arrayComputed(dependentKey,options)}__exports__.map=map;function mapBy(dependentKey,propertyKey){var callback=function(item){return get(item,propertyKey)};return map(dependentKey+".@each."+propertyKey,callback)}__exports__.mapBy=mapBy;var mapProperty=mapBy;__exports__.mapProperty=mapProperty;function filter(dependentKey,callback){var options={initialize:function(array,changeMeta,instanceMeta){instanceMeta.filteredArrayIndexes=new SubArray},addedItem:function(array,item,changeMeta,instanceMeta){var match=!!callback.call(this,item,changeMeta.index);var filterIndex=instanceMeta.filteredArrayIndexes.addItem(changeMeta.index,match);if(match){array.insertAt(filterIndex,item)}return array},removedItem:function(array,item,changeMeta,instanceMeta){var filterIndex=instanceMeta.filteredArrayIndexes.removeItem(changeMeta.index);if(filterIndex>-1){array.removeAt(filterIndex)}return array}};return arrayComputed(dependentKey,options)}__exports__.filter=filter;function filterBy(dependentKey,propertyKey,value){var callback;if(arguments.length===2){callback=function(item){return get(item,propertyKey)}}else{callback=function(item){return get(item,propertyKey)===value}}return filter(dependentKey+".@each."+propertyKey,callback)}__exports__.filterBy=filterBy;var filterProperty=filterBy;__exports__.filterProperty=filterProperty;function uniq(){var args=a_slice.call(arguments);args.push({initialize:function(array,changeMeta,instanceMeta){instanceMeta.itemCounts={}},addedItem:function(array,item,changeMeta,instanceMeta){var guid=guidFor(item);if(!instanceMeta.itemCounts[guid]){instanceMeta.itemCounts[guid]=1;array.pushObject(item)}else{++instanceMeta.itemCounts[guid]}return array},removedItem:function(array,item,_,instanceMeta){var guid=guidFor(item);var itemCounts=instanceMeta.itemCounts;if(--itemCounts[guid]===0){array.removeObject(item)}return array}});return arrayComputed.apply(null,args)}__exports__.uniq=uniq;var union=uniq;__exports__.union=union;function intersect(){var args=a_slice.call(arguments);args.push({initialize:function(array,changeMeta,instanceMeta){instanceMeta.itemCounts={}},addedItem:function(array,item,changeMeta,instanceMeta){var itemGuid=guidFor(item);var dependentGuid=guidFor(changeMeta.arrayChanged);var numberOfDependentArrays=changeMeta.property._dependentKeys.length;var itemCounts=instanceMeta.itemCounts;if(!itemCounts[itemGuid]){itemCounts[itemGuid]={}}if(itemCounts[itemGuid][dependentGuid]===undefined){itemCounts[itemGuid][dependentGuid]=0}if(++itemCounts[itemGuid][dependentGuid]===1&&numberOfDependentArrays===keys(itemCounts[itemGuid]).length){array.addObject(item)}return array},removedItem:function(array,item,changeMeta,instanceMeta){var itemGuid=guidFor(item);var dependentGuid=guidFor(changeMeta.arrayChanged);var numberOfDependentArrays=changeMeta.property._dependentKeys.length;var numberOfArraysItemAppearsIn;var itemCounts=instanceMeta.itemCounts;if(itemCounts[itemGuid][dependentGuid]===undefined){itemCounts[itemGuid][dependentGuid]=0}if(--itemCounts[itemGuid][dependentGuid]===0){delete itemCounts[itemGuid][dependentGuid];numberOfArraysItemAppearsIn=keys(itemCounts[itemGuid]).length;if(numberOfArraysItemAppearsIn===0){delete itemCounts[itemGuid]}array.removeObject(item)}return array}});return arrayComputed.apply(null,args)}__exports__.intersect=intersect;function setDiff(setAProperty,setBProperty){if(arguments.length!==2){throw new EmberError("setDiff requires exactly two dependent arrays.")}return arrayComputed(setAProperty,setBProperty,{addedItem:function(array,item,changeMeta,instanceMeta){var setA=get(this,setAProperty);var setB=get(this,setBProperty);if(changeMeta.arrayChanged===setA){if(!setB.contains(item)){array.addObject(item)}}else{array.removeObject(item)}return array},removedItem:function(array,item,changeMeta,instanceMeta){var setA=get(this,setAProperty);var setB=get(this,setBProperty);if(changeMeta.arrayChanged===setB){if(setA.contains(item)){array.addObject(item)}}else{array.removeObject(item)}return array}})}__exports__.setDiff=setDiff;function binarySearch(array,item,low,high){var mid,midItem,res,guidMid,guidItem;if(arguments.length<4){high=get(array,"length")}if(arguments.length<3){low=0}if(low===high){return low}mid=low+Math.floor((high-low)/2);midItem=array.objectAt(mid);guidMid=guidFor(midItem);guidItem=guidFor(item);if(guidMid===guidItem){return mid}res=this.order(midItem,item);if(res===0){res=guidMid<guidItem?-1:1}if(res<0){return this.binarySearch(array,item,mid+1,high)}else if(res>0){return this.binarySearch(array,item,low,mid)}return mid}function sort(itemsKey,sortDefinition){if(typeof sortDefinition==="function"){return customSort(itemsKey,sortDefinition)}else{return propertySort(itemsKey,sortDefinition)
}}__exports__.sort=sort;function customSort(itemsKey,comparator){return arrayComputed(itemsKey,{initialize:function(array,changeMeta,instanceMeta){instanceMeta.order=comparator;instanceMeta.binarySearch=binarySearch;instanceMeta.waitingInsertions=[];instanceMeta.insertWaiting=function(){var index,item;var waiting=instanceMeta.waitingInsertions;instanceMeta.waitingInsertions=[];for(var i=0;i<waiting.length;i++){item=waiting[i];index=instanceMeta.binarySearch(array,item);array.insertAt(index,item)}};instanceMeta.insertLater=function(item){this.waitingInsertions.push(item)}},addedItem:function(array,item,changeMeta,instanceMeta){instanceMeta.insertLater(item);return array},removedItem:function(array,item,changeMeta,instanceMeta){array.removeObject(item);return array},flushedChanges:function(array,instanceMeta){instanceMeta.insertWaiting()}})}function propertySort(itemsKey,sortPropertiesKey){return arrayComputed(itemsKey,{initialize:function(array,changeMeta,instanceMeta){function setupSortProperties(){var sortPropertyDefinitions=get(this,sortPropertiesKey);var sortProperties=instanceMeta.sortProperties=[];var sortPropertyAscending=instanceMeta.sortPropertyAscending={};var sortProperty,idx,asc;changeMeta.property.clearItemPropertyKeys(itemsKey);forEach(sortPropertyDefinitions,function(sortPropertyDefinition){if((idx=sortPropertyDefinition.indexOf(":"))!==-1){sortProperty=sortPropertyDefinition.substring(0,idx);asc=sortPropertyDefinition.substring(idx+1).toLowerCase()!=="desc"}else{sortProperty=sortPropertyDefinition;asc=true}sortProperties.push(sortProperty);sortPropertyAscending[sortProperty]=asc;changeMeta.property.itemPropertyKey(itemsKey,sortProperty)});sortPropertyDefinitions.addObserver("@each",this,updateSortPropertiesOnce)}function updateSortPropertiesOnce(){run.once(this,updateSortProperties,changeMeta.propertyName)}function updateSortProperties(propertyName){setupSortProperties.call(this);changeMeta.property.recomputeOnce.call(this,propertyName)}addObserver(this,sortPropertiesKey,updateSortPropertiesOnce);setupSortProperties.call(this);instanceMeta.order=function(itemA,itemB){var sortProperty,result,asc;var keyA=this.keyFor(itemA);var keyB=this.keyFor(itemB);for(var i=0;i<this.sortProperties.length;++i){sortProperty=this.sortProperties[i];result=compare(keyA[sortProperty],keyB[sortProperty]);if(result!==0){asc=this.sortPropertyAscending[sortProperty];return asc?result:-1*result}}return 0};instanceMeta.binarySearch=binarySearch;setupKeyCache(instanceMeta)},addedItem:function(array,item,changeMeta,instanceMeta){var index=instanceMeta.binarySearch(array,item);array.insertAt(index,item);return array},removedItem:function(array,item,changeMeta,instanceMeta){var index=instanceMeta.binarySearch(array,item);array.removeAt(index);instanceMeta.dropKeyFor(item);return array}})}function setupKeyCache(instanceMeta){instanceMeta.keyFor=function(item){var guid=guidFor(item);if(this.keyCache[guid]){return this.keyCache[guid]}var sortProperty;var key={};for(var i=0;i<this.sortProperties.length;++i){sortProperty=this.sortProperties[i];key[sortProperty]=get(item,sortProperty)}return this.keyCache[guid]=key};instanceMeta.dropKeyFor=function(item){var guid=guidFor(item);this.keyCache[guid]=null};instanceMeta.keyCache={}}});enifed("ember-runtime/controllers/array_controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-runtime/system/array_proxy","ember-runtime/mixins/sortable","ember-runtime/mixins/controller","ember-metal/computed","ember-metal/error","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var forEach=__dependency4__.forEach;var replace=__dependency4__.replace;var ArrayProxy=__dependency5__["default"];var SortableMixin=__dependency6__["default"];var ControllerMixin=__dependency7__["default"];var computed=__dependency8__.computed;var EmberError=__dependency9__["default"];__exports__["default"]=ArrayProxy.extend(ControllerMixin,SortableMixin,{itemController:null,lookupItemController:function(object){return get(this,"itemController")},objectAtContent:function(idx){var length=get(this,"length");var arrangedContent=get(this,"arrangedContent");var object=arrangedContent&&arrangedContent.objectAt(idx);var controllerClass;if(idx>=0&&idx<length){controllerClass=this.lookupItemController(object);if(controllerClass){return this.controllerAt(idx,object,controllerClass)}}return object},arrangedContentDidChange:function(){this._super();this._resetSubControllers()},arrayContentDidChange:function(idx,removedCnt,addedCnt){var subControllers=this._subControllers;if(subControllers.length){var subControllersToRemove=subControllers.slice(idx,idx+removedCnt);forEach(subControllersToRemove,function(subController){if(subController){subController.destroy()}});replace(subControllers,idx,removedCnt,new Array(addedCnt))}this._super(idx,removedCnt,addedCnt)},init:function(){this._super();this._subControllers=[]},model:computed(function(){return Ember.A()}),_isVirtual:false,controllerAt:function(idx,object,controllerClass){var container=get(this,"container");var subControllers=this._subControllers;var fullName,subController,subControllerFactory,parentController,options;if(subControllers.length>idx){subController=subControllers[idx];if(subController){return subController}}if(this._isVirtual){parentController=get(this,"parentController")}else{parentController=this}fullName="controller:"+controllerClass;if(!container.has(fullName)){throw new EmberError('Could not resolve itemController: "'+controllerClass+'"')}subController=container.lookupFactory(fullName).create({target:parentController,parentController:parentController,model:object});subControllers[idx]=subController;return subController},_subControllers:null,_resetSubControllers:function(){var controller;var subControllers=this._subControllers;if(subControllers.length){for(var i=0,length=subControllers.length;length>i;i++){controller=subControllers[i];if(controller){controller.destroy()}}subControllers.length=0}},willDestroy:function(){this._resetSubControllers();this._super()}})});enifed("ember-runtime/controllers/controller",["ember-runtime/system/object","ember-runtime/mixins/controller","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var EmberObject=__dependency1__["default"];var Mixin=__dependency2__["default"];__exports__["default"]=EmberObject.extend(Mixin)});enifed("ember-runtime/controllers/object_controller",["ember-runtime/mixins/controller","ember-runtime/system/object_proxy","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var ControllerMixin=__dependency1__["default"];var ObjectProxy=__dependency2__["default"];__exports__["default"]=ObjectProxy.extend(ControllerMixin)});enifed("ember-runtime/copy",["ember-metal/enumerable_utils","ember-metal/utils","ember-runtime/system/object","ember-runtime/mixins/copyable","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var indexOf=__dependency1__.indexOf;var typeOf=__dependency2__.typeOf;var EmberObject=__dependency3__["default"];var Copyable=__dependency4__["default"];function _copy(obj,deep,seen,copies){var ret,loc,key;if(typeof obj!=="object"||obj===null){return obj}if(deep&&(loc=indexOf(seen,obj))>=0){return copies[loc]}if(typeOf(obj)==="array"){ret=obj.slice();if(deep){loc=ret.length;while(--loc>=0){ret[loc]=_copy(ret[loc],deep,seen,copies)}}}else if(Copyable&&Copyable.detect(obj)){ret=obj.copy(deep,seen,copies)}else if(obj instanceof Date){ret=new Date(obj.getTime())}else{ret={};for(key in obj){if(!Object.prototype.hasOwnProperty.call(obj,key)){continue}if(key.substring(0,2)==="__"){continue}ret[key]=deep?_copy(obj[key],deep,seen,copies):obj[key]}}if(deep){seen.push(obj);copies.push(ret)}return ret}__exports__["default"]=function copy(obj,deep){if("object"!==typeof obj||obj===null){return obj}if(Copyable&&Copyable.detect(obj)){return obj.copy(deep)}return _copy(obj,deep,deep?[]:null,deep?[]:null)}});enifed("ember-runtime/core",["exports"],function(__exports__){"use strict";var isEqual=function isEqual(a,b){if(a&&typeof a.isEqual==="function"){return a.isEqual(b)}if(a instanceof Date&&b instanceof Date){return a.getTime()===b.getTime()}return a===b};__exports__.isEqual=isEqual});enifed("ember-runtime/ext/function",["ember-metal/core","ember-metal/expand_properties","ember-metal/computed","ember-metal/mixin"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__){"use strict";var Ember=__dependency1__["default"];var expandProperties=__dependency2__["default"];var computed=__dependency3__.computed;var observer=__dependency4__.observer;var a_slice=Array.prototype.slice;var FunctionPrototype=Function.prototype;if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.Function){FunctionPrototype.property=function(){var ret=computed(this);return ret.property.apply(ret,arguments)};FunctionPrototype.observes=function(){var length=arguments.length;var args=new Array(length);for(var x=0;x<length;x++){args[x]=arguments[x]}return observer.apply(this,args.concat(this))};FunctionPrototype.observesImmediately=function(){for(var i=0,l=arguments.length;i<l;i++){var arg=arguments[i]}return this.observes.apply(this,arguments)};FunctionPrototype.observesBefore=function(){var watched=[];var addWatchedProperty=function(obs){watched.push(obs)};for(var i=0,l=arguments.length;i<l;++i){expandProperties(arguments[i],addWatchedProperty)}this.__ember_observesBefore__=watched;return this};FunctionPrototype.on=function(){var events=a_slice.call(arguments);this.__ember_listens__=events;return this}}});enifed("ember-runtime/ext/rsvp",["ember-metal/core","ember-metal/logger","ember-metal/run_loop","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var Logger=__dependency2__["default"];var run=__dependency3__["default"];var RSVP=requireModule("rsvp");var testModuleName="ember-testing/test";var Test;var asyncStart=function(){if(Ember.Test&&Ember.Test.adapter){Ember.Test.adapter.asyncStart()}};var asyncEnd=function(){if(Ember.Test&&Ember.Test.adapter){Ember.Test.adapter.asyncEnd()}};RSVP.configure("async",function(callback,promise){var async=!run.currentRunLoop;if(Ember.testing&&async){asyncStart()}run.backburner.schedule("actions",function(){if(Ember.testing&&async){asyncEnd()}callback(promise)})});RSVP.Promise.prototype.fail=function(callback,label){return this["catch"](callback,label)};RSVP.onerrorDefault=function(error){if(error instanceof Error){if(Ember.testing){if(!Test&&Ember.__loader.registry[testModuleName]){Test=requireModule(testModuleName)["default"]}if(Test&&Test.adapter){Test.adapter.exception(error)}else{throw error}}else if(Ember.onerror){Ember.onerror(error)}else{Logger.error(error.stack)}}};RSVP.on("error",RSVP.onerrorDefault);__exports__["default"]=RSVP});enifed("ember-runtime/ext/string",["ember-metal/core","ember-runtime/system/string"],function(__dependency1__,__dependency2__){"use strict";var Ember=__dependency1__["default"];var fmt=__dependency2__.fmt;var w=__dependency2__.w;var loc=__dependency2__.loc;var camelize=__dependency2__.camelize;var decamelize=__dependency2__.decamelize;var dasherize=__dependency2__.dasherize;var underscore=__dependency2__.underscore;var capitalize=__dependency2__.capitalize;var classify=__dependency2__.classify;var StringPrototype=String.prototype;if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.String){StringPrototype.fmt=function(){return fmt(this,arguments)};StringPrototype.w=function(){return w(this)};StringPrototype.loc=function(){return loc(this,arguments)};StringPrototype.camelize=function(){return camelize(this)};StringPrototype.decamelize=function(){return decamelize(this)};StringPrototype.dasherize=function(){return dasherize(this)};StringPrototype.underscore=function(){return underscore(this)};StringPrototype.classify=function(){return classify(this)};StringPrototype.capitalize=function(){return capitalize(this)}}});enifed("ember-runtime/mixins/-proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/observer","ember-metal/property_events","ember-metal/computed","ember-metal/properties","ember-metal/mixin","ember-runtime/system/string","ember-runtime/system/object","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var meta=__dependency4__.meta;var addObserver=__dependency5__.addObserver;var removeObserver=__dependency5__.removeObserver;var addBeforeObserver=__dependency5__.addBeforeObserver;var removeBeforeObserver=__dependency5__.removeBeforeObserver;var propertyWillChange=__dependency6__.propertyWillChange;var propertyDidChange=__dependency6__.propertyDidChange;var computed=__dependency7__.computed;var defineProperty=__dependency8__.defineProperty;var Mixin=__dependency9__.Mixin;var observer=__dependency9__.observer;var fmt=__dependency10__.fmt;var EmberObject=__dependency11__["default"];function contentPropertyWillChange(content,contentKey){var key=contentKey.slice(8);if(key in this){return}propertyWillChange(this,key)}function contentPropertyDidChange(content,contentKey){var key=contentKey.slice(8);if(key in this){return}propertyDidChange(this,key)}__exports__["default"]=Mixin.create({content:null,_contentDidChange:observer("content",function(){}),isTruthy:computed.bool("content"),_debugContainerKey:null,willWatchProperty:function(key){var contentKey="content."+key;addBeforeObserver(this,contentKey,null,contentPropertyWillChange);addObserver(this,contentKey,null,contentPropertyDidChange)},didUnwatchProperty:function(key){var contentKey="content."+key;removeBeforeObserver(this,contentKey,null,contentPropertyWillChange);removeObserver(this,contentKey,null,contentPropertyDidChange)},unknownProperty:function(key){var content=get(this,"content");if(content){return get(content,key)}},setUnknownProperty:function(key,value){var m=meta(this);if(m.proto===this){defineProperty(this,key,null,value);return value}var content=get(this,"content");return set(content,key,value)}})});enifed("ember-runtime/mixins/action_handler",["ember-metal/merge","ember-metal/mixin","ember-metal/property_get","ember-metal/utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var merge=__dependency1__["default"];var Mixin=__dependency2__.Mixin;var get=__dependency3__.get;var typeOf=__dependency4__.typeOf;var ActionHandler=Mixin.create({mergedProperties:["_actions"],willMergeMixin:function(props){var hashName;if(!props._actions){if(typeOf(props.actions)==="object"){hashName="actions"}else if(typeOf(props.events)==="object"){hashName="events"}if(hashName){props._actions=merge(props._actions||{},props[hashName])}delete props[hashName]}},send:function(actionName){var args=[].slice.call(arguments,1);var target;if(this._actions&&this._actions[actionName]){if(this._actions[actionName].apply(this,args)===true){}else{return}}if(target=get(this,"target")){target.send.apply(target,arguments)}}});__exports__["default"]=ActionHandler});enifed("ember-runtime/mixins/array",["ember-metal/core","ember-metal/property_get","ember-metal/computed","ember-metal/is_none","ember-runtime/mixins/enumerable","ember-metal/enumerable_utils","ember-metal/mixin","ember-metal/property_events","ember-metal/events","ember-metal/watching","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var computed=__dependency3__.computed;var cacheFor=__dependency3__.cacheFor;var isNone=__dependency4__.isNone;var none=__dependency4__.none;var Enumerable=__dependency5__["default"];var map=__dependency6__.map;var Mixin=__dependency7__.Mixin;var required=__dependency7__.required;var propertyWillChange=__dependency8__.propertyWillChange;var propertyDidChange=__dependency8__.propertyDidChange;var addListener=__dependency9__.addListener;var removeListener=__dependency9__.removeListener;var sendEvent=__dependency9__.sendEvent;var hasListeners=__dependency9__.hasListeners;var isWatching=__dependency10__.isWatching;function arrayObserversHelper(obj,target,opts,operation,notify){var willChange=opts&&opts.willChange||"arrayWillChange";var didChange=opts&&opts.didChange||"arrayDidChange";var hasObservers=get(obj,"hasArrayObservers");if(hasObservers===notify){propertyWillChange(obj,"hasArrayObservers")}operation(obj,"@array:before",target,willChange);operation(obj,"@array:change",target,didChange);if(hasObservers===notify){propertyDidChange(obj,"hasArrayObservers")}return obj}__exports__["default"]=Mixin.create(Enumerable,{length:required(),objectAt:function(idx){if(idx<0||idx>=get(this,"length")){return undefined}return get(this,idx)},objectsAt:function(indexes){var self=this;return map(indexes,function(idx){return self.objectAt(idx)})},nextObject:function(idx){return this.objectAt(idx)},"[]":computed(function(key,value){if(value!==undefined){this.replace(0,get(this,"length"),value)}return this}),firstObject:computed(function(){return this.objectAt(0)}),lastObject:computed(function(){return this.objectAt(get(this,"length")-1)}),contains:function(obj){return this.indexOf(obj)>=0},slice:function(beginIndex,endIndex){var ret=Ember.A();var length=get(this,"length");if(isNone(beginIndex)){beginIndex=0}if(isNone(endIndex)||endIndex>length){endIndex=length}if(beginIndex<0){beginIndex=length+beginIndex}if(endIndex<0){endIndex=length+endIndex}while(beginIndex<endIndex){ret[ret.length]=this.objectAt(beginIndex++)}return ret},indexOf:function(object,startAt){var len=get(this,"length");var idx;if(startAt===undefined){startAt=0}if(startAt<0){startAt+=len}for(idx=startAt;idx<len;idx++){if(this.objectAt(idx)===object){return idx}}return-1},lastIndexOf:function(object,startAt){var len=get(this,"length");var idx;if(startAt===undefined||startAt>=len){startAt=len-1}if(startAt<0){startAt+=len}for(idx=startAt;idx>=0;idx--){if(this.objectAt(idx)===object){return idx}}return-1},addArrayObserver:function(target,opts){return arrayObserversHelper(this,target,opts,addListener,false)},removeArrayObserver:function(target,opts){return arrayObserversHelper(this,target,opts,removeListener,true)},hasArrayObservers:computed(function(){return hasListeners(this,"@array:change")||hasListeners(this,"@array:before")}),arrayContentWillChange:function(startIdx,removeAmt,addAmt){var removing,lim;if(startIdx===undefined){startIdx=0;removeAmt=addAmt=-1}else{if(removeAmt===undefined){removeAmt=-1}if(addAmt===undefined){addAmt=-1}}if(isWatching(this,"@each")){get(this,"@each")}sendEvent(this,"@array:before",[this,startIdx,removeAmt,addAmt]);if(startIdx>=0&&removeAmt>=0&&get(this,"hasEnumerableObservers")){removing=[];lim=startIdx+removeAmt;for(var idx=startIdx;idx<lim;idx++){removing.push(this.objectAt(idx))}}else{removing=removeAmt}this.enumerableContentWillChange(removing,addAmt);return this},arrayContentDidChange:function(startIdx,removeAmt,addAmt){var adding,lim;if(startIdx===undefined){startIdx=0;removeAmt=addAmt=-1}else{if(removeAmt===undefined){removeAmt=-1}if(addAmt===undefined){addAmt=-1}}if(startIdx>=0&&addAmt>=0&&get(this,"hasEnumerableObservers")){adding=[];lim=startIdx+addAmt;for(var idx=startIdx;idx<lim;idx++){adding.push(this.objectAt(idx))}}else{adding=addAmt}this.enumerableContentDidChange(removeAmt,adding);sendEvent(this,"@array:change",[this,startIdx,removeAmt,addAmt]);var length=get(this,"length");var cachedFirst=cacheFor(this,"firstObject");var cachedLast=cacheFor(this,"lastObject");if(this.objectAt(0)!==cachedFirst){propertyWillChange(this,"firstObject");propertyDidChange(this,"firstObject")}if(this.objectAt(length-1)!==cachedLast){propertyWillChange(this,"lastObject");propertyDidChange(this,"lastObject")}return this},"@each":computed(function(){if(!this.__each){var EachProxy=requireModule("ember-runtime/system/each_proxy")["EachProxy"];this.__each=new EachProxy(this)}return this.__each})})});enifed("ember-runtime/mixins/comparable",["ember-metal/mixin","exports"],function(__dependency1__,__exports__){"use strict";var Mixin=__dependency1__.Mixin;var required=__dependency1__.required;__exports__["default"]=Mixin.create({compare:required(Function)})});enifed("ember-runtime/mixins/controller",["ember-metal/core","ember-metal/property_get","ember-runtime/system/object","ember-metal/mixin","ember-metal/computed","ember-runtime/mixins/action_handler","ember-runtime/mixins/controller_content_model_alias_deprecation","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var EmberObject=__dependency3__["default"];var Mixin=__dependency4__.Mixin;var computed=__dependency5__.computed;var ActionHandler=__dependency6__["default"];var ControllerContentModelAliasDeprecation=__dependency7__["default"];__exports__["default"]=Mixin.create(ActionHandler,ControllerContentModelAliasDeprecation,{isController:true,target:null,container:null,parentController:null,store:null,model:null,content:computed.alias("model")})});enifed("ember-runtime/mixins/controller_content_model_alias_deprecation",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var Mixin=__dependency3__.Mixin;__exports__["default"]=Mixin.create({willMergeMixin:function(props){this._super.apply(this,arguments);var modelSpecified=!!props.model;if(props.content&&!modelSpecified){props.model=props.content;delete props["content"]}}})});enifed("ember-runtime/mixins/copyable",["ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-runtime/mixins/freezable","ember-runtime/system/string","ember-metal/error","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__exports__){"use strict";var get=__dependency1__.get;var set=__dependency2__.set;var required=__dependency3__.required;var Freezable=__dependency4__.Freezable;var Mixin=__dependency3__.Mixin;var fmt=__dependency5__.fmt;var EmberError=__dependency6__["default"];__exports__["default"]=Mixin.create({copy:required(Function),frozenCopy:function(){if(Freezable&&Freezable.detect(this)){return get(this,"isFrozen")?this:this.copy().freeze()}else{throw new EmberError(fmt("%@ does not support freezing",[this]))}}})});enifed("ember-runtime/mixins/deferred",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","ember-metal/computed","ember-runtime/ext/rsvp","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var Mixin=__dependency3__.Mixin;var computed=__dependency4__.computed;var RSVP=__dependency5__["default"];__exports__["default"]=Mixin.create({then:function(resolve,reject,label){var deferred,promise,entity;entity=this;deferred=get(this,"_deferred");promise=deferred.promise;function fulfillmentHandler(fulfillment){if(fulfillment===promise){return resolve(entity)}else{return resolve(fulfillment)}}return promise.then(resolve&&fulfillmentHandler,reject,label)},resolve:function(value){var deferred,promise;deferred=get(this,"_deferred");promise=deferred.promise;if(value===this){deferred.resolve(promise)}else{deferred.resolve(value)}},reject:function(value){get(this,"_deferred").reject(value)},_deferred:computed(function(){return RSVP.defer("Ember: DeferredMixin - "+this)})})});enifed("ember-runtime/mixins/enumerable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/property_events","ember-metal/events","ember-runtime/compare","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var apply=__dependency4__.apply;var Mixin=__dependency5__.Mixin;var required=__dependency5__.required;var aliasMethod=__dependency5__.aliasMethod;var indexOf=__dependency6__.indexOf;var computed=__dependency7__.computed;var propertyWillChange=__dependency8__.propertyWillChange;var propertyDidChange=__dependency8__.propertyDidChange;var addListener=__dependency9__.addListener;var removeListener=__dependency9__.removeListener;var sendEvent=__dependency9__.sendEvent;var hasListeners=__dependency9__.hasListeners;var compare=__dependency10__["default"];var a_slice=Array.prototype.slice;var contexts=[];function popCtx(){return contexts.length===0?{}:contexts.pop()}function pushCtx(ctx){contexts.push(ctx);return null}function iter(key,value){var valueProvided=arguments.length===2;function i(item){var cur=get(item,key);return valueProvided?value===cur:!!cur}return i}__exports__["default"]=Mixin.create({nextObject:required(Function),firstObject:computed("[]",function(){if(get(this,"length")===0)return undefined;var context=popCtx(),ret;ret=this.nextObject(0,null,context);pushCtx(context);return ret}),lastObject:computed("[]",function(){var len=get(this,"length");if(len===0)return undefined;var context=popCtx(),idx=0,cur,last=null;do{last=cur;cur=this.nextObject(idx++,last,context)}while(cur!==undefined);pushCtx(context);return last}),contains:function(obj){return this.find(function(item){return item===obj})!==undefined},forEach:function(callback,target){if(typeof callback!=="function")throw new TypeError;var len=get(this,"length"),last=null,context=popCtx();if(target===undefined)target=null;for(var idx=0;idx<len;idx++){var next=this.nextObject(idx,last,context);callback.call(target,next,idx,this);last=next}last=null;context=pushCtx(context);return this},getEach:function(key){return this.mapBy(key)},setEach:function(key,value){return this.forEach(function(item){set(item,key,value)})},map:function(callback,target){var ret=Ember.A();this.forEach(function(x,idx,i){ret[idx]=callback.call(target,x,idx,i)});return ret},mapBy:function(key){return this.map(function(next){return get(next,key)})},mapProperty:aliasMethod("mapBy"),filter:function(callback,target){var ret=Ember.A();this.forEach(function(x,idx,i){if(callback.call(target,x,idx,i))ret.push(x)});return ret},reject:function(callback,target){return this.filter(function(){return!apply(target,callback,arguments)})},filterBy:function(key,value){return this.filter(apply(this,iter,arguments))},filterProperty:aliasMethod("filterBy"),rejectBy:function(key,value){var exactValue=function(item){return get(item,key)===value};var hasValue=function(item){return!!get(item,key)};var use=arguments.length===2?exactValue:hasValue;return this.reject(use)},rejectProperty:aliasMethod("rejectBy"),find:function(callback,target){var len=get(this,"length");if(target===undefined)target=null;var last=null,next,found=false,ret;var context=popCtx();for(var idx=0;idx<len&&!found;idx++){next=this.nextObject(idx,last,context);if(found=callback.call(target,next,idx,this))ret=next;last=next}next=last=null;context=pushCtx(context);return ret},findBy:function(key,value){return this.find(apply(this,iter,arguments))},findProperty:aliasMethod("findBy"),every:function(callback,target){return!this.find(function(x,idx,i){return!callback.call(target,x,idx,i)})},everyBy:aliasMethod("isEvery"),everyProperty:aliasMethod("isEvery"),isEvery:function(key,value){return this.every(apply(this,iter,arguments))},any:function(callback,target){var len=get(this,"length");var context=popCtx();var found=false;var last=null;var next,idx;if(target===undefined){target=null}for(idx=0;idx<len&&!found;idx++){next=this.nextObject(idx,last,context);found=callback.call(target,next,idx,this);last=next}next=last=null;context=pushCtx(context);return found},some:aliasMethod("any"),isAny:function(key,value){return this.any(apply(this,iter,arguments))},anyBy:aliasMethod("isAny"),someProperty:aliasMethod("isAny"),reduce:function(callback,initialValue,reducerProperty){if(typeof callback!=="function"){throw new TypeError}var ret=initialValue;this.forEach(function(item,i){ret=callback(ret,item,i,this,reducerProperty)},this);return ret},invoke:function(methodName){var args,ret=Ember.A();if(arguments.length>1)args=a_slice.call(arguments,1);this.forEach(function(x,idx){var method=x&&x[methodName];if("function"===typeof method){ret[idx]=args?apply(x,method,args):x[methodName]()}},this);return ret},toArray:function(){var ret=Ember.A();this.forEach(function(o,idx){ret[idx]=o});return ret},compact:function(){return this.filter(function(value){return value!=null})},without:function(value){if(!this.contains(value))return this;var ret=Ember.A();this.forEach(function(k){if(k!==value)ret[ret.length]=k});return ret},uniq:function(){var ret=Ember.A();this.forEach(function(k){if(indexOf(ret,k)<0)ret.push(k)});return ret},"[]":computed(function(key,value){return this}),addEnumerableObserver:function(target,opts){var willChange=opts&&opts.willChange||"enumerableWillChange";var didChange=opts&&opts.didChange||"enumerableDidChange";var hasObservers=get(this,"hasEnumerableObservers");if(!hasObservers)propertyWillChange(this,"hasEnumerableObservers");addListener(this,"@enumerable:before",target,willChange);addListener(this,"@enumerable:change",target,didChange);if(!hasObservers)propertyDidChange(this,"hasEnumerableObservers");return this},removeEnumerableObserver:function(target,opts){var willChange=opts&&opts.willChange||"enumerableWillChange";var didChange=opts&&opts.didChange||"enumerableDidChange";var hasObservers=get(this,"hasEnumerableObservers");if(hasObservers)propertyWillChange(this,"hasEnumerableObservers");removeListener(this,"@enumerable:before",target,willChange);removeListener(this,"@enumerable:change",target,didChange);if(hasObservers)propertyDidChange(this,"hasEnumerableObservers");return this},hasEnumerableObservers:computed(function(){return hasListeners(this,"@enumerable:change")||hasListeners(this,"@enumerable:before")}),enumerableContentWillChange:function(removing,adding){var removeCnt,addCnt,hasDelta;if("number"===typeof removing)removeCnt=removing;else if(removing)removeCnt=get(removing,"length");else removeCnt=removing=-1;if("number"===typeof adding)addCnt=adding;else if(adding)addCnt=get(adding,"length");else addCnt=adding=-1;hasDelta=addCnt<0||removeCnt<0||addCnt-removeCnt!==0;if(removing===-1)removing=null;if(adding===-1)adding=null;propertyWillChange(this,"[]");if(hasDelta)propertyWillChange(this,"length");sendEvent(this,"@enumerable:before",[this,removing,adding]);return this},enumerableContentDidChange:function(removing,adding){var removeCnt,addCnt,hasDelta;if("number"===typeof removing)removeCnt=removing;else if(removing)removeCnt=get(removing,"length");else removeCnt=removing=-1;if("number"===typeof adding)addCnt=adding;else if(adding)addCnt=get(adding,"length");else addCnt=adding=-1;hasDelta=addCnt<0||removeCnt<0||addCnt-removeCnt!==0;if(removing===-1)removing=null;if(adding===-1)adding=null;sendEvent(this,"@enumerable:change",[this,removing,adding]);if(hasDelta)propertyDidChange(this,"length");propertyDidChange(this,"[]");
return this},sortBy:function(){var sortKeys=arguments;return this.toArray().sort(function(a,b){for(var i=0;i<sortKeys.length;i++){var key=sortKeys[i];var propA=get(a,key);var propB=get(b,key);var compareValue=compare(propA,propB);if(compareValue){return compareValue}}return 0})}})});enifed("ember-runtime/mixins/evented",["ember-metal/mixin","ember-metal/events","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Mixin=__dependency1__.Mixin;var addListener=__dependency2__.addListener;var removeListener=__dependency2__.removeListener;var hasListeners=__dependency2__.hasListeners;var sendEvent=__dependency2__.sendEvent;__exports__["default"]=Mixin.create({on:function(name,target,method){addListener(this,name,target,method);return this},one:function(name,target,method){if(!method){method=target;target=null}addListener(this,name,target,method,true);return this},trigger:function(name){var length=arguments.length;var args=new Array(length-1);for(var i=1;i<length;i++){args[i-1]=arguments[i]}sendEvent(this,name,args)},off:function(name,target,method){removeListener(this,name,target,method);return this},has:function(name){return hasListeners(this,name)}})});enifed("ember-runtime/mixins/freezable",["ember-metal/mixin","ember-metal/property_get","ember-metal/property_set","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Mixin=__dependency1__.Mixin;var get=__dependency2__.get;var set=__dependency3__.set;var Freezable=Mixin.create({isFrozen:false,freeze:function(){if(get(this,"isFrozen"))return this;set(this,"isFrozen",true);return this}});__exports__.Freezable=Freezable;var FROZEN_ERROR="Frozen object cannot be modified.";__exports__.FROZEN_ERROR=FROZEN_ERROR});enifed("ember-runtime/mixins/mutable_array",["ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/mixin","ember-runtime/mixins/array","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var OUT_OF_RANGE_EXCEPTION="Index out of range";var EMPTY=[];var get=__dependency1__.get;var set=__dependency2__.set;var isArray=__dependency3__.isArray;var EmberError=__dependency4__["default"];var Mixin=__dependency5__.Mixin;var required=__dependency5__.required;var EmberArray=__dependency6__["default"];var MutableEnumerable=__dependency7__["default"];var Enumerable=__dependency8__["default"];__exports__["default"]=Mixin.create(EmberArray,MutableEnumerable,{replace:required(),clear:function(){var len=get(this,"length");if(len===0)return this;this.replace(0,len,EMPTY);return this},insertAt:function(idx,object){if(idx>get(this,"length"))throw new EmberError(OUT_OF_RANGE_EXCEPTION);this.replace(idx,0,[object]);return this},removeAt:function(start,len){if("number"===typeof start){if(start<0||start>=get(this,"length")){throw new EmberError(OUT_OF_RANGE_EXCEPTION)}if(len===undefined)len=1;this.replace(start,len,EMPTY)}return this},pushObject:function(obj){this.insertAt(get(this,"length"),obj);return obj},pushObjects:function(objects){if(!(Enumerable.detect(objects)||isArray(objects))){throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects")}this.replace(get(this,"length"),0,objects);return this},popObject:function(){var len=get(this,"length");if(len===0)return null;var ret=this.objectAt(len-1);this.removeAt(len-1,1);return ret},shiftObject:function(){if(get(this,"length")===0)return null;var ret=this.objectAt(0);this.removeAt(0);return ret},unshiftObject:function(obj){this.insertAt(0,obj);return obj},unshiftObjects:function(objects){this.replace(0,0,objects);return this},reverseObjects:function(){var len=get(this,"length");if(len===0)return this;var objects=this.toArray().reverse();this.replace(0,len,objects);return this},setObjects:function(objects){if(objects.length===0)return this.clear();var len=get(this,"length");this.replace(0,len,objects);return this},removeObject:function(obj){var loc=get(this,"length")||0;while(--loc>=0){var curObject=this.objectAt(loc);if(curObject===obj)this.removeAt(loc)}return this},addObject:function(obj){if(!this.contains(obj))this.pushObject(obj);return this}})});enifed("ember-runtime/mixins/mutable_enumerable",["ember-metal/enumerable_utils","ember-runtime/mixins/enumerable","ember-metal/mixin","ember-metal/property_events","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var forEach=__dependency1__.forEach;var Enumerable=__dependency2__["default"];var Mixin=__dependency3__.Mixin;var required=__dependency3__.required;var beginPropertyChanges=__dependency4__.beginPropertyChanges;var endPropertyChanges=__dependency4__.endPropertyChanges;__exports__["default"]=Mixin.create(Enumerable,{addObject:required(Function),addObjects:function(objects){beginPropertyChanges(this);forEach(objects,function(obj){this.addObject(obj)},this);endPropertyChanges(this);return this},removeObject:required(Function),removeObjects:function(objects){beginPropertyChanges(this);for(var i=objects.length-1;i>=0;i--){this.removeObject(objects[i])}endPropertyChanges(this);return this}})});enifed("ember-runtime/mixins/observable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/get_properties","ember-metal/set_properties","ember-metal/mixin","ember-metal/events","ember-metal/property_events","ember-metal/observer","ember-metal/computed","ember-metal/is_none","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var getWithDefault=__dependency2__.getWithDefault;var set=__dependency3__.set;var apply=__dependency4__.apply;var getProperties=__dependency5__["default"];var setProperties=__dependency6__["default"];var Mixin=__dependency7__.Mixin;var hasListeners=__dependency8__.hasListeners;var beginPropertyChanges=__dependency9__.beginPropertyChanges;var propertyWillChange=__dependency9__.propertyWillChange;var propertyDidChange=__dependency9__.propertyDidChange;var endPropertyChanges=__dependency9__.endPropertyChanges;var addObserver=__dependency10__.addObserver;var addBeforeObserver=__dependency10__.addBeforeObserver;var removeObserver=__dependency10__.removeObserver;var observersFor=__dependency10__.observersFor;var cacheFor=__dependency11__.cacheFor;var isNone=__dependency12__.isNone;var slice=Array.prototype.slice;__exports__["default"]=Mixin.create({get:function(keyName){return get(this,keyName)},getProperties:function(){return apply(null,getProperties,[this].concat(slice.call(arguments)))},set:function(keyName,value){set(this,keyName,value);return this},setProperties:function(hash){return setProperties(this,hash)},beginPropertyChanges:function(){beginPropertyChanges();return this},endPropertyChanges:function(){endPropertyChanges();return this},propertyWillChange:function(keyName){propertyWillChange(this,keyName);return this},propertyDidChange:function(keyName){propertyDidChange(this,keyName);return this},notifyPropertyChange:function(keyName){this.propertyWillChange(keyName);this.propertyDidChange(keyName);return this},addBeforeObserver:function(key,target,method){addBeforeObserver(this,key,target,method)},addObserver:function(key,target,method){addObserver(this,key,target,method)},removeObserver:function(key,target,method){removeObserver(this,key,target,method)},hasObserverFor:function(key){return hasListeners(this,key+":change")},getWithDefault:function(keyName,defaultValue){return getWithDefault(this,keyName,defaultValue)},incrementProperty:function(keyName,increment){if(isNone(increment)){increment=1}set(this,keyName,(parseFloat(get(this,keyName))||0)+increment);return get(this,keyName)},decrementProperty:function(keyName,decrement){if(isNone(decrement)){decrement=1}set(this,keyName,(get(this,keyName)||0)-decrement);return get(this,keyName)},toggleProperty:function(keyName){set(this,keyName,!get(this,keyName));return get(this,keyName)},cacheFor:function(keyName){return cacheFor(this,keyName)},observersForKey:function(keyName){return observersFor(this,keyName)}})});enifed("ember-runtime/mixins/promise_proxy",["ember-metal/property_get","ember-metal/set_properties","ember-metal/computed","ember-metal/mixin","ember-metal/error","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var get=__dependency1__.get;var setProperties=__dependency2__["default"];var computed=__dependency3__.computed;var Mixin=__dependency4__.Mixin;var EmberError=__dependency5__["default"];var not=computed.not;var or=computed.or;function tap(proxy,promise){setProperties(proxy,{isFulfilled:false,isRejected:false});return promise.then(function(value){setProperties(proxy,{content:value,isFulfilled:true});return value},function(reason){setProperties(proxy,{reason:reason,isRejected:true});throw reason},"Ember: PromiseProxy")}__exports__["default"]=Mixin.create({reason:null,isPending:not("isSettled").readOnly(),isSettled:or("isRejected","isFulfilled").readOnly(),isRejected:false,isFulfilled:false,promise:computed(function(key,promise){if(arguments.length===2){return tap(this,promise)}else{throw new EmberError("PromiseProxy's promise must be set")}}),then:promiseAlias("then"),"catch":promiseAlias("catch"),"finally":promiseAlias("finally")});function promiseAlias(name){return function(){var promise=get(this,"promise");return promise[name].apply(promise,arguments)}}});enifed("ember-runtime/mixins/sortable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-metal/mixin","ember-runtime/mixins/mutable_enumerable","ember-runtime/compare","ember-metal/observer","ember-metal/computed","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var forEach=__dependency4__.forEach;var Mixin=__dependency5__.Mixin;var MutableEnumerable=__dependency6__["default"];var compare=__dependency7__["default"];var addObserver=__dependency8__.addObserver;var removeObserver=__dependency8__.removeObserver;var computed=__dependency9__.computed;var beforeObserver=__dependency5__.beforeObserver;var observer=__dependency5__.observer;__exports__["default"]=Mixin.create(MutableEnumerable,{sortProperties:null,sortAscending:true,sortFunction:compare,orderBy:function(item1,item2){var result=0;var sortProperties=get(this,"sortProperties");var sortAscending=get(this,"sortAscending");var sortFunction=get(this,"sortFunction");forEach(sortProperties,function(propertyName){if(result===0){result=sortFunction.call(this,get(item1,propertyName),get(item2,propertyName));if(result!==0&&!sortAscending){result=-1*result}}},this);return result},destroy:function(){var content=get(this,"content");var sortProperties=get(this,"sortProperties");if(content&&sortProperties){forEach(content,function(item){forEach(sortProperties,function(sortProperty){removeObserver(item,sortProperty,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super()},isSorted:computed.notEmpty("sortProperties"),arrangedContent:computed("content","sortProperties.@each",function(key,value){var content=get(this,"content");var isSorted=get(this,"isSorted");var sortProperties=get(this,"sortProperties");var self=this;if(content&&isSorted){content=content.slice();content.sort(function(item1,item2){return self.orderBy(item1,item2)});forEach(content,function(item){forEach(sortProperties,function(sortProperty){addObserver(item,sortProperty,this,"contentItemSortPropertyDidChange")},this)},this);return Ember.A(content)}return content}),_contentWillChange:beforeObserver("content",function(){var content=get(this,"content");var sortProperties=get(this,"sortProperties");if(content&&sortProperties){forEach(content,function(item){forEach(sortProperties,function(sortProperty){removeObserver(item,sortProperty,this,"contentItemSortPropertyDidChange")},this)},this)}this._super()}),sortPropertiesWillChange:beforeObserver("sortProperties",function(){this._lastSortAscending=undefined}),sortPropertiesDidChange:observer("sortProperties",function(){this._lastSortAscending=undefined}),sortAscendingWillChange:beforeObserver("sortAscending",function(){this._lastSortAscending=get(this,"sortAscending")}),sortAscendingDidChange:observer("sortAscending",function(){if(this._lastSortAscending!==undefined&&get(this,"sortAscending")!==this._lastSortAscending){var arrangedContent=get(this,"arrangedContent");arrangedContent.reverseObjects()}}),contentArrayWillChange:function(array,idx,removedCount,addedCount){var isSorted=get(this,"isSorted");if(isSorted){var arrangedContent=get(this,"arrangedContent");var removedObjects=array.slice(idx,idx+removedCount);var sortProperties=get(this,"sortProperties");forEach(removedObjects,function(item){arrangedContent.removeObject(item);forEach(sortProperties,function(sortProperty){removeObserver(item,sortProperty,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(array,idx,removedCount,addedCount)},contentArrayDidChange:function(array,idx,removedCount,addedCount){var isSorted=get(this,"isSorted");var sortProperties=get(this,"sortProperties");if(isSorted){var addedObjects=array.slice(idx,idx+addedCount);forEach(addedObjects,function(item){this.insertItemSorted(item);forEach(sortProperties,function(sortProperty){addObserver(item,sortProperty,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(array,idx,removedCount,addedCount)},insertItemSorted:function(item){var arrangedContent=get(this,"arrangedContent");var length=get(arrangedContent,"length");var idx=this._binarySearch(item,0,length);arrangedContent.insertAt(idx,item)},contentItemSortPropertyDidChange:function(item){var arrangedContent=get(this,"arrangedContent");var oldIndex=arrangedContent.indexOf(item);var leftItem=arrangedContent.objectAt(oldIndex-1);var rightItem=arrangedContent.objectAt(oldIndex+1);var leftResult=leftItem&&this.orderBy(item,leftItem);var rightResult=rightItem&&this.orderBy(item,rightItem);if(leftResult<0||rightResult>0){arrangedContent.removeObject(item);this.insertItemSorted(item)}},_binarySearch:function(item,low,high){var mid,midItem,res,arrangedContent;if(low===high){return low}arrangedContent=get(this,"arrangedContent");mid=low+Math.floor((high-low)/2);midItem=arrangedContent.objectAt(mid);res=this.orderBy(midItem,item);if(res<0){return this._binarySearch(item,mid+1,high)}else if(res>0){return this._binarySearch(item,low,mid)}return mid}})});enifed("ember-runtime/mixins/target_action_support",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/mixin","ember-metal/computed","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var typeOf=__dependency4__.typeOf;var Mixin=__dependency5__.Mixin;var computed=__dependency6__.computed;var TargetActionSupport=Mixin.create({target:null,action:null,actionContext:null,targetObject:computed(function(){var target=get(this,"target");if(typeOf(target)==="string"){var value=get(this,target);if(value===undefined){value=get(Ember.lookup,target)}return value}else{return target}}).property("target"),actionContextObject:computed(function(){var actionContext=get(this,"actionContext");if(typeOf(actionContext)==="string"){var value=get(this,actionContext);if(value===undefined){value=get(Ember.lookup,actionContext)}return value}else{return actionContext}}).property("actionContext"),triggerAction:function(opts){opts=opts||{};var action=opts.action||get(this,"action");var target=opts.target||get(this,"targetObject");var actionContext=opts.actionContext;function args(options,actionName){var ret=[];if(actionName){ret.push(actionName)}return ret.concat(options)}if(typeof actionContext==="undefined"){actionContext=get(this,"actionContextObject")||this}if(target&&action){var ret;if(target.send){ret=target.send.apply(target,args(actionContext,action))}else{ret=target[action].apply(target,args(actionContext))}if(ret!==false)ret=true;return ret}else{return false}}});__exports__["default"]=TargetActionSupport});enifed("ember-runtime/system/application",["ember-runtime/system/namespace","exports"],function(__dependency1__,__exports__){"use strict";var Namespace=__dependency1__["default"];__exports__["default"]=Namespace.extend()});enifed("ember-runtime/system/array_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/property_events","ember-metal/error","ember-runtime/system/object","ember-runtime/mixins/mutable_array","ember-runtime/mixins/enumerable","ember-runtime/system/string","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var isArray=__dependency4__.isArray;var apply=__dependency4__.apply;var computed=__dependency5__.computed;var beforeObserver=__dependency6__.beforeObserver;var observer=__dependency6__.observer;var beginPropertyChanges=__dependency7__.beginPropertyChanges;var endPropertyChanges=__dependency7__.endPropertyChanges;var EmberError=__dependency8__["default"];var EmberObject=__dependency9__["default"];var MutableArray=__dependency10__["default"];var Enumerable=__dependency11__["default"];var fmt=__dependency12__.fmt;var OUT_OF_RANGE_EXCEPTION="Index out of range";var EMPTY=[];var alias=computed.alias;var K=Ember.K;var ArrayProxy=EmberObject.extend(MutableArray,{content:null,arrangedContent:alias("content"),objectAtContent:function(idx){return get(this,"arrangedContent").objectAt(idx)},replaceContent:function(idx,amt,objects){get(this,"content").replace(idx,amt,objects)},_contentWillChange:beforeObserver("content",function(){this._teardownContent()}),_teardownContent:function(){var content=get(this,"content");if(content){content.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})}},contentArrayWillChange:K,contentArrayDidChange:K,_contentDidChange:observer("content",function(){var content=get(this,"content");this._setupContent()}),_setupContent:function(){var content=get(this,"content");if(content){content.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})}},_arrangedContentWillChange:beforeObserver("arrangedContent",function(){var arrangedContent=get(this,"arrangedContent");var len=arrangedContent?get(arrangedContent,"length"):0;this.arrangedContentArrayWillChange(this,0,len,undefined);this.arrangedContentWillChange(this);this._teardownArrangedContent(arrangedContent)}),_arrangedContentDidChange:observer("arrangedContent",function(){var arrangedContent=get(this,"arrangedContent");var len=arrangedContent?get(arrangedContent,"length"):0;this._setupArrangedContent();this.arrangedContentDidChange(this);this.arrangedContentArrayDidChange(this,0,undefined,len)}),_setupArrangedContent:function(){var arrangedContent=get(this,"arrangedContent");if(arrangedContent){arrangedContent.addArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})}},_teardownArrangedContent:function(){var arrangedContent=get(this,"arrangedContent");if(arrangedContent){arrangedContent.removeArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})}},arrangedContentWillChange:K,arrangedContentDidChange:K,objectAt:function(idx){return get(this,"content")&&this.objectAtContent(idx)},length:computed(function(){var arrangedContent=get(this,"arrangedContent");return arrangedContent?get(arrangedContent,"length"):0}),_replace:function(idx,amt,objects){var content=get(this,"content");if(content)this.replaceContent(idx,amt,objects);return this},replace:function(){if(get(this,"arrangedContent")===get(this,"content")){apply(this,this._replace,arguments)}else{throw new EmberError("Using replace on an arranged ArrayProxy is not allowed.")}},_insertAt:function(idx,object){if(idx>get(this,"content.length"))throw new EmberError(OUT_OF_RANGE_EXCEPTION);this._replace(idx,0,[object]);return this},insertAt:function(idx,object){if(get(this,"arrangedContent")===get(this,"content")){return this._insertAt(idx,object)}else{throw new EmberError("Using insertAt on an arranged ArrayProxy is not allowed.")}},removeAt:function(start,len){if("number"===typeof start){var content=get(this,"content");var arrangedContent=get(this,"arrangedContent");var indices=[];var i;if(start<0||start>=get(this,"length")){throw new EmberError(OUT_OF_RANGE_EXCEPTION)}if(len===undefined)len=1;for(i=start;i<start+len;i++){indices.push(content.indexOf(arrangedContent.objectAt(i)))}indices.sort(function(a,b){return b-a});beginPropertyChanges();for(i=0;i<indices.length;i++){this._replace(indices[i],1,EMPTY)}endPropertyChanges()}return this},pushObject:function(obj){this._insertAt(get(this,"content.length"),obj);return obj},pushObjects:function(objects){if(!(Enumerable.detect(objects)||isArray(objects))){throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects")}this._replace(get(this,"length"),0,objects);return this},setObjects:function(objects){if(objects.length===0)return this.clear();var len=get(this,"length");this._replace(0,len,objects);return this},unshiftObject:function(obj){this._insertAt(0,obj);return obj},unshiftObjects:function(objects){this._replace(0,0,objects);return this},slice:function(){var arr=this.toArray();return arr.slice.apply(arr,arguments)},arrangedContentArrayWillChange:function(item,idx,removedCnt,addedCnt){this.arrayContentWillChange(idx,removedCnt,addedCnt)},arrangedContentArrayDidChange:function(item,idx,removedCnt,addedCnt){this.arrayContentDidChange(idx,removedCnt,addedCnt)},init:function(){this._super();this._setupContent();this._setupArrangedContent()},willDestroy:function(){this._teardownArrangedContent();this._teardownContent()}});__exports__["default"]=ArrayProxy});enifed("ember-runtime/system/container",["ember-metal/property_set","exports"],function(__dependency1__,__exports__){"use strict";var set=__dependency1__["default"];var Container=requireModule("container")["default"];Container.set=set;__exports__["default"]=Container});enifed("ember-runtime/system/core_object",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/platform","ember-metal/watching","ember-metal/chains","ember-metal/events","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/error","ember-metal/keys","ember-runtime/mixins/action_handler","ember-metal/properties","ember-metal/binding","ember-metal/computed","ember-metal/run_loop","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__exports__){var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var guidFor=__dependency4__.guidFor;var apply=__dependency4__.apply;var o_create=__dependency5__.create;var generateGuid=__dependency4__.generateGuid;var GUID_KEY=__dependency4__.GUID_KEY;var meta=__dependency4__.meta;var makeArray=__dependency4__.makeArray;var rewatch=__dependency6__.rewatch;var finishChains=__dependency7__.finishChains;var sendEvent=__dependency8__.sendEvent;var IS_BINDING=__dependency9__.IS_BINDING;var Mixin=__dependency9__.Mixin;var required=__dependency9__.required;var indexOf=__dependency10__.indexOf;var EmberError=__dependency11__["default"];var o_defineProperty=__dependency5__.defineProperty;var keys=__dependency12__["default"];var ActionHandler=__dependency13__["default"];var defineProperty=__dependency14__.defineProperty;var Binding=__dependency15__.Binding;var ComputedProperty=__dependency16__.ComputedProperty;var run=__dependency17__["default"];var destroy=__dependency6__.destroy;var K=__dependency1__.K;var hasPropertyAccessors=__dependency5__.hasPropertyAccessors;var schedule=run.schedule;var applyMixin=Mixin._apply;var finishPartial=Mixin.finishPartial;var reopen=Mixin.prototype.reopen;var hasCachedComputedProperties=false;var undefinedDescriptor={configurable:true,writable:true,enumerable:false,value:undefined};var nullDescriptor={configurable:true,writable:true,enumerable:false,value:null};function makeCtor(){var wasApplied=false;var initMixins,initProperties;var Class=function(){if(!wasApplied){Class.proto()}o_defineProperty(this,GUID_KEY,nullDescriptor);o_defineProperty(this,"__nextSuper",undefinedDescriptor);var m=meta(this);var proto=m.proto;m.proto=this;if(initMixins){var mixins=initMixins;initMixins=null;apply(this,this.reopen,mixins)}if(initProperties){var props=initProperties;initProperties=null;var concatenatedProperties=this.concatenatedProperties;for(var i=0,l=props.length;i<l;i++){var properties=props[i];if(typeof properties!=="object"&&properties!==undefined){throw new EmberError("Ember.Object.create only accepts objects.")}if(!properties){continue}var keyNames=keys(properties);for(var j=0,ll=keyNames.length;j<ll;j++){var keyName=keyNames[j];if(!properties.hasOwnProperty(keyName)){continue}var value=properties[keyName];if(IS_BINDING.test(keyName)){var bindings=m.bindings;if(!bindings){bindings=m.bindings={}}else if(!m.hasOwnProperty("bindings")){bindings=m.bindings=o_create(m.bindings)}bindings[keyName]=value}var desc=m.descs[keyName];if(concatenatedProperties&&indexOf(concatenatedProperties,keyName)>=0){var baseValue=this[keyName];if(baseValue){if("function"===typeof baseValue.concat){value=baseValue.concat(value)}else{value=makeArray(baseValue).concat(value)}}else{value=makeArray(value)}}if(desc){desc.set(this,keyName,value)}else{if(typeof this.setUnknownProperty==="function"&&!(keyName in this)){this.setUnknownProperty(keyName,value)}else{this[keyName]=value}}}}}finishPartial(this,m);var length=arguments.length;var args=new Array(length);for(var x=0;x<length;x++){args[x]=arguments[x]}apply(this,this.init,args);m.proto=proto;finishChains(this);sendEvent(this,"init")};Class.toString=Mixin.prototype.toString;Class.willReopen=function(){if(wasApplied){Class.PrototypeMixin=Mixin.create(Class.PrototypeMixin)}wasApplied=false};Class._initMixins=function(args){initMixins=args};Class._initProperties=function(args){initProperties=args};Class.proto=function(){var superclass=Class.superclass;if(superclass){superclass.proto()}if(!wasApplied){wasApplied=true;Class.PrototypeMixin.applyPartial(Class.prototype);rewatch(Class.prototype)}return this.prototype};return Class}var CoreObject=makeCtor();CoreObject.toString=function(){return"Ember.CoreObject"};CoreObject.PrototypeMixin=Mixin.create({reopen:function(){var length=arguments.length;var args=new Array(length);for(var i=0;i<length;i++){args[i]=arguments[i]}applyMixin(this,args,true);return this},init:function(){},concatenatedProperties:null,isDestroyed:false,isDestroying:false,destroy:function(){if(this.isDestroying){return}this.isDestroying=true;schedule("actions",this,this.willDestroy);schedule("destroy",this,this._scheduledDestroy);return this},willDestroy:K,_scheduledDestroy:function(){if(this.isDestroyed){return}destroy(this);this.isDestroyed=true},bind:function(to,from){if(!(from instanceof Binding)){from=Binding.from(from)}from.to(to).connect(this);return from},toString:function toString(){var hasToStringExtension=typeof this.toStringExtension==="function";var extension=hasToStringExtension?":"+this.toStringExtension():"";var ret="<"+this.constructor.toString()+":"+guidFor(this)+extension+">";this.toString=makeToString(ret);return ret}});CoreObject.PrototypeMixin.ownerConstructor=CoreObject;function makeToString(ret){return function(){return ret}}if(Ember.config.overridePrototypeMixin){Ember.config.overridePrototypeMixin(CoreObject.PrototypeMixin)}CoreObject.__super__=null;var ClassMixin=Mixin.create({ClassMixin:required(),PrototypeMixin:required(),isClass:true,isMethod:false,extend:function extend(){var Class=makeCtor();var proto;Class.ClassMixin=Mixin.create(this.ClassMixin);Class.PrototypeMixin=Mixin.create(this.PrototypeMixin);Class.ClassMixin.ownerConstructor=Class;Class.PrototypeMixin.ownerConstructor=Class;reopen.apply(Class.PrototypeMixin,arguments);Class.superclass=this;Class.__super__=this.prototype;proto=Class.prototype=o_create(this.prototype);proto.constructor=Class;generateGuid(proto);meta(proto).proto=proto;Class.ClassMixin.apply(Class);return Class},createWithMixins:function(){var C=this;var l=arguments.length;if(l>0){var args=new Array(l);for(var i=0;i<l;i++){args[i]=arguments[i]}this._initMixins(args)}return new C},create:function(){var C=this;var l=arguments.length;if(l>0){var args=new Array(l);for(var i=0;i<l;i++){args[i]=arguments[i]}this._initProperties(args)}return new C},reopen:function(){this.willReopen();var l=arguments.length;var args=new Array(l);if(l>0){for(var i=0;i<l;i++){args[i]=arguments[i]}}apply(this.PrototypeMixin,reopen,args);return this},reopenClass:function(){var l=arguments.length;var args=new Array(l);if(l>0){for(var i=0;i<l;i++){args[i]=arguments[i]}}apply(this.ClassMixin,reopen,args);applyMixin(this,arguments,false);return this},detect:function(obj){if("function"!==typeof obj){return false}while(obj){if(obj===this){return true}obj=obj.superclass}return false},detectInstance:function(obj){return obj instanceof this},metaForProperty:function(key){var meta=this.proto()["__ember_meta__"];var desc=meta&&meta.descs[key];return desc._meta||{}},_computedProperties:Ember.computed(function(){hasCachedComputedProperties=true;var proto=this.proto();var descs=meta(proto).descs;var property;var properties=[];for(var name in descs){property=descs[name];if(property instanceof ComputedProperty){properties.push({name:name,meta:property._meta})}}return properties}).readOnly(),eachComputedProperty:function(callback,binding){var property,name;var empty={};var properties=get(this,"_computedProperties");for(var i=0,length=properties.length;i<length;i++){property=properties[i];name=property.name;callback.call(binding||this,property.name,property.meta||empty)}}});ClassMixin.ownerConstructor=CoreObject;if(Ember.config.overrideClassMixin){Ember.config.overrideClassMixin(ClassMixin)}CoreObject.ClassMixin=ClassMixin;ClassMixin.apply(CoreObject);CoreObject.reopen({didDefineProperty:function(proto,key,value){if(hasCachedComputedProperties===false){return}if(value instanceof Ember.ComputedProperty){var cache=Ember.meta(this.constructor).cache;if(cache._computedProperties!==undefined){cache._computedProperties=undefined}}}});__exports__["default"]=CoreObject});enifed("ember-runtime/system/deferred",["ember-metal/core","ember-runtime/mixins/deferred","ember-metal/property_get","ember-runtime/system/object","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var Ember=__dependency1__["default"];var DeferredMixin=__dependency2__["default"];var get=__dependency3__.get;var EmberObject=__dependency4__["default"];var Deferred=EmberObject.extend(DeferredMixin,{init:function(){this._super()
}});Deferred.reopenClass({promise:function(callback,binding){var deferred=Deferred.create();callback.call(binding,deferred);return deferred}});__exports__["default"]=Deferred});enifed("ember-runtime/system/each_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/enumerable_utils","ember-metal/array","ember-runtime/mixins/array","ember-runtime/system/object","ember-metal/computed","ember-metal/observer","ember-metal/events","ember-metal/properties","ember-metal/property_events","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var guidFor=__dependency4__.guidFor;var forEach=__dependency5__.forEach;var indexOf=__dependency6__.indexOf;var EmberArray=__dependency7__["default"];var EmberObject=__dependency8__["default"];var computed=__dependency9__.computed;var addObserver=__dependency10__.addObserver;var addBeforeObserver=__dependency10__.addBeforeObserver;var removeBeforeObserver=__dependency10__.removeBeforeObserver;var removeObserver=__dependency10__.removeObserver;var typeOf=__dependency4__.typeOf;var watchedEvents=__dependency11__.watchedEvents;var defineProperty=__dependency12__.defineProperty;var beginPropertyChanges=__dependency13__.beginPropertyChanges;var propertyDidChange=__dependency13__.propertyDidChange;var propertyWillChange=__dependency13__.propertyWillChange;var endPropertyChanges=__dependency13__.endPropertyChanges;var changeProperties=__dependency13__.changeProperties;var EachArray=EmberObject.extend(EmberArray,{init:function(content,keyName,owner){this._super();this._keyName=keyName;this._owner=owner;this._content=content},objectAt:function(idx){var item=this._content.objectAt(idx);return item&&get(item,this._keyName)},length:computed(function(){var content=this._content;return content?get(content,"length"):0})});var IS_OBSERVER=/^.+:(before|change)$/;function addObserverForContentKey(content,keyName,proxy,idx,loc){var objects=proxy._objects;var guid;if(!objects)objects=proxy._objects={};while(--loc>=idx){var item=content.objectAt(loc);if(item){addBeforeObserver(item,keyName,proxy,"contentKeyWillChange");addObserver(item,keyName,proxy,"contentKeyDidChange");guid=guidFor(item);if(!objects[guid])objects[guid]=[];objects[guid].push(loc)}}}function removeObserverForContentKey(content,keyName,proxy,idx,loc){var objects=proxy._objects;if(!objects)objects=proxy._objects={};var indicies,guid;while(--loc>=idx){var item=content.objectAt(loc);if(item){removeBeforeObserver(item,keyName,proxy,"contentKeyWillChange");removeObserver(item,keyName,proxy,"contentKeyDidChange");guid=guidFor(item);indicies=objects[guid];indicies[indexOf.call(indicies,loc)]=null}}}var EachProxy=EmberObject.extend({init:function(content){this._super();this._content=content;content.addArrayObserver(this);forEach(watchedEvents(this),function(eventName){this.didAddListener(eventName)},this)},unknownProperty:function(keyName,value){var ret;ret=new EachArray(this._content,keyName,this);defineProperty(this,keyName,null,ret);this.beginObservingContentKey(keyName);return ret},arrayWillChange:function(content,idx,removedCnt,addedCnt){var keys=this._keys;var key,lim;lim=removedCnt>0?idx+removedCnt:-1;beginPropertyChanges(this);for(key in keys){if(!keys.hasOwnProperty(key)){continue}if(lim>0){removeObserverForContentKey(content,key,this,idx,lim)}propertyWillChange(this,key)}propertyWillChange(this._content,"@each");endPropertyChanges(this)},arrayDidChange:function(content,idx,removedCnt,addedCnt){var keys=this._keys;var lim;lim=addedCnt>0?idx+addedCnt:-1;changeProperties(function(){for(var key in keys){if(!keys.hasOwnProperty(key)){continue}if(lim>0){addObserverForContentKey(content,key,this,idx,lim)}propertyDidChange(this,key)}propertyDidChange(this._content,"@each")},this)},didAddListener:function(eventName){if(IS_OBSERVER.test(eventName)){this.beginObservingContentKey(eventName.slice(0,-7))}},didRemoveListener:function(eventName){if(IS_OBSERVER.test(eventName)){this.stopObservingContentKey(eventName.slice(0,-7))}},beginObservingContentKey:function(keyName){var keys=this._keys;if(!keys)keys=this._keys={};if(!keys[keyName]){keys[keyName]=1;var content=this._content;var len=get(content,"length");addObserverForContentKey(content,keyName,this,0,len)}else{keys[keyName]++}},stopObservingContentKey:function(keyName){var keys=this._keys;if(keys&&keys[keyName]>0&&--keys[keyName]<=0){var content=this._content;var len=get(content,"length");removeObserverForContentKey(content,keyName,this,0,len)}},contentKeyWillChange:function(obj,keyName){propertyWillChange(this,keyName)},contentKeyDidChange:function(obj,keyName){propertyDidChange(this,keyName)}});__exports__.EachArray=EachArray;__exports__.EachProxy=EachProxy});enifed("ember-runtime/system/lazy_load",["ember-metal/core","ember-metal/array","ember-runtime/system/native_array","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var forEach=__dependency2__.forEach;var loadHooks=Ember.ENV.EMBER_LOAD_HOOKS||{};var loaded={};function onLoad(name,callback){var object;loadHooks[name]=loadHooks[name]||Ember.A();loadHooks[name].pushObject(callback);if(object=loaded[name]){callback(object)}}__exports__.onLoad=onLoad;function runLoadHooks(name,object){loaded[name]=object;if(typeof window==="object"&&typeof window.dispatchEvent==="function"&&typeof CustomEvent==="function"){var event=new CustomEvent(name,{detail:object,name:name});window.dispatchEvent(event)}if(loadHooks[name]){forEach.call(loadHooks[name],function(callback){callback(object)})}}__exports__.runLoadHooks=runLoadHooks});enifed("ember-runtime/system/namespace",["ember-metal/core","ember-metal/property_get","ember-metal/array","ember-metal/utils","ember-metal/mixin","ember-runtime/system/object","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var indexOf=__dependency3__.indexOf;var GUID_KEY=__dependency4__.GUID_KEY;var guidFor=__dependency4__.guidFor;var Mixin=__dependency5__.Mixin;var EmberObject=__dependency6__["default"];var Namespace=EmberObject.extend({isNamespace:true,init:function(){Namespace.NAMESPACES.push(this);Namespace.PROCESSED=false},toString:function(){var name=get(this,"name")||get(this,"modulePrefix");if(name){return name}findNamespaces();return this[NAME_KEY]},nameClasses:function(){processNamespace([this.toString()],this,{})},destroy:function(){var namespaces=Namespace.NAMESPACES;var toString=this.toString();if(toString){Ember.lookup[toString]=undefined;delete Namespace.NAMESPACES_BY_ID[toString]}namespaces.splice(indexOf.call(namespaces,this),1);this._super()}});Namespace.reopenClass({NAMESPACES:[Ember],NAMESPACES_BY_ID:{},PROCESSED:false,processAll:processAllNamespaces,byName:function(name){if(!Ember.BOOTED){processAllNamespaces()}return NAMESPACES_BY_ID[name]}});var NAMESPACES_BY_ID=Namespace.NAMESPACES_BY_ID;var hasOwnProp={}.hasOwnProperty;function processNamespace(paths,root,seen){var idx=paths.length;NAMESPACES_BY_ID[paths.join(".")]=root;for(var key in root){if(!hasOwnProp.call(root,key)){continue}var obj=root[key];paths[idx]=key;if(obj&&obj.toString===classToString){obj.toString=makeToString(paths.join("."));obj[NAME_KEY]=paths.join(".")}else if(obj&&obj.isNamespace){if(seen[guidFor(obj)]){continue}seen[guidFor(obj)]=true;processNamespace(paths,obj,seen)}}paths.length=idx}var STARTS_WITH_UPPERCASE=/^[A-Z]/;function tryIsNamespace(lookup,prop){try{var obj=lookup[prop];return obj&&obj.isNamespace&&obj}catch(e){}}function findNamespaces(){var lookup=Ember.lookup;var obj,isNamespace;if(Namespace.PROCESSED){return}for(var prop in lookup){if(!STARTS_WITH_UPPERCASE.test(prop)){continue}if(lookup.hasOwnProperty&&!lookup.hasOwnProperty(prop)){continue}obj=tryIsNamespace(lookup,prop);if(obj){obj[NAME_KEY]=prop}}}var NAME_KEY=Ember.NAME_KEY=GUID_KEY+"_name";function superClassString(mixin){var superclass=mixin.superclass;if(superclass){if(superclass[NAME_KEY]){return superclass[NAME_KEY]}else{return superClassString(superclass)}}else{return}}function classToString(){if(!Ember.BOOTED&&!this[NAME_KEY]){processAllNamespaces()}var ret;if(this[NAME_KEY]){ret=this[NAME_KEY]}else if(this._toString){ret=this._toString}else{var str=superClassString(this);if(str){ret="(subclass of "+str+")"}else{ret="(unknown mixin)"}this.toString=makeToString(ret)}return ret}function processAllNamespaces(){var unprocessedNamespaces=!Namespace.PROCESSED;var unprocessedMixins=Ember.anyUnprocessedMixins;if(unprocessedNamespaces){findNamespaces();Namespace.PROCESSED=true}if(unprocessedNamespaces||unprocessedMixins){var namespaces=Namespace.NAMESPACES;var namespace;for(var i=0,l=namespaces.length;i<l;i++){namespace=namespaces[i];processNamespace([namespace.toString()],namespace,{})}Ember.anyUnprocessedMixins=false}}function makeToString(ret){return function(){return ret}}Mixin.prototype.toString=classToString;__exports__["default"]=Namespace});enifed("ember-runtime/system/native_array",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-metal/mixin","ember-metal/array","ember-runtime/mixins/array","ember-runtime/mixins/mutable_array","ember-runtime/mixins/observable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-runtime/copy","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var replace=__dependency4__._replace;var forEach=__dependency4__.forEach;var Mixin=__dependency5__.Mixin;var indexOf=__dependency6__.indexOf;var lastIndexOf=__dependency6__.lastIndexOf;var EmberArray=__dependency7__["default"];var MutableArray=__dependency8__["default"];var Observable=__dependency9__["default"];var Copyable=__dependency10__["default"];var FROZEN_ERROR=__dependency11__.FROZEN_ERROR;var copy=__dependency12__["default"];var NativeArray=Mixin.create(MutableArray,Observable,Copyable,{get:function(key){if(key==="length")return this.length;else if("number"===typeof key)return this[key];else return this._super(key)},objectAt:function(idx){return this[idx]},replace:function(idx,amt,objects){if(this.isFrozen)throw FROZEN_ERROR;var len=objects?get(objects,"length"):0;this.arrayContentWillChange(idx,amt,len);if(len===0){this.splice(idx,amt)}else{replace(this,idx,amt,objects)}this.arrayContentDidChange(idx,amt,len);return this},unknownProperty:function(key,value){var ret;if(value!==undefined&&ret===undefined){ret=this[key]=value}return ret},indexOf:indexOf,lastIndexOf:lastIndexOf,copy:function(deep){if(deep){return this.map(function(item){return copy(item,true)})}return this.slice()}});var ignore=["length"];forEach(NativeArray.keys(),function(methodName){if(Array.prototype[methodName])ignore.push(methodName)});if(ignore.length>0){NativeArray=NativeArray.without.apply(NativeArray,ignore)}var A=function(arr){if(arr===undefined){arr=[]}return EmberArray.detect(arr)?arr:NativeArray.apply(arr)};NativeArray.activate=function(){NativeArray.apply(Array.prototype);A=function(arr){return arr||[]}};if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.Array){NativeArray.activate()}Ember.A=A;__exports__.A=A;__exports__.NativeArray=NativeArray;__exports__["default"]=NativeArray});enifed("ember-runtime/system/object",["ember-runtime/system/core_object","ember-runtime/mixins/observable","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var CoreObject=__dependency1__["default"];var Observable=__dependency2__["default"];var EmberObject=CoreObject.extend(Observable);EmberObject.toString=function(){return"Ember.Object"};__exports__["default"]=EmberObject});enifed("ember-runtime/system/object_proxy",["ember-runtime/system/object","ember-runtime/mixins/-proxy","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var EmberObject=__dependency1__["default"];var _ProxyMixin=__dependency2__["default"];__exports__["default"]=EmberObject.extend(_ProxyMixin)});enifed("ember-runtime/system/set",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/is_none","ember-runtime/system/string","ember-runtime/system/core_object","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-metal/error","ember-metal/property_events","ember-metal/mixin","ember-metal/computed","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var guidFor=__dependency4__.guidFor;var isNone=__dependency5__.isNone;var fmt=__dependency6__.fmt;var CoreObject=__dependency7__["default"];var MutableEnumerable=__dependency8__["default"];var Enumerable=__dependency9__["default"];var Copyable=__dependency10__["default"];var Freezable=__dependency11__.Freezable;var FROZEN_ERROR=__dependency11__.FROZEN_ERROR;var EmberError=__dependency12__["default"];var propertyWillChange=__dependency13__.propertyWillChange;var propertyDidChange=__dependency13__.propertyDidChange;var aliasMethod=__dependency14__.aliasMethod;var computed=__dependency15__.computed;__exports__["default"]=CoreObject.extend(MutableEnumerable,Copyable,Freezable,{length:0,clear:function(){if(this.isFrozen){throw new EmberError(FROZEN_ERROR)}var len=get(this,"length");if(len===0){return this}var guid;this.enumerableContentWillChange(len,0);propertyWillChange(this,"firstObject");propertyWillChange(this,"lastObject");for(var i=0;i<len;i++){guid=guidFor(this[i]);delete this[guid];delete this[i]}set(this,"length",0);propertyDidChange(this,"firstObject");propertyDidChange(this,"lastObject");this.enumerableContentDidChange(len,0);return this},isEqual:function(obj){if(!Enumerable.detect(obj))return false;var loc=get(this,"length");if(get(obj,"length")!==loc)return false;while(--loc>=0){if(!obj.contains(this[loc]))return false}return true},add:aliasMethod("addObject"),remove:aliasMethod("removeObject"),pop:function(){if(get(this,"isFrozen"))throw new EmberError(FROZEN_ERROR);var obj=this.length>0?this[this.length-1]:null;this.remove(obj);return obj},push:aliasMethod("addObject"),shift:aliasMethod("pop"),unshift:aliasMethod("push"),addEach:aliasMethod("addObjects"),removeEach:aliasMethod("removeObjects"),init:function(items){this._super();if(items)this.addObjects(items)},nextObject:function(idx){return this[idx]},firstObject:computed(function(){return this.length>0?this[0]:undefined}),lastObject:computed(function(){return this.length>0?this[this.length-1]:undefined}),addObject:function(obj){if(get(this,"isFrozen"))throw new EmberError(FROZEN_ERROR);if(isNone(obj))return this;var guid=guidFor(obj);var idx=this[guid];var len=get(this,"length");var added;if(idx>=0&&idx<len&&this[idx]===obj)return this;added=[obj];this.enumerableContentWillChange(null,added);propertyWillChange(this,"lastObject");len=get(this,"length");this[guid]=len;this[len]=obj;set(this,"length",len+1);propertyDidChange(this,"lastObject");this.enumerableContentDidChange(null,added);return this},removeObject:function(obj){if(get(this,"isFrozen"))throw new EmberError(FROZEN_ERROR);if(isNone(obj))return this;var guid=guidFor(obj);var idx=this[guid];var len=get(this,"length");var isFirst=idx===0;var isLast=idx===len-1;var last,removed;if(idx>=0&&idx<len&&this[idx]===obj){removed=[obj];this.enumerableContentWillChange(removed,null);if(isFirst){propertyWillChange(this,"firstObject")}if(isLast){propertyWillChange(this,"lastObject")}if(idx<len-1){last=this[len-1];this[idx]=last;this[guidFor(last)]=idx}delete this[guid];delete this[len-1];set(this,"length",len-1);if(isFirst){propertyDidChange(this,"firstObject")}if(isLast){propertyDidChange(this,"lastObject")}this.enumerableContentDidChange(removed,null)}return this},contains:function(obj){return this[guidFor(obj)]>=0},copy:function(){var C=this.constructor,ret=new C,loc=get(this,"length");set(ret,"length",loc);while(--loc>=0){ret[loc]=this[loc];ret[guidFor(this[loc])]=loc}return ret},toString:function(){var len=this.length,idx,array=[];for(idx=0;idx<len;idx++){array[idx]=this[idx]}return fmt("Ember.Set<%@>",[array.join(",")])}})});enifed("ember-runtime/system/string",["ember-metal/core","ember-metal/utils","ember-metal/cache","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var isArray=__dependency2__.isArray;var emberInspect=__dependency2__.inspect;var Cache=__dependency3__["default"];var STRING_DASHERIZE_REGEXP=/[ _]/g;var STRING_DASHERIZE_CACHE=new Cache(1e3,function(key){return decamelize(key).replace(STRING_DASHERIZE_REGEXP,"-")});var CAMELIZE_CACHE=new Cache(1e3,function(key){return key.replace(STRING_CAMELIZE_REGEXP,function(match,separator,chr){return chr?chr.toUpperCase():""}).replace(/^([A-Z])/,function(match,separator,chr){return match.toLowerCase()})});var CLASSIFY_CACHE=new Cache(1e3,function(str){var parts=str.split(".");var out=[];for(var i=0,l=parts.length;i<l;i++){var camelized=camelize(parts[i]);out.push(camelized.charAt(0).toUpperCase()+camelized.substr(1))}return out.join(".")});var UNDERSCORE_CACHE=new Cache(1e3,function(str){return str.replace(STRING_UNDERSCORE_REGEXP_1,"$1_$2").replace(STRING_UNDERSCORE_REGEXP_2,"_").toLowerCase()});var CAPITALIZE_CACHE=new Cache(1e3,function(str){return str.charAt(0).toUpperCase()+str.substr(1)});var DECAMELIZE_CACHE=new Cache(1e3,function(str){return str.replace(STRING_DECAMELIZE_REGEXP,"$1_$2").toLowerCase()});var STRING_DECAMELIZE_REGEXP=/([a-z\d])([A-Z])/g;var STRING_CAMELIZE_REGEXP=/(\-|_|\.|\s)+(.)?/g;var STRING_UNDERSCORE_REGEXP_1=/([a-z\d])([A-Z]+)/g;var STRING_UNDERSCORE_REGEXP_2=/\-|\s+/g;function fmt(str,formats){var cachedFormats=formats;if(!isArray(cachedFormats)||arguments.length>2){cachedFormats=new Array(arguments.length-1);for(var i=1,l=arguments.length;i<l;i++){cachedFormats[i-1]=arguments[i]}}var idx=0;return str.replace(/%@([0-9]+)?/g,function(s,argIndex){argIndex=argIndex?parseInt(argIndex,10)-1:idx++;s=cachedFormats[argIndex];return s===null?"(null)":s===undefined?"":emberInspect(s)})}function loc(str,formats){if(!isArray(formats)||arguments.length>2){formats=Array.prototype.slice.call(arguments,1)}str=Ember.STRINGS[str]||str;return fmt(str,formats)}function w(str){return str.split(/\s+/)}function decamelize(str){return DECAMELIZE_CACHE.get(str)}function dasherize(str){return STRING_DASHERIZE_CACHE.get(str)}function camelize(str){return CAMELIZE_CACHE.get(str)}function classify(str){return CLASSIFY_CACHE.get(str)}function underscore(str){return UNDERSCORE_CACHE.get(str)}function capitalize(str){return CAPITALIZE_CACHE.get(str)}Ember.STRINGS={};__exports__["default"]={fmt:fmt,loc:loc,w:w,decamelize:decamelize,dasherize:dasherize,camelize:camelize,classify:classify,underscore:underscore,capitalize:capitalize};__exports__.fmt=fmt;__exports__.loc=loc;__exports__.w=w;__exports__.decamelize=decamelize;__exports__.dasherize=dasherize;__exports__.camelize=camelize;__exports__.classify=classify;__exports__.underscore=underscore;__exports__.capitalize=capitalize});enifed("ember-runtime/system/subarray",["ember-metal/property_get","ember-metal/error","ember-metal/enumerable_utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var get=__dependency1__.get;var EmberError=__dependency2__["default"];var EnumerableUtils=__dependency3__["default"];var RETAIN="r";var FILTER="f";function Operation(type,count){this.type=type;this.count=count}__exports__["default"]=SubArray;function SubArray(length){if(arguments.length<1){length=0}if(length>0){this._operations=[new Operation(RETAIN,length)]}else{this._operations=[]}}SubArray.prototype={addItem:function(index,match){var returnValue=-1;var itemType=match?RETAIN:FILTER;var self=this;this._findOperation(index,function(operation,operationIndex,rangeStart,rangeEnd,seenInSubArray){var newOperation,splitOperation;if(itemType===operation.type){++operation.count}else if(index===rangeStart){self._operations.splice(operationIndex,0,new Operation(itemType,1))}else{newOperation=new Operation(itemType,1);splitOperation=new Operation(operation.type,rangeEnd-index+1);operation.count=index-rangeStart;self._operations.splice(operationIndex+1,0,newOperation,splitOperation)}if(match){if(operation.type===RETAIN){returnValue=seenInSubArray+(index-rangeStart)}else{returnValue=seenInSubArray}}self._composeAt(operationIndex)},function(seenInSubArray){self._operations.push(new Operation(itemType,1));if(match){returnValue=seenInSubArray}self._composeAt(self._operations.length-1)});return returnValue},removeItem:function(index){var returnValue=-1;var self=this;this._findOperation(index,function(operation,operationIndex,rangeStart,rangeEnd,seenInSubArray){if(operation.type===RETAIN){returnValue=seenInSubArray+(index-rangeStart)}if(operation.count>1){--operation.count}else{self._operations.splice(operationIndex,1);self._composeAt(operationIndex)}},function(){throw new EmberError("Can't remove an item that has never been added.")});return returnValue},_findOperation:function(index,foundCallback,notFoundCallback){var seenInSubArray=0;var operationIndex,len,operation,rangeStart,rangeEnd;for(operationIndex=rangeStart=0,len=this._operations.length;operationIndex<len;rangeStart=rangeEnd+1,++operationIndex){operation=this._operations[operationIndex];rangeEnd=rangeStart+operation.count-1;if(index>=rangeStart&&index<=rangeEnd){foundCallback(operation,operationIndex,rangeStart,rangeEnd,seenInSubArray);return}else if(operation.type===RETAIN){seenInSubArray+=operation.count}}notFoundCallback(seenInSubArray)},_composeAt:function(index){var op=this._operations[index];var otherOp;if(!op){return}if(index>0){otherOp=this._operations[index-1];if(otherOp.type===op.type){op.count+=otherOp.count;this._operations.splice(index-1,1);--index}}if(index<this._operations.length-1){otherOp=this._operations[index+1];if(otherOp.type===op.type){op.count+=otherOp.count;this._operations.splice(index+1,1)}}},toString:function(){var str="";EnumerableUtils.forEach(this._operations,function(operation){str+=" "+operation.type+":"+operation.count});return str.substring(1)}}});enifed("ember-runtime/system/tracked_array",["ember-metal/property_get","ember-metal/enumerable_utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var get=__dependency1__.get;var forEach=__dependency2__.forEach;var RETAIN="r";var INSERT="i";var DELETE="d";__exports__["default"]=TrackedArray;function TrackedArray(items){if(arguments.length<1){items=[]}var length=get(items,"length");if(length){this._operations=[new ArrayOperation(RETAIN,length,items)]}else{this._operations=[]}}TrackedArray.RETAIN=RETAIN;TrackedArray.INSERT=INSERT;TrackedArray.DELETE=DELETE;TrackedArray.prototype={addItems:function(index,newItems){var count=get(newItems,"length");if(count<1){return}var match=this._findArrayOperation(index);var arrayOperation=match.operation;var arrayOperationIndex=match.index;var arrayOperationRangeStart=match.rangeStart;var composeIndex,splitIndex,splitItems,splitArrayOperation,newArrayOperation;newArrayOperation=new ArrayOperation(INSERT,count,newItems);if(arrayOperation){if(!match.split){this._operations.splice(arrayOperationIndex,0,newArrayOperation);composeIndex=arrayOperationIndex}else{this._split(arrayOperationIndex,index-arrayOperationRangeStart,newArrayOperation);composeIndex=arrayOperationIndex+1}}else{this._operations.push(newArrayOperation);composeIndex=arrayOperationIndex}this._composeInsert(composeIndex)},removeItems:function(index,count){if(count<1){return}var match=this._findArrayOperation(index);var arrayOperation=match.operation;var arrayOperationIndex=match.index;var arrayOperationRangeStart=match.rangeStart;var newArrayOperation,composeIndex;newArrayOperation=new ArrayOperation(DELETE,count);if(!match.split){this._operations.splice(arrayOperationIndex,0,newArrayOperation);composeIndex=arrayOperationIndex}else{this._split(arrayOperationIndex,index-arrayOperationRangeStart,newArrayOperation);composeIndex=arrayOperationIndex+1}return this._composeDelete(composeIndex)},apply:function(callback){var items=[];var offset=0;forEach(this._operations,function(arrayOperation,operationIndex){callback(arrayOperation.items,offset,arrayOperation.type,operationIndex);if(arrayOperation.type!==DELETE){offset+=arrayOperation.count;items=items.concat(arrayOperation.items)}});this._operations=[new ArrayOperation(RETAIN,items.length,items)]},_findArrayOperation:function(index){var split=false;var arrayOperationIndex,arrayOperation,arrayOperationRangeStart,arrayOperationRangeEnd,len;for(arrayOperationIndex=arrayOperationRangeStart=0,len=this._operations.length;arrayOperationIndex<len;++arrayOperationIndex){arrayOperation=this._operations[arrayOperationIndex];if(arrayOperation.type===DELETE){continue}arrayOperationRangeEnd=arrayOperationRangeStart+arrayOperation.count-1;if(index===arrayOperationRangeStart){break}else if(index>arrayOperationRangeStart&&index<=arrayOperationRangeEnd){split=true;break}else{arrayOperationRangeStart=arrayOperationRangeEnd+1}}return new ArrayOperationMatch(arrayOperation,arrayOperationIndex,split,arrayOperationRangeStart)},_split:function(arrayOperationIndex,splitIndex,newArrayOperation){var arrayOperation=this._operations[arrayOperationIndex];var splitItems=arrayOperation.items.slice(splitIndex);var splitArrayOperation=new ArrayOperation(arrayOperation.type,splitItems.length,splitItems);arrayOperation.count=splitIndex;arrayOperation.items=arrayOperation.items.slice(0,splitIndex);this._operations.splice(arrayOperationIndex+1,0,newArrayOperation,splitArrayOperation)},_composeInsert:function(index){var newArrayOperation=this._operations[index];var leftArrayOperation=this._operations[index-1];var rightArrayOperation=this._operations[index+1];var leftOp=leftArrayOperation&&leftArrayOperation.type;var rightOp=rightArrayOperation&&rightArrayOperation.type;if(leftOp===INSERT){leftArrayOperation.count+=newArrayOperation.count;leftArrayOperation.items=leftArrayOperation.items.concat(newArrayOperation.items);if(rightOp===INSERT){leftArrayOperation.count+=rightArrayOperation.count;leftArrayOperation.items=leftArrayOperation.items.concat(rightArrayOperation.items);this._operations.splice(index,2)}else{this._operations.splice(index,1)}}else if(rightOp===INSERT){newArrayOperation.count+=rightArrayOperation.count;newArrayOperation.items=newArrayOperation.items.concat(rightArrayOperation.items);this._operations.splice(index+1,1)}},_composeDelete:function(index){var arrayOperation=this._operations[index];var deletesToGo=arrayOperation.count;var leftArrayOperation=this._operations[index-1];var leftOp=leftArrayOperation&&leftArrayOperation.type;var nextArrayOperation;var nextOp;var nextCount;var removeNewAndNextOp=false;var removedItems=[];if(leftOp===DELETE){arrayOperation=leftArrayOperation;index-=1}for(var i=index+1;deletesToGo>0;++i){nextArrayOperation=this._operations[i];nextOp=nextArrayOperation.type;nextCount=nextArrayOperation.count;if(nextOp===DELETE){arrayOperation.count+=nextCount;continue}if(nextCount>deletesToGo){removedItems=removedItems.concat(nextArrayOperation.items.splice(0,deletesToGo));nextArrayOperation.count-=deletesToGo;i-=1;nextCount=deletesToGo;deletesToGo=0}else{if(nextCount===deletesToGo){removeNewAndNextOp=true}removedItems=removedItems.concat(nextArrayOperation.items);deletesToGo-=nextCount}if(nextOp===INSERT){arrayOperation.count-=nextCount}}if(arrayOperation.count>0){this._operations.splice(index+1,i-1-index)}else{this._operations.splice(index,removeNewAndNextOp?2:1)}return removedItems},toString:function(){var str="";forEach(this._operations,function(operation){str+=" "+operation.type+":"+operation.count});return str.substring(1)}};function ArrayOperation(operation,count,items){this.type=operation;this.count=count;this.items=items}function ArrayOperationMatch(operation,index,split,rangeStart){this.operation=operation;this.index=index;this.split=split;this.rangeStart=rangeStart}});enifed("ember-views",["ember-runtime","ember-views/system/jquery","ember-views/system/utils","ember-views/system/render_buffer","ember-views/system/ext","ember-views/views/states","ember-views/views/core_view","ember-views/views/view","ember-views/views/container_view","ember-views/views/collection_view","ember-views/views/component","ember-views/system/event_dispatcher","ember-views/mixins/view_target_action_support","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__exports__){"use strict";var Ember=__dependency1__["default"];var jQuery=__dependency2__["default"];var isSimpleClick=__dependency3__.isSimpleClick;var RenderBuffer=__dependency4__["default"];var cloneStates=__dependency6__.cloneStates;var states=__dependency6__.states;var CoreView=__dependency7__["default"];var View=__dependency8__["default"];var ContainerView=__dependency9__["default"];var CollectionView=__dependency10__["default"];var Component=__dependency11__["default"];var EventDispatcher=__dependency12__["default"];var ViewTargetActionSupport=__dependency13__["default"];Ember.$=jQuery;Ember.ViewTargetActionSupport=ViewTargetActionSupport;Ember.RenderBuffer=RenderBuffer;var ViewUtils=Ember.ViewUtils={};ViewUtils.isSimpleClick=isSimpleClick;Ember.CoreView=CoreView;Ember.View=View;Ember.View.states=states;Ember.View.cloneStates=cloneStates;Ember.ContainerView=ContainerView;Ember.CollectionView=CollectionView;Ember.Component=Component;Ember.EventDispatcher=EventDispatcher;__exports__["default"]=Ember});enifed("ember-views/mixins/component_template_deprecation",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var Mixin=__dependency3__.Mixin;__exports__["default"]=Mixin.create({willMergeMixin:function(props){this._super.apply(this,arguments);var deprecatedProperty,replacementProperty;var layoutSpecified=props.layoutName||props.layout||get(this,"layoutName");if(props.templateName&&!layoutSpecified){deprecatedProperty="templateName";replacementProperty="layoutName";props.layoutName=props.templateName;delete props["templateName"]}if(props.template&&!layoutSpecified){deprecatedProperty="template";replacementProperty="layout";props.layout=props.template;delete props["template"]}if(deprecatedProperty){}}})});enifed("ember-views/mixins/view_target_action_support",["ember-metal/mixin","ember-runtime/mixins/target_action_support","ember-metal/computed","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Mixin=__dependency1__.Mixin;var TargetActionSupport=__dependency2__["default"];var computed=__dependency3__.computed;var alias=computed.alias;__exports__["default"]=Mixin.create(TargetActionSupport,{target:alias("controller"),actionContext:alias("context")})});enifed("ember-views/system/action_manager",["exports"],function(__exports__){"use strict";
function ActionManager(){}ActionManager.registeredActions={};__exports__["default"]=ActionManager});enifed("ember-views/system/event_dispatcher",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/object","ember-views/system/jquery","ember-views/system/action_manager","ember-views/views/view","ember-metal/merge","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var isNone=__dependency4__.isNone;var run=__dependency5__["default"];var typeOf=__dependency6__.typeOf;var fmt=__dependency7__.fmt;var EmberObject=__dependency8__["default"];var jQuery=__dependency9__["default"];var ActionManager=__dependency10__["default"];var View=__dependency11__["default"];var merge=__dependency12__["default"];__exports__["default"]=EmberObject.extend({events:{touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"},rootElement:"body",canDispatchToEventManager:true,setup:function(addedEvents,rootElement){var event,events=get(this,"events");merge(events,addedEvents||{});if(!isNone(rootElement)){set(this,"rootElement",rootElement)}rootElement=jQuery(get(this,"rootElement"));rootElement.addClass("ember-application");for(event in events){if(events.hasOwnProperty(event)){this.setupHandler(rootElement,event,events[event])}}},setupHandler:function(rootElement,event,eventName){var self=this;rootElement.on(event+".ember",".ember-view",function(evt,triggeringManager){var view=View.views[this.id];var result=true;var manager=self.canDispatchToEventManager?self._findNearestEventManager(view,eventName):null;if(manager&&manager!==triggeringManager){result=self._dispatchEvent(manager,evt,eventName,view)}else if(view){result=self._bubbleEvent(view,evt,eventName)}return result});rootElement.on(event+".ember","[data-ember-action]",function(evt){var actionId=jQuery(evt.currentTarget).attr("data-ember-action");var action=ActionManager.registeredActions[actionId];if(action&&action.eventName===eventName){return action.handler(evt)}})},_findNearestEventManager:function(view,eventName){var manager=null;while(view){manager=get(view,"eventManager");if(manager&&manager[eventName]){break}view=get(view,"parentView")}return manager},_dispatchEvent:function(object,evt,eventName,view){var result=true;var handler=object[eventName];if(typeOf(handler)==="function"){result=run(object,handler,evt,view);evt.stopPropagation()}else{result=this._bubbleEvent(view,evt,eventName)}return result},_bubbleEvent:function(view,evt,eventName){return run(view,view.handleEvent,eventName,evt)},destroy:function(){var rootElement=get(this,"rootElement");jQuery(rootElement).off(".ember","**").removeClass("ember-application");return this._super()},toString:function(){return"(EventDispatcher)"}})});enifed("ember-views/system/ext",["ember-metal/run_loop"],function(__dependency1__){"use strict";var run=__dependency1__["default"];var queues=run.queues;run._addQueue("render","actions");run._addQueue("afterRender","render")});enifed("ember-views/system/jquery",["ember-metal/core","ember-runtime/system/string","ember-metal/enumerable_utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Ember=__dependency1__["default"];var w=__dependency2__.w;var forEach=__dependency3__.forEach;var jQuery=Ember.imports&&Ember.imports.jQuery||this&&this.jQuery;if(!jQuery&&typeof eriuqer==="function"){jQuery=eriuqer("jquery")}if(jQuery){var dragEvents=w("dragstart drag dragenter dragleave dragover drop dragend");forEach(dragEvents,function(eventName){jQuery.event.fixHooks[eventName]={props:["dataTransfer"]}})}__exports__["default"]=jQuery});enifed("ember-views/system/render_buffer",["ember-views/system/jquery","morph","ember-metal/core","ember-metal/platform","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var jQuery=__dependency1__["default"];var DOMHelper=__dependency2__.DOMHelper;var Ember=__dependency3__["default"];var create=__dependency4__.create;var omittedStartTagChildren={tr:document.createElement("tbody"),col:document.createElement("colgroup")};var omittedStartTagChildTest=/(?:<script)*.*?<([\w:]+)/i;function detectOmittedStartTag(string,contextualElement){if(contextualElement.tagName==="TABLE"){var omittedStartTagChildMatch=omittedStartTagChildTest.exec(string);if(omittedStartTagChildMatch){return omittedStartTagChildren[omittedStartTagChildMatch[1].toLowerCase()]}}}function ClassSet(){this.seen=create(null);this.list=[]}ClassSet.prototype={add:function(string){if(this.seen[string]===true){return}this.seen[string]=true;this.list.push(string)},toDOM:function(){return this.list.join(" ")}};var BAD_TAG_NAME_TEST_REGEXP=/[^a-zA-Z0-9\-]/;var BAD_TAG_NAME_REPLACE_REGEXP=/[^a-zA-Z0-9\-]/g;function stripTagName(tagName){if(!tagName){return tagName}if(!BAD_TAG_NAME_TEST_REGEXP.test(tagName)){return tagName}return tagName.replace(BAD_TAG_NAME_REPLACE_REGEXP,"")}var BAD_CHARS_REGEXP=/&(?!\w+;)|[<>"'`]/g;var POSSIBLE_CHARS_REGEXP=/[&<>"'`]/;function escapeAttribute(value){var escape={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var escapeChar=function(chr){return escape[chr]||"&amp;"};var string=value.toString();if(!POSSIBLE_CHARS_REGEXP.test(string)){return string}return string.replace(BAD_CHARS_REGEXP,escapeChar)}var canSetNameOnInputs=function(){var div=document.createElement("div");var el=document.createElement("input");el.setAttribute("name","foo");div.appendChild(el);return!!div.innerHTML.match("foo")}();__exports__["default"]=function renderBuffer(tagName,contextualElement){return new _RenderBuffer(tagName,contextualElement)};function _RenderBuffer(tagName,contextualElement){this.tagName=tagName;this._outerContextualElement=contextualElement;this.buffer=null;this.childViews=[];this.dom=new DOMHelper}_RenderBuffer.prototype={reset:function(tagName,contextualElement){this.tagName=tagName;this.buffer=null;this._element=null;this._outerContextualElement=contextualElement;this.elementClasses=null;this.elementId=null;this.elementAttributes=null;this.elementProperties=null;this.elementTag=null;this.elementStyle=null;this.childViews.length=0},_element:null,_outerContextualElement:null,elementClasses:null,classes:null,elementId:null,elementAttributes:null,elementProperties:null,elementTag:null,elementStyle:null,pushChildView:function(view){var index=this.childViews.length;this.childViews[index]=view;this.push("<script id='morph-"+index+"' type='text/x-placeholder'></script>")},hydrateMorphs:function(contextualElement){var childViews=this.childViews;var el=this._element;for(var i=0,l=childViews.length;i<l;i++){var childView=childViews[i];var ref=el.querySelector("#morph-"+i);var parent=ref.parentNode;childView._morph=this.dom.insertMorphBefore(parent,ref,parent.nodeType===1?parent:contextualElement);parent.removeChild(ref)}},push:function(content){if(this.buffer===null){this.buffer=""}this.buffer+=content;return this},addClass:function(className){this.elementClasses=this.elementClasses||new ClassSet;this.elementClasses.add(className);this.classes=this.elementClasses.list;return this},setClasses:function(classNames){this.elementClasses=null;var len=classNames.length;var i;for(i=0;i<len;i++){this.addClass(classNames[i])}},id:function(id){this.elementId=id;return this},attr:function(name,value){var attributes=this.elementAttributes=this.elementAttributes||{};if(arguments.length===1){return attributes[name]}else{attributes[name]=value}return this},removeAttr:function(name){var attributes=this.elementAttributes;if(attributes){delete attributes[name]}return this},prop:function(name,value){var properties=this.elementProperties=this.elementProperties||{};if(arguments.length===1){return properties[name]}else{properties[name]=value}return this},removeProp:function(name){var properties=this.elementProperties;if(properties){delete properties[name]}return this},style:function(name,value){this.elementStyle=this.elementStyle||{};this.elementStyle[name]=value;return this},generateElement:function(){var tagName=this.tagName;var id=this.elementId;var classes=this.classes;var attrs=this.elementAttributes;var props=this.elementProperties;var style=this.elementStyle;var styleBuffer="";var attr,prop,tagString;if(attrs&&attrs.name&&!canSetNameOnInputs){tagString="<"+stripTagName(tagName)+' name="'+escapeAttribute(attrs.name)+'">'}else{tagString=tagName}var element=this.dom.createElement(tagString,this.outerContextualElement());var $element=jQuery(element);if(id){this.dom.setAttribute(element,"id",id);this.elementId=null}if(classes){this.dom.setAttribute(element,"class",classes.join(" "));this.classes=null;this.elementClasses=null}if(style){for(prop in style){if(style.hasOwnProperty(prop)){styleBuffer+=prop+":"+style[prop]+";"}}this.dom.setAttribute(element,"style",styleBuffer);this.elementStyle=null}if(attrs){for(attr in attrs){if(attrs.hasOwnProperty(attr)){this.dom.setAttribute(element,attr,attrs[attr])}}this.elementAttributes=null}if(props){for(prop in props){if(props.hasOwnProperty(prop)){$element.prop(prop,props[prop])}}this.elementProperties=null}this._element=element},element:function(){var content=this.innerContent();if(content===null){return this._element}var contextualElement=this.innerContextualElement(content);this.dom.detectNamespace(contextualElement);if(!this._element){this._element=document.createDocumentFragment()}var nodes=this.dom.parseHTML(content,contextualElement);while(nodes[0]){this._element.appendChild(nodes[0])}this.hydrateMorphs(contextualElement);return this._element},string:function(){if(this._element){var thisElement=this.element();var outerHTML=thisElement.outerHTML;if(typeof outerHTML==="undefined"){return jQuery("<div/>").append(thisElement).html()}return outerHTML}else{return this.innerString()}},outerContextualElement:function(){if(!this._outerContextualElement){this.outerContextualElement=document.body}return this._outerContextualElement},innerContextualElement:function(html){var innerContextualElement;if(this._element&&this._element.nodeType===1){innerContextualElement=this._element}else{innerContextualElement=this.outerContextualElement()}var omittedStartTag;if(html){omittedStartTag=detectOmittedStartTag(html,innerContextualElement)}return omittedStartTag||innerContextualElement},innerString:function(){var content=this.innerContent();if(content&&!content.nodeType){return content}},innerContent:function(){return this.buffer}}});enifed("ember-views/system/renderer",["ember-metal/core","ember-metal-views/renderer","ember-metal/platform","ember-views/system/render_buffer","ember-metal/run_loop","ember-metal/property_set","ember-metal/instrumentation","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";var Ember=__dependency1__["default"];var Renderer=__dependency2__["default"];var create=__dependency3__.create;var renderBuffer=__dependency4__["default"];var run=__dependency5__["default"];var set=__dependency6__.set;var _instrumentStart=__dependency7__._instrumentStart;var subscribers=__dependency7__.subscribers;function EmberRenderer(){this.buffer=renderBuffer();Renderer.call(this)}EmberRenderer.prototype=create(Renderer.prototype);EmberRenderer.prototype.constructor=EmberRenderer;var BAD_TAG_NAME_TEST_REGEXP=/[^a-zA-Z0-9\-]/;var BAD_TAG_NAME_REPLACE_REGEXP=/[^a-zA-Z0-9\-]/g;function stripTagName(tagName){if(!tagName){return tagName}if(!BAD_TAG_NAME_TEST_REGEXP.test(tagName)){return tagName}return tagName.replace(BAD_TAG_NAME_REPLACE_REGEXP,"")}EmberRenderer.prototype.scheduleRender=function EmberRenderer_scheduleRender(ctx,fn){return run.scheduleOnce("render",ctx,fn)};EmberRenderer.prototype.cancelRender=function EmberRenderer_cancelRender(id){run.cancel(id)};EmberRenderer.prototype.createChildViewsMorph=function EmberRenderer_createChildViewsMorph(view,_element){if(view.createChildViewsMorph){return view.createChildViewsMorph(_element)}var element=_element;if(view.tagName===""){if(view._morph){view._childViewsMorph=view._morph}else{element=document.createDocumentFragment();view._childViewsMorph=this._dom.appendMorph(element)}}else{view._childViewsMorph=this._dom.createMorph(element,element.lastChild,null)}return element};EmberRenderer.prototype.createElement=function EmberRenderer_createElement(view,contextualElement){var tagName=view.tagName;var classNameBindings=view.classNameBindings;var taglessViewWithClassBindings=tagName===""&&classNameBindings.length>0;if(tagName===null||tagName===undefined){tagName="div"}var buffer=view.buffer=this.buffer;buffer.reset(tagName,contextualElement);if(view.beforeRender){view.beforeRender(buffer)}if(tagName!==""){if(view.applyAttributesToBuffer){view.applyAttributesToBuffer(buffer)}buffer.generateElement()}if(view.render){view.render(buffer)}if(view.afterRender){view.afterRender(buffer)}var element=buffer.element();if(view.isContainer){this.createChildViewsMorph(view,element)}view.buffer=null;if(element&&element.nodeType===1){set(view,"element",element)}return element};EmberRenderer.prototype.destroyView=function destroyView(view){view.removedFromDOM=true;view.destroy()};EmberRenderer.prototype.childViews=function childViews(view){return view._childViews};Renderer.prototype.willCreateElement=function(view){if(subscribers.length&&view.instrumentDetails){view._instrumentEnd=_instrumentStart("render."+view.instrumentName,function viewInstrumentDetails(){var details={};view.instrumentDetails(details);return details})}if(view._transitionTo){view._transitionTo("inBuffer")}};Renderer.prototype.didCreateElement=function(view){if(view._transitionTo){view._transitionTo("hasElement")}if(view._instrumentEnd){view._instrumentEnd()}};Renderer.prototype.willInsertElement=function(view){if(view.trigger){view.trigger("willInsertElement")}};Renderer.prototype.didInsertElement=function(view){if(view._transitionTo){view._transitionTo("inDOM")}if(view.trigger){view.trigger("didInsertElement")}};Renderer.prototype.willRemoveElement=function(view){};Renderer.prototype.willDestroyElement=function(view){if(view.trigger){view.trigger("willDestroyElement")}if(view.trigger){view.trigger("willClearRender")}};Renderer.prototype.didDestroyElement=function(view){set(view,"element",null);if(view._transitionTo){view._transitionTo("preRender")}};__exports__["default"]=EmberRenderer});enifed("ember-views/system/utils",["exports"],function(__exports__){"use strict";function isSimpleClick(event){var modifier=event.shiftKey||event.metaKey||event.altKey||event.ctrlKey;var secondaryClick=event.which>1;return!modifier&&!secondaryClick}__exports__.isSimpleClick=isSimpleClick});enifed("ember-views/views/collection_view",["ember-metal/core","ember-metal/platform","ember-metal/binding","ember-metal/merge","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-views/views/container_view","ember-views/views/core_view","ember-views/views/view","ember-metal/mixin","ember-handlebars/ext","ember-runtime/mixins/array","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__exports__){"use strict";var Ember=__dependency1__["default"];var create=__dependency2__.create;var isGlobalPath=__dependency3__.isGlobalPath;var merge=__dependency4__["default"];var get=__dependency5__.get;var set=__dependency6__.set;var fmt=__dependency7__.fmt;var ContainerView=__dependency8__["default"];var CoreView=__dependency9__["default"];var View=__dependency10__["default"];var observer=__dependency11__.observer;var beforeObserver=__dependency11__.beforeObserver;var handlebarsGetView=__dependency12__.handlebarsGetView;var EmberArray=__dependency13__["default"];var CollectionView=ContainerView.extend({content:null,emptyViewClass:View,emptyView:null,itemViewClass:View,init:function(){var ret=this._super();this._contentDidChange();return ret},_contentWillChange:beforeObserver("content",function(){var content=this.get("content");if(content){content.removeArrayObserver(this)}var len=content?get(content,"length"):0;this.arrayWillChange(content,0,len)}),_contentDidChange:observer("content",function(){var content=get(this,"content");if(content){this._assertArrayLike(content);content.addArrayObserver(this)}var len=content?get(content,"length"):0;this.arrayDidChange(content,0,null,len)}),_assertArrayLike:function(content){},destroy:function(){if(!this._super()){return}var content=get(this,"content");if(content){content.removeArrayObserver(this)}if(this._createdEmptyView){this._createdEmptyView.destroy()}return this},arrayWillChange:function(content,start,removedCount){var emptyView=get(this,"emptyView");if(emptyView&&emptyView instanceof View){emptyView.removeFromParent()}var childViews=this._childViews;var childView,idx;for(idx=start+removedCount-1;idx>=start;idx--){childView=childViews[idx];childView.destroy()}},arrayDidChange:function(content,start,removed,added){var addedViews=[];var view,item,idx,len,itemViewClass,emptyView;len=content?get(content,"length"):0;if(len){itemViewClass=get(this,"itemViewClass");itemViewClass=handlebarsGetView(content,itemViewClass,this.container);for(idx=start;idx<start+added;idx++){item=content.objectAt(idx);view=this.createChildView(itemViewClass,{content:item,contentIndex:idx});addedViews.push(view)}}else{emptyView=get(this,"emptyView");if(!emptyView){return}if("string"===typeof emptyView&&isGlobalPath(emptyView)){emptyView=get(emptyView)||emptyView}emptyView=this.createChildView(emptyView);addedViews.push(emptyView);set(this,"emptyView",emptyView);if(CoreView.detect(emptyView)){this._createdEmptyView=emptyView}}this.replace(start,0,addedViews)},createChildView:function(view,attrs){view=this._super(view,attrs);var itemTagName=get(view,"tagName");if(itemTagName===null||itemTagName===undefined){itemTagName=CollectionView.CONTAINER_MAP[get(this,"tagName")];set(view,"tagName",itemTagName)}return view}});CollectionView.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"};__exports__["default"]=CollectionView});enifed("ember-views/views/component",["ember-metal/core","ember-views/mixins/component_template_deprecation","ember-runtime/mixins/target_action_support","ember-views/views/view","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/computed","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var Ember=__dependency1__["default"];var ComponentTemplateDeprecation=__dependency2__["default"];var TargetActionSupport=__dependency3__["default"];var View=__dependency4__["default"];var get=__dependency5__.get;var set=__dependency6__.set;var isNone=__dependency7__.isNone;var computed=__dependency8__.computed;var a_slice=Array.prototype.slice;var Component=View.extend(TargetActionSupport,ComponentTemplateDeprecation,{instrumentName:"component",instrumentDisplay:computed(function(){if(this._debugContainerKey){return"{{"+this._debugContainerKey.split(":")[1]+"}}"}}),init:function(){this._super();set(this,"origContext",get(this,"context"));set(this,"context",this);set(this,"controller",this)},defaultLayout:function(context,options){Ember.Handlebars.helpers["yield"].call(context,options)},template:computed(function(key,value){if(value!==undefined){return value}var templateName=get(this,"templateName");var template=this.templateForName(templateName,"template");return template||get(this,"defaultTemplate")}).property("templateName"),templateName:null,cloneKeywords:function(){return{view:this,controller:this}},_yield:function(context,options){var view=options.data.view;var parentView=this._parentView;var template=get(this,"template");if(template){view.appendChild(View,{isVirtual:true,tagName:"",_contextView:parentView,template:template,context:options.data.insideGroup?get(this,"origContext"):get(parentView,"context"),controller:get(parentView,"controller"),templateData:{keywords:parentView.cloneKeywords(),insideGroup:options.data.insideGroup}})}},targetObject:computed(function(key){var parentView=get(this,"_parentView");return parentView?get(parentView,"controller"):null}).property("_parentView"),sendAction:function(action){var actionName;var contexts=a_slice.call(arguments,1);if(action===undefined){actionName=get(this,"action")}else{actionName=get(this,action)}if(actionName===undefined){return}this.triggerAction({action:actionName,actionContext:contexts})}});__exports__["default"]=Component});enifed("ember-views/views/container_view",["ember-metal/core","ember-metal/merge","ember-runtime/mixins/mutable_array","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/states","ember-metal/error","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/run_loop","ember-metal/properties","ember-views/system/render_buffer","ember-metal/mixin","ember-runtime/system/native_array","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__exports__){"use strict";var Ember=__dependency1__["default"];var merge=__dependency2__["default"];var MutableArray=__dependency3__["default"];var get=__dependency4__.get;var set=__dependency5__.set;var View=__dependency6__["default"];var cloneStates=__dependency7__.cloneStates;var EmberViewStates=__dependency7__.states;var EmberError=__dependency8__["default"];var forEach=__dependency9__.forEach;var computed=__dependency10__.computed;var run=__dependency11__["default"];var defineProperty=__dependency12__.defineProperty;var renderBuffer=__dependency13__["default"];var observer=__dependency14__.observer;var beforeObserver=__dependency14__.beforeObserver;var emberA=__dependency15__.A;var states=cloneStates(EmberViewStates);var ContainerView=View.extend(MutableArray,{isContainer:true,_states:states,willWatchProperty:function(prop){},init:function(){this._super();var childViews=get(this,"childViews");defineProperty(this,"childViews",View.childViewsProperty);var _childViews=this._childViews;forEach(childViews,function(viewName,idx){var view;if("string"===typeof viewName){view=get(this,viewName);view=this.createChildView(view);set(this,viewName,view)}else{view=this.createChildView(viewName)}_childViews[idx]=view},this);var currentView=get(this,"currentView");if(currentView){if(!_childViews.length){_childViews=this._childViews=this._childViews.slice()}_childViews.push(this.createChildView(currentView))}},replace:function(idx,removedCount,addedViews){var addedCount=addedViews?get(addedViews,"length"):0;var self=this;this.arrayContentWillChange(idx,removedCount,addedCount);this.childViewsWillChange(this._childViews,idx,removedCount);if(addedCount===0){this._childViews.splice(idx,removedCount)}else{var args=[idx,removedCount].concat(addedViews);if(addedViews.length&&!this._childViews.length){this._childViews=this._childViews.slice()}this._childViews.splice.apply(this._childViews,args)}this.arrayContentDidChange(idx,removedCount,addedCount);this.childViewsDidChange(this._childViews,idx,removedCount,addedCount);return this},objectAt:function(idx){return this._childViews[idx]},length:computed(function(){return this._childViews.length})["volatile"](),render:function(buffer){},instrumentName:"container",childViewsWillChange:function(views,start,removed){this.propertyWillChange("childViews");if(removed>0){var changedViews=views.slice(start,start+removed);this.currentState.childViewsWillChange(this,views,start,removed);this.initializeViews(changedViews,null,null)}},removeChild:function(child){this.removeObject(child);return this},childViewsDidChange:function(views,start,removed,added){if(added>0){var changedViews=views.slice(start,start+added);this.initializeViews(changedViews,this,get(this,"templateData"));this.currentState.childViewsDidChange(this,views,start,added)}this.propertyDidChange("childViews")},initializeViews:function(views,parentView,templateData){forEach(views,function(view){set(view,"_parentView",parentView);if(!view.container&&parentView){set(view,"container",parentView.container)}if(!get(view,"templateData")){set(view,"templateData",templateData)}})},currentView:null,_currentViewWillChange:beforeObserver("currentView",function(){var currentView=get(this,"currentView");if(currentView){currentView.destroy()}}),_currentViewDidChange:observer("currentView",function(){var currentView=get(this,"currentView");if(currentView){this.pushObject(currentView)}}),_ensureChildrenAreInDOM:function(){this.currentState.ensureChildrenAreInDOM(this)}});merge(states._default,{childViewsWillChange:Ember.K,childViewsDidChange:Ember.K,ensureChildrenAreInDOM:Ember.K});merge(states.inBuffer,{childViewsDidChange:function(parentView,views,start,added){throw new EmberError("You cannot modify child views while in the inBuffer state")}});merge(states.hasElement,{childViewsWillChange:function(view,views,start,removed){for(var i=start;i<start+removed;i++){views[i].remove()}},childViewsDidChange:function(view,views,start,added){run.scheduleOnce("render",view,"_ensureChildrenAreInDOM")},ensureChildrenAreInDOM:function(view){var childViews=view._childViews;var renderer=view._renderer;var i,len,childView;for(i=0,len=childViews.length;i<len;i++){childView=childViews[i];if(!childView._elementCreated){renderer.renderTree(childView,view,i)}}}});__exports__["default"]=ContainerView});enifed("ember-views/views/core_view",["ember-views/system/renderer","ember-views/views/states","ember-runtime/system/object","ember-runtime/mixins/evented","ember-runtime/mixins/action_handler","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/utils","ember-metal/instrumentation","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__exports__){"use strict";var Rerender=__dependency1__["default"];var cloneStates=__dependency2__.cloneStates;var states=__dependency2__.states;var EmberObject=__dependency3__["default"];var Evented=__dependency4__["default"];var ActionHandler=__dependency5__["default"];var get=__dependency6__.get;var set=__dependency7__.set;var computed=__dependency8__.computed;var typeOf=__dependency9__.typeOf;var instrument=__dependency10__.instrument;var CoreView=EmberObject.extend(Evented,ActionHandler,{isView:true,isVirtual:false,isContainer:false,_states:cloneStates(states),init:function(){this._super();this._transitionTo("preRender");this._isVisible=get(this,"isVisible")},parentView:computed("_parentView",function(){var parent=this._parentView;if(parent&&parent.isVirtual){return get(parent,"parentView")}else{return parent}}),_state:null,_parentView:null,concreteView:computed("parentView",function(){if(!this.isVirtual){return this}else{return get(this,"parentView.concreteView")}}),instrumentName:"core_view",instrumentDetails:function(hash){hash.object=this.toString();hash.containerKey=this._debugContainerKey;hash.view=this},trigger:function(){this._super.apply(this,arguments);var name=arguments[0];var method=this[name];if(method){var length=arguments.length;var args=new Array(length-1);for(var i=1;i<length;i++){args[i-1]=arguments[i]}return method.apply(this,args)}},has:function(name){return typeOf(this[name])==="function"||this._super(name)},destroy:function(){var parent=this._parentView;if(!this._super()){return}if(!this.removedFromDOM&&this._renderer){this._renderer.remove(this,true)}if(parent){parent.removeChild(this)}this._transitionTo("destroying",false);return this},clearRenderedChildren:Ember.K,_transitionTo:Ember.K,destroyElement:Ember.K});CoreView.reopenClass({renderer:new Rerender});__exports__["default"]=CoreView});enifed("ember-views/views/states",["ember-metal/platform","ember-metal/merge","ember-views/views/states/default","ember-views/views/states/pre_render","ember-views/views/states/in_buffer","ember-views/views/states/has_element","ember-views/views/states/in_dom","ember-views/views/states/destroying","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var create=__dependency1__.create;var merge=__dependency2__["default"];var _default=__dependency3__["default"];var preRender=__dependency4__["default"];var inBuffer=__dependency5__["default"];var hasElement=__dependency6__["default"];var inDOM=__dependency7__["default"];var destroying=__dependency8__["default"];function cloneStates(from){var into={};into._default={};into.preRender=create(into._default);into.destroying=create(into._default);into.inBuffer=create(into._default);into.hasElement=create(into._default);into.inDOM=create(into.hasElement);for(var stateName in from){if(!from.hasOwnProperty(stateName)){continue}merge(into[stateName],from[stateName])}return into}__exports__.cloneStates=cloneStates;var states={_default:_default,preRender:preRender,inDOM:inDOM,inBuffer:inBuffer,hasElement:hasElement,destroying:destroying};__exports__.states=states});enifed("ember-views/views/states/default",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-metal/error","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var Ember=__dependency1__["default"];var get=__dependency2__.get;var set=__dependency3__.set;var run=__dependency4__["default"];var EmberError=__dependency5__["default"];__exports__["default"]={appendChild:function(){throw new EmberError("You can't use appendChild outside of the rendering process")},$:function(){return undefined},getElement:function(){return null},handleEvent:function(){return true},destroyElement:function(view){if(view._renderer)view._renderer.remove(view,false);return view},rerender:Ember.K,invokeObserver:Ember.K}});enifed("ember-views/views/states/destroying",["ember-metal/merge","ember-metal/platform","ember-runtime/system/string","ember-views/views/states/default","ember-metal/error","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var merge=__dependency1__["default"];var create=__dependency2__.create;var fmt=__dependency3__.fmt;var _default=__dependency4__["default"];var EmberError=__dependency5__["default"];var destroyingError="You can't call %@ on a view being destroyed";var destroying=create(_default);merge(destroying,{appendChild:function(){throw new EmberError(fmt(destroyingError,["appendChild"]))},rerender:function(){throw new EmberError(fmt(destroyingError,["rerender"]))},destroyElement:function(){throw new EmberError(fmt(destroyingError,["destroyElement"]))}});__exports__["default"]=destroying});enifed("ember-views/views/states/has_element",["ember-views/views/states/default","ember-metal/run_loop","ember-metal/merge","ember-metal/platform","ember-views/system/jquery","ember-metal/error","ember-metal/property_get","ember-metal/property_set","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";
var _default=__dependency1__["default"];var run=__dependency2__["default"];var merge=__dependency3__["default"];var create=__dependency4__.create;var jQuery=__dependency5__["default"];var EmberError=__dependency6__["default"];var get=__dependency7__.get;var set=__dependency8__.set;var hasElement=create(_default);merge(hasElement,{$:function(view,sel){var elem=view.get("concreteView").element;return sel?jQuery(sel,elem):jQuery(elem)},getElement:function(view){var parent=get(view,"parentView");if(parent){parent=get(parent,"element")}if(parent){return view.findElementInParentElement(parent)}return jQuery("#"+get(view,"elementId"))[0]},rerender:function(view){if(view._root._morph&&!view._elementInserted){throw new EmberError("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.")}run.scheduleOnce("render",function(){if(view.isDestroying)return;view._renderer.renderTree(view,view._parentView)})},destroyElement:function(view){view._renderer.remove(view,false);return view},handleEvent:function(view,eventName,evt){if(view.has(eventName)){return view.trigger(eventName,evt)}else{return true}},invokeObserver:function(target,observer){observer.call(target)}});__exports__["default"]=hasElement});enifed("ember-views/views/states/in_buffer",["ember-views/views/states/default","ember-metal/error","ember-metal/core","ember-metal/platform","ember-metal/merge","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var _default=__dependency1__["default"];var EmberError=__dependency2__["default"];var Ember=__dependency3__["default"];var create=__dependency4__.create;var merge=__dependency5__["default"];var inBuffer=create(_default);merge(inBuffer,{$:function(view,sel){view.rerender();return Ember.$()},rerender:function(view){throw new EmberError("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.")},appendChild:function(view,childView,options){var buffer=view.buffer;var _childViews=view._childViews;childView=view.createChildView(childView,options);if(!_childViews.length){_childViews=view._childViews=_childViews.slice()}_childViews.push(childView);if(!childView._morph){buffer.pushChildView(childView)}view.propertyDidChange("childViews");return childView},invokeObserver:function(target,observer){observer.call(target)}});__exports__["default"]=inBuffer});enifed("ember-views/views/states/in_dom",["ember-metal/core","ember-metal/platform","ember-metal/merge","ember-metal/error","ember-views/views/states/has_element","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var Ember=__dependency1__["default"];var create=__dependency2__.create;var merge=__dependency3__["default"];var EmberError=__dependency4__["default"];var hasElement=__dependency5__["default"];var inDOM=create(hasElement);var View;merge(inDOM,{enter:function(view){if(!View){View=requireModule("ember-views/views/view")["default"]}if(!view.isVirtual){View.views[view.elementId]=view}view.addBeforeObserver("elementId",function(){throw new EmberError("Changing a view's elementId after creation is not allowed")})},exit:function(view){if(!View){View=requireModule("ember-views/views/view")["default"]}if(!this.isVirtual)delete View.views[view.elementId]}});__exports__["default"]=inDOM});enifed("ember-views/views/states/pre_render",["ember-views/views/states/default","ember-metal/platform","ember-metal/merge","ember-views/system/jquery","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var _default=__dependency1__["default"];var create=__dependency2__.create;var merge=__dependency3__["default"];var jQuery=__dependency4__["default"];var preRender=create(_default);__exports__["default"]=preRender});enifed("ember-views/views/view",["ember-metal/core","ember-runtime/mixins/evented","ember-runtime/system/object","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/set_properties","ember-metal/run_loop","ember-metal/observer","ember-metal/properties","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/is_none","ember-metal/deprecate_property","ember-runtime/system/native_array","ember-runtime/system/string","ember-metal/enumerable_utils","ember-runtime/copy","ember-metal/binding","ember-metal/property_events","ember-views/system/jquery","ember-views/system/ext","ember-views/views/core_view","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__dependency18__,__dependency19__,__dependency20__,__dependency21__,__dependency22__,__dependency23__,__dependency24__,__exports__){"use strict";var Ember=__dependency1__["default"];var Evented=__dependency2__["default"];var EmberObject=__dependency3__["default"];var EmberError=__dependency4__["default"];var get=__dependency5__.get;var set=__dependency6__.set;var setProperties=__dependency7__["default"];var run=__dependency8__["default"];var addObserver=__dependency9__.addObserver;var removeObserver=__dependency9__.removeObserver;var defineProperty=__dependency10__.defineProperty;var deprecateProperty=__dependency10__.deprecateProperty;var guidFor=__dependency11__.guidFor;var meta=__dependency11__.meta;var computed=__dependency12__.computed;var observer=__dependency13__.observer;var typeOf=__dependency11__.typeOf;var isArray=__dependency11__.isArray;var isNone=__dependency14__.isNone;var Mixin=__dependency13__.Mixin;var deprecateProperty=__dependency15__.deprecateProperty;var emberA=__dependency16__.A;var dasherize=__dependency17__.dasherize;var forEach=__dependency18__.forEach;var addObject=__dependency18__.addObject;var removeObject=__dependency18__.removeObject;var beforeObserver=__dependency13__.beforeObserver;var copy=__dependency19__["default"];var isGlobalPath=__dependency20__.isGlobalPath;var propertyWillChange=__dependency21__.propertyWillChange;var propertyDidChange=__dependency21__.propertyDidChange;var jQuery=__dependency22__["default"];var CoreView=__dependency24__["default"];var childViewsProperty=computed(function(){var childViews=this._childViews;var ret=emberA();var view=this;forEach(childViews,function(view){var currentChildViews;if(view.isVirtual){if(currentChildViews=get(view,"childViews")){ret.pushObjects(currentChildViews)}}else{ret.push(view)}});ret.replace=function(idx,removedCount,addedViews){throw new EmberError("childViews is immutable")};return ret});Ember.TEMPLATES={};var EMPTY_ARRAY=[];var View=CoreView.extend({concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:true,templateName:null,layoutName:null,instrumentDisplay:computed(function(){if(this.helperName){return"{{"+this.helperName+"}}"}}),template:computed("templateName",function(key,value){if(value!==undefined){return value}var templateName=get(this,"templateName");var template=this.templateForName(templateName,"template");return template||get(this,"defaultTemplate")}),controller:computed("_parentView",function(key){var parentView=get(this,"_parentView");return parentView?get(parentView,"controller"):null}),layout:computed(function(key){var layoutName=get(this,"layoutName");var layout=this.templateForName(layoutName,"layout");return layout||get(this,"defaultLayout")}).property("layoutName"),_yield:function(context,options){var template=get(this,"template");if(template){template(context,options)}},templateForName:function(name,type){if(!name){return}if(!this.container){throw new EmberError("Container was not found when looking up a views template. "+"This is most likely due to manually instantiating an Ember.View. "+"See: http://git.io/EKPpnA")}return this.container.lookup("template:"+name)},context:computed(function(key,value){if(arguments.length===2){set(this,"_context",value);return value}else{return get(this,"_context")}})["volatile"](),_context:computed(function(key){var parentView,controller;if(controller=get(this,"controller")){return controller}parentView=this._parentView;if(parentView){return get(parentView,"_context")}return null}),_contextDidChange:observer("context",function(){this.rerender()}),isVisible:true,childViews:childViewsProperty,_childViews:EMPTY_ARRAY,_childViewsWillChange:beforeObserver("childViews",function(){if(this.isVirtual){var parentView=get(this,"parentView");if(parentView){propertyWillChange(parentView,"childViews")}}}),_childViewsDidChange:observer("childViews",function(){if(this.isVirtual){var parentView=get(this,"parentView");if(parentView){propertyDidChange(parentView,"childViews")}}}),nearestInstanceOf:function(klass){var view=get(this,"parentView");while(view){if(view instanceof klass){return view}view=get(view,"parentView")}},nearestOfType:function(klass){var view=get(this,"parentView");var isOfType=klass instanceof Mixin?function(view){return klass.detect(view)}:function(view){return klass.detect(view.constructor)};while(view){if(isOfType(view)){return view}view=get(view,"parentView")}},nearestWithProperty:function(property){var view=get(this,"parentView");while(view){if(property in view){return view}view=get(view,"parentView")}},nearestChildOf:function(klass){var view=get(this,"parentView");while(view){if(get(view,"parentView")instanceof klass){return view}view=get(view,"parentView")}},_parentViewDidChange:observer("_parentView",function(){if(this.isDestroying){return}this.trigger("parentViewDidChange");if(get(this,"parentView.controller")&&!get(this,"controller")){this.notifyPropertyChange("controller")}}),_controllerDidChange:observer("controller",function(){if(this.isDestroying){return}this.rerender();this.forEachChildView(function(view){view.propertyDidChange("controller")})}),cloneKeywords:function(){var templateData=get(this,"templateData");var keywords=templateData?copy(templateData.keywords):{};set(keywords,"view",this.isVirtual?keywords.view:this);set(keywords,"_view",this);set(keywords,"controller",get(this,"controller"));return keywords},render:function(buffer){var template=get(this,"layout")||get(this,"template");if(template){var context=get(this,"context");var keywords=this.cloneKeywords();var output;var data={view:this,buffer:buffer,isRenderData:true,keywords:keywords,insideGroup:get(this,"templateData.insideGroup")};output=template(context,{data:data});if(output!==undefined){buffer.push(output)}}},rerender:function(){return this.currentState.rerender(this)},_applyClassNameBindings:function(classBindings){var classNames=this.classNames;var elem,newClass,dasherizedClass;forEach(classBindings,function(binding){var oldClass;var parsedPath=View._parsePropertyPath(binding);var observer=function(){newClass=this._classStringForProperty(binding);elem=this.$();if(oldClass){elem.removeClass(oldClass);classNames.removeObject(oldClass)}if(newClass){elem.addClass(newClass);oldClass=newClass}else{oldClass=null}};dasherizedClass=this._classStringForProperty(binding);if(dasherizedClass){addObject(classNames,dasherizedClass);oldClass=dasherizedClass}this.registerObserver(this,parsedPath.path,observer);this.one("willClearRender",function(){if(oldClass){classNames.removeObject(oldClass);oldClass=null}})},this)},_unspecifiedAttributeBindings:null,_applyAttributeBindings:function(buffer,attributeBindings){var attributeValue;var unspecifiedAttributeBindings=this._unspecifiedAttributeBindings=this._unspecifiedAttributeBindings||{};forEach(attributeBindings,function(binding){var split=binding.split(":");var property=split[0];var attributeName=split[1]||property;if(property in this){this._setupAttributeBindingObservation(property,attributeName);attributeValue=get(this,property);View.applyAttributeBindings(buffer,attributeName,attributeValue)}else{unspecifiedAttributeBindings[property]=attributeName}},this);this.setUnknownProperty=this._setUnknownProperty},_setupAttributeBindingObservation:function(property,attributeName){var attributeValue,elem;var observer=function(){elem=this.$();attributeValue=get(this,property);View.applyAttributeBindings(elem,attributeName,attributeValue)};this.registerObserver(this,property,observer)},setUnknownProperty:null,_setUnknownProperty:function(key,value){var attributeName=this._unspecifiedAttributeBindings&&this._unspecifiedAttributeBindings[key];if(attributeName){this._setupAttributeBindingObservation(key,attributeName)}defineProperty(this,key);return set(this,key,value)},_classStringForProperty:function(property){var parsedPath=View._parsePropertyPath(property);var path=parsedPath.path;var val=get(this,path);if(val===undefined&&isGlobalPath(path)){val=get(Ember.lookup,path)}return View._classStringForValue(path,val,parsedPath.className,parsedPath.falsyClassName)},element:null,$:function(sel){return this.currentState.$(this,sel)},mutateChildViews:function(callback){var childViews=this._childViews;var idx=childViews.length;var view;while(--idx>=0){view=childViews[idx];callback(this,view,idx)}return this},forEachChildView:function(callback){var childViews=this._childViews;if(!childViews){return this}var len=childViews.length;var view,idx;for(idx=0;idx<len;idx++){view=childViews[idx];callback(view)}return this},appendTo:function(selector){var target=jQuery(selector);this.constructor.renderer.appendTo(this,target[0]);return this},replaceIn:function(selector){var target=jQuery(selector);this.constructor.renderer.replaceIn(this,target[0]);return this},append:function(){return this.appendTo(document.body)},remove:function(){if(!this.removedFromDOM){this.destroyElement()}},elementId:null,findElementInParentElement:function(parentElem){var id="#"+this.elementId;return jQuery(id)[0]||jQuery(id,parentElem)[0]},createElement:function(){if(this.element){return this}this._didCreateElementWithoutMorph=true;this.constructor.renderer.renderTree(this);return this},willInsertElement:Ember.K,didInsertElement:Ember.K,willClearRender:Ember.K,destroyElement:function(){return this.currentState.destroyElement(this)},willDestroyElement:Ember.K,parentViewDidChange:Ember.K,instrumentName:"view",instrumentDetails:function(hash){hash.template=get(this,"templateName");this._super(hash)},beforeRender:function(buffer){},afterRender:function(buffer){},applyAttributesToBuffer:function(buffer){var classNameBindings=get(this,"classNameBindings");if(classNameBindings.length){this._applyClassNameBindings(classNameBindings)}var attributeBindings=get(this,"attributeBindings");if(attributeBindings.length){this._applyAttributeBindings(buffer,attributeBindings)}buffer.setClasses(this.classNames);buffer.id(this.elementId);var role=get(this,"ariaRole");if(role){buffer.attr("role",role)}if(get(this,"isVisible")===false){buffer.style("display","none")}},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:EMPTY_ARRAY,attributeBindings:EMPTY_ARRAY,init:function(){if(!this.isVirtual&&!this.elementId){this.elementId=guidFor(this)}this._super();this._childViews=this._childViews.slice();this.classNameBindings=emberA(this.classNameBindings.slice());this.classNames=emberA(this.classNames.slice())},appendChild:function(view,options){return this.currentState.appendChild(this,view,options)},removeChild:function(view){if(this.isDestroying){return}set(view,"_parentView",null);var childViews=this._childViews;removeObject(childViews,view);this.propertyDidChange("childViews");return this},removeAllChildren:function(){return this.mutateChildViews(function(parentView,view){parentView.removeChild(view)})},destroyAllChildren:function(){return this.mutateChildViews(function(parentView,view){view.destroy()})},removeFromParent:function(){var parent=this._parentView;this.remove();if(parent){parent.removeChild(this)}return this},destroy:function(){var childViews=this._childViews;var nonVirtualParentView=get(this,"parentView");var viewName=this.viewName;var childLen,i;if(!this._super()){return}if(viewName&&nonVirtualParentView){nonVirtualParentView.set(viewName,null)}return this},createChildView:function(view,attrs){if(!view){throw new TypeError("createChildViews first argument must exist")}if(view.isView&&view._parentView===this&&view.container===this.container){return view}attrs=attrs||{};attrs._parentView=this;if(CoreView.detect(view)){attrs.templateData=attrs.templateData||get(this,"templateData");attrs.container=this.container;view=view.create(attrs);if(view.viewName){set(get(this,"concreteView"),view.viewName,view)}}else if("string"===typeof view){var fullName="view:"+view;var ViewKlass=this.container.lookupFactory(fullName);attrs.templateData=get(this,"templateData");view=ViewKlass.create(attrs)}else{attrs.container=this.container;if(!get(view,"templateData")){attrs.templateData=get(this,"templateData")}setProperties(view,attrs)}return view},becameVisible:Ember.K,becameHidden:Ember.K,_isVisibleDidChange:observer("isVisible",function(){if(this._isVisible===get(this,"isVisible")){return}run.scheduleOnce("render",this,this._toggleVisibility)}),_toggleVisibility:function(){var $el=this.$();var isVisible=get(this,"isVisible");if(this._isVisible===isVisible){return}this._isVisible=isVisible;if(!$el){return}$el.toggle(isVisible);if(this._isAncestorHidden()){return}if(isVisible){this._notifyBecameVisible()}else{this._notifyBecameHidden()}},_notifyBecameVisible:function(){this.trigger("becameVisible");this.forEachChildView(function(view){var isVisible=get(view,"isVisible");if(isVisible||isVisible===null){view._notifyBecameVisible()}})},_notifyBecameHidden:function(){this.trigger("becameHidden");this.forEachChildView(function(view){var isVisible=get(view,"isVisible");if(isVisible||isVisible===null){view._notifyBecameHidden()}})},_isAncestorHidden:function(){var parent=get(this,"parentView");while(parent){if(get(parent,"isVisible")===false){return true}parent=get(parent,"parentView")}return false},transitionTo:function(state,children){this._transitionTo(state,children)},_transitionTo:function(state,children){var priorState=this.currentState;var currentState=this.currentState=this._states[state];this._state=state;if(priorState&&priorState.exit){priorState.exit(this)}if(currentState.enter){currentState.enter(this)}},handleEvent:function(eventName,evt){return this.currentState.handleEvent(this,eventName,evt)},registerObserver:function(root,path,target,observer){if(!observer&&"function"===typeof target){observer=target;target=null}if(!root||typeof root!=="object"){return}var view=this;var stateCheckedObserver=function(){view.currentState.invokeObserver(this,observer)};var scheduledObserver=function(){run.scheduleOnce("render",this,stateCheckedObserver)};addObserver(root,path,target,scheduledObserver);this.one("willClearRender",function(){removeObserver(root,path,target,scheduledObserver)})}});deprecateProperty(View.prototype,"state","_state");deprecateProperty(View.prototype,"states","_states");function notifyMutationListeners(){run.once(View,"notifyMutationListeners")}View.reopenClass({_parsePropertyPath:function(path){var split=path.split(":");var propertyPath=split[0];var classNames="";var className,falsyClassName;if(split.length>1){className=split[1];if(split.length===3){falsyClassName=split[2]}classNames=":"+className;if(falsyClassName){classNames+=":"+falsyClassName}}return{path:propertyPath,classNames:classNames,className:className===""?undefined:className,falsyClassName:falsyClassName}},_classStringForValue:function(path,val,className,falsyClassName){if(isArray(val)){val=get(val,"length")!==0}if(className||falsyClassName){if(className&&!!val){return className}else if(falsyClassName&&!val){return falsyClassName}else{return null}}else if(val===true){var parts=path.split(".");return dasherize(parts[parts.length-1])}else if(val!==false&&val!=null){return val}else{return null}}});var mutation=EmberObject.extend(Evented).create();View.addMutationListener=function(callback){mutation.on("change",callback)};View.removeMutationListener=function(callback){mutation.off("change",callback)};View.notifyMutationListeners=function(){mutation.trigger("change")};View.views={};View.childViewsProperty=childViewsProperty;View.applyAttributeBindings=function(elem,name,value){var type=typeOf(value);if(name!=="value"&&(type==="string"||type==="number"&&!isNaN(value))){if(value!==elem.attr(name)){elem.attr(name,value)}}else if(name==="value"||type==="boolean"){if(isNone(value)||value===false){elem.removeAttr(name);if(name==="required"){elem.removeProp(name)}else{elem.prop(name,"")}}else if(value!==elem.prop(name)){elem.prop(name,value)}}else if(!value){elem.removeAttr(name)}};__exports__["default"]=View});enifed("ember",["ember-metal","ember-runtime","ember-handlebars","ember-views","ember-routing","ember-routing-handlebars","ember-application","ember-extension-support"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__){"use strict";if(Ember.__loader.registry["ember-testing"]){requireModule("ember-testing")}});enifed("morph",["./morph/morph","./morph/dom-helper","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Morph=__dependency1__["default"];var Morph;__exports__.Morph=Morph;var DOMHelper=__dependency2__["default"];var DOMHelper;__exports__.DOMHelper=DOMHelper});enifed("morph/dom-helper",["../morph/morph","./dom-helper/build-html-dom","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Morph=__dependency1__["default"];var buildHTMLDOM=__dependency2__.buildHTMLDOM;var svgNamespace=__dependency2__.svgNamespace;var svgHTMLIntegrationPoints=__dependency2__.svgHTMLIntegrationPoints;var deletesBlankTextNodes=function(){var element=document.createElement("div");element.appendChild(document.createTextNode(""));var clonedElement=element.cloneNode(true);return clonedElement.childNodes.length===0}();var ignoresCheckedAttribute=function(){var element=document.createElement("input");element.setAttribute("checked","checked");var clonedElement=element.cloneNode(false);return!clonedElement.checked}();function isSVG(ns){return ns===svgNamespace}function interiorNamespace(element){if(element&&element.namespaceURI===svgNamespace&&!svgHTMLIntegrationPoints[element.tagName]){return svgNamespace}else{return null}}var omittedStartTagChildTest=/<([\w:]+)/;function detectOmittedStartTag(string,contextualElement){if(contextualElement.tagName==="TABLE"){var omittedStartTagChildMatch=omittedStartTagChildTest.exec(string);if(omittedStartTagChildMatch){var omittedStartTagChild=omittedStartTagChildMatch[1];return omittedStartTagChild==="tr"||omittedStartTagChild==="col"}}}function buildSVGDOM(html,dom){var div=dom.document.createElement("div");div.innerHTML="<svg>"+html+"</svg>";return div.firstChild.childNodes}function DOMHelper(_document){this.document=_document||window.document;this.namespace=null}var prototype=DOMHelper.prototype;prototype.constructor=DOMHelper;prototype.insertBefore=function(element,childElement,referenceChild){return element.insertBefore(childElement,referenceChild)};prototype.appendChild=function(element,childElement){return element.appendChild(childElement)};prototype.appendText=function(element,text){return element.appendChild(this.document.createTextNode(text))};prototype.setAttribute=function(element,name,value){element.setAttribute(name,value)};if(document.createElementNS){prototype.createElement=function(tagName,contextualElement){var namespace=this.namespace;if(contextualElement){if(tagName==="svg"){namespace=svgNamespace}else{namespace=interiorNamespace(contextualElement)}}if(namespace){return this.document.createElementNS(namespace,tagName)}else{return this.document.createElement(tagName)}}}else{prototype.createElement=function(tagName){return this.document.createElement(tagName)}}prototype.setNamespace=function(ns){this.namespace=ns};prototype.detectNamespace=function(element){this.namespace=interiorNamespace(element)};prototype.createDocumentFragment=function(){return this.document.createDocumentFragment()};prototype.createTextNode=function(text){return this.document.createTextNode(text)};prototype.repairClonedNode=function(element,blankChildTextNodes,isChecked){if(deletesBlankTextNodes&&blankChildTextNodes.length>0){for(var i=0,len=blankChildTextNodes.length;i<len;i++){var textNode=this.document.createTextNode(""),offset=blankChildTextNodes[i],before=element.childNodes[offset];if(before){element.insertBefore(textNode,before)}else{element.appendChild(textNode)}}}if(ignoresCheckedAttribute&&isChecked){element.setAttribute("checked","checked")}};prototype.cloneNode=function(element,deep){var clone=element.cloneNode(!!deep);return clone};prototype.createMorph=function(parent,start,end,contextualElement){if(!contextualElement&&parent.nodeType===1){contextualElement=parent}return new Morph(parent,start,end,this,contextualElement)};prototype.createMorphAt=function(parent,startIndex,endIndex,contextualElement){var childNodes=parent.childNodes,start=startIndex===-1?null:childNodes[startIndex],end=endIndex===-1?null:childNodes[endIndex];return this.createMorph(parent,start,end,contextualElement)};prototype.insertMorphBefore=function(element,referenceChild,contextualElement){var start=this.document.createTextNode("");var end=this.document.createTextNode("");element.insertBefore(start,referenceChild);element.insertBefore(end,referenceChild);return this.createMorph(element,start,end,contextualElement)};prototype.appendMorph=function(element,contextualElement){var start=this.document.createTextNode("");var end=this.document.createTextNode("");element.appendChild(start);element.appendChild(end);return this.createMorph(element,start,end,contextualElement)};prototype.parseHTML=function(html,contextualElement){var isSVGContent=isSVG(this.namespace)&&!svgHTMLIntegrationPoints[contextualElement.tagName];if(isSVGContent){return buildSVGDOM(html,this)}else{var nodes=buildHTMLDOM(html,contextualElement,this);if(detectOmittedStartTag(html,contextualElement)){var node=nodes[0];while(node&&node.nodeType!==1){node=node.nextSibling}return node.childNodes}else{return nodes}}};__exports__["default"]=DOMHelper});enifed("morph/dom-helper/build-html-dom",["exports"],function(__exports__){"use strict";var svgHTMLIntegrationPoints={foreignObject:1,desc:1,title:1};__exports__.svgHTMLIntegrationPoints=svgHTMLIntegrationPoints;var svgNamespace="http://www.w3.org/2000/svg";__exports__.svgNamespace=svgNamespace;var needsIntegrationPointFix=document&&document.createElementNS&&function(){var testEl=document.createElementNS(svgNamespace,"title");testEl.innerHTML="<div></div>";return testEl.childNodes.length===0||testEl.childNodes[0].nodeType!==1}();var needsShy=document&&function(){var testEl=document.createElement("div");testEl.innerHTML="<div></div>";testEl.firstChild.innerHTML="<script></script>";return testEl.firstChild.innerHTML===""}();var movesWhitespace=document&&function(){var testEl=document.createElement("div");testEl.innerHTML="Test: <script type='text/x-placeholder'></script>Value";return testEl.childNodes[0].nodeValue==="Test:"&&testEl.childNodes[2].nodeValue===" Value"}();var createsSelectedAttribute=document&&function(){var testEl=document.createElement("div");testEl.innerHTML="<select><option></option></select>";return testEl.childNodes[0].childNodes[0].getAttribute("selected")==="selected"}();var detectAutoSelectedOption;if(createsSelectedAttribute){var detectAutoSelectedOptionRegex=/<option[^>]*selected/;detectAutoSelectedOption=function detectAutoSelectedOption(select,option,html){return select.selectedIndex===0&&!detectAutoSelectedOptionRegex.test(html)}}else{detectAutoSelectedOption=function detectAutoSelectedOption(select,option,html){var selectedAttribute=option.getAttribute("selected");return select.selectedIndex===0&&(selectedAttribute===null||selectedAttribute!==""&&selectedAttribute.toLowerCase()!=="selected")}}var tagNamesRequiringInnerHTMLFix,tableNeedsInnerHTMLFix;var tableInnerHTMLTestElement=document.createElement("table");try{tableInnerHTMLTestElement.innerHTML="<tbody></tbody>"}catch(e){}finally{tableNeedsInnerHTMLFix=tableInnerHTMLTestElement.childNodes.length===0}if(tableNeedsInnerHTMLFix){tagNamesRequiringInnerHTMLFix={colgroup:["table"],table:[],tbody:["table"],tfoot:["table"],thead:["table"],tr:["table","tbody"]}}var selectInnerHTMLTestElement=document.createElement("select");selectInnerHTMLTestElement.innerHTML="<option></option>";if(selectInnerHTMLTestElement){tagNamesRequiringInnerHTMLFix=tagNamesRequiringInnerHTMLFix||{};tagNamesRequiringInnerHTMLFix.select=[]}function scriptSafeInnerHTML(element,html){html="&shy;"+html;element.innerHTML=html;var nodes=element.childNodes;var shyElement=nodes[0];while(shyElement.nodeType===1&&!shyElement.nodeName){shyElement=shyElement.firstChild}if(shyElement.nodeType===3&&shyElement.nodeValue.charAt(0)==="­"){var newValue=shyElement.nodeValue.slice(1);if(newValue.length){shyElement.nodeValue=shyElement.nodeValue.slice(1)}else{shyElement.parentNode.removeChild(shyElement)}}return nodes}function buildDOMWithFix(html,contextualElement){var tagName=contextualElement.tagName;var outerHTML=contextualElement.outerHTML||(new XMLSerializer).serializeToString(contextualElement);if(!outerHTML){throw"Can't set innerHTML on "+tagName+" in this browser"}var wrappingTags=tagNamesRequiringInnerHTMLFix[tagName.toLowerCase()];var startTag=outerHTML.match(new RegExp("<"+tagName+"([^>]*)>","i"))[0];var endTag="</"+tagName+">";var wrappedHTML=[startTag,html,endTag];var i=wrappingTags.length;var wrappedDepth=1+i;while(i--){wrappedHTML.unshift("<"+wrappingTags[i]+">");wrappedHTML.push("</"+wrappingTags[i]+">")}var wrapper=document.createElement("div");scriptSafeInnerHTML(wrapper,wrappedHTML.join(""));var element=wrapper;while(wrappedDepth--){element=element.firstChild;while(element&&element.nodeType!==1){element=element.nextSibling}}while(element&&element.tagName!==tagName){element=element.nextSibling}return element?element.childNodes:[]}var buildDOM;if(needsShy){buildDOM=function buildDOM(html,contextualElement,dom){contextualElement=dom.cloneNode(contextualElement,false);scriptSafeInnerHTML(contextualElement,html);return contextualElement.childNodes}}else{buildDOM=function buildDOM(html,contextualElement,dom){contextualElement=dom.cloneNode(contextualElement,false);contextualElement.innerHTML=html;return contextualElement.childNodes}}var buildIESafeDOM;if(tagNamesRequiringInnerHTMLFix||movesWhitespace){buildIESafeDOM=function buildIESafeDOM(html,contextualElement,dom){var spacesBefore=[];var spacesAfter=[];html=html.replace(/(\s*)(<script)/g,function(match,spaces,tag){spacesBefore.push(spaces);return tag});html=html.replace(/(<\/script>)(\s*)/g,function(match,tag,spaces){spacesAfter.push(spaces);return tag});var nodes;if(tagNamesRequiringInnerHTMLFix[contextualElement.tagName.toLowerCase()]){nodes=buildDOMWithFix(html,contextualElement)}else{nodes=buildDOM(html,contextualElement,dom)}var i,j,node,nodeScriptNodes;var scriptNodes=[];for(i=0;node=nodes[i];i++){if(node.nodeType!==1){continue}if(node.tagName==="SCRIPT"){scriptNodes.push(node)}else{nodeScriptNodes=node.getElementsByTagName("script");for(j=0;j<nodeScriptNodes.length;j++){scriptNodes.push(nodeScriptNodes[j])}}}var scriptNode,textNode,spaceBefore,spaceAfter;for(i=0;scriptNode=scriptNodes[i];i++){spaceBefore=spacesBefore[i];if(spaceBefore&&spaceBefore.length>0){textNode=dom.document.createTextNode(spaceBefore);scriptNode.parentNode.insertBefore(textNode,scriptNode)}spaceAfter=spacesAfter[i];if(spaceAfter&&spaceAfter.length>0){textNode=dom.document.createTextNode(spaceAfter);scriptNode.parentNode.insertBefore(textNode,scriptNode.nextSibling)}}return nodes}}else{buildIESafeDOM=buildDOM}function buildSafeDOM(html,contextualElement,dom){var childNodes=buildIESafeDOM(html,contextualElement,dom);if(contextualElement.tagName==="SELECT"){for(var i=0;childNodes[i];i++){if(childNodes[i].tagName==="OPTION"){if(detectAutoSelectedOption(childNodes[i].parentNode,childNodes[i],html)){childNodes[i].parentNode.selectedIndex=-1
}break}}}return childNodes}var buildHTMLDOM;if(needsIntegrationPointFix){buildHTMLDOM=function buildHTMLDOM(html,contextualElement,dom){if(svgHTMLIntegrationPoints[contextualElement.tagName]){return buildSafeDOM(html,document.createElement("div"),dom)}else{return buildSafeDOM(html,contextualElement,dom)}}}else{buildHTMLDOM=buildSafeDOM}__exports__.buildHTMLDOM=buildHTMLDOM});enifed("morph/morph",["exports"],function(__exports__){"use strict";var splice=Array.prototype.splice;function ensureStartEnd(start,end){if(start===null||end===null){throw new Error("a fragment parent must have boundary nodes in order to detect insertion")}}function ensureContext(contextualElement){if(!contextualElement||contextualElement.nodeType!==1){throw new Error("An element node must be provided for a contextualElement, you provided "+(contextualElement?"nodeType "+contextualElement.nodeType:"nothing"))}}function Morph(parent,start,end,domHelper,contextualElement){if(parent.nodeType===11){ensureStartEnd(start,end);this.element=null}else{this.element=parent}this._parent=parent;this.start=start;this.end=end;this.domHelper=domHelper;ensureContext(contextualElement);this.contextualElement=contextualElement;this.reset()}Morph.prototype.reset=function(){this.text=null;this.owner=null;this.morphs=null;this.before=null;this.after=null;this.escaped=true};Morph.prototype.parent=function(){if(!this.element){var parent=this.start.parentNode;if(this._parent!==parent){this.element=this._parent=parent}}return this._parent};Morph.prototype.destroy=function(){if(this.owner){this.owner.removeMorph(this)}else{clear(this.element||this.parent(),this.start,this.end)}};Morph.prototype.removeMorph=function(morph){var morphs=this.morphs;for(var i=0,l=morphs.length;i<l;i++){if(morphs[i]===morph){this.replace(i,1);break}}};Morph.prototype.update=function(nodeOrString){this._update(this.element||this.parent(),nodeOrString)};Morph.prototype.updateNode=function(node){var parent=this.element||this.parent();if(!node)return this._updateText(parent,"");this._updateNode(parent,node)};Morph.prototype.updateText=function(text){this._updateText(this.element||this.parent(),text)};Morph.prototype.updateHTML=function(html){var parent=this.element||this.parent();if(!html)return this._updateText(parent,"");this._updateHTML(parent,html)};Morph.prototype._update=function(parent,nodeOrString){if(nodeOrString===null||nodeOrString===undefined){this._updateText(parent,"")}else if(typeof nodeOrString==="string"){if(this.escaped){this._updateText(parent,nodeOrString)}else{this._updateHTML(parent,nodeOrString)}}else if(nodeOrString.nodeType){this._updateNode(parent,nodeOrString)}else if(nodeOrString.string){this._updateHTML(parent,nodeOrString.string)}else{this._updateText(parent,nodeOrString.toString())}};Morph.prototype._updateNode=function(parent,node){if(this.text){if(node.nodeType===3){this.text.nodeValue=node.nodeValue;return}else{this.text=null}}var start=this.start,end=this.end;clear(parent,start,end);parent.insertBefore(node,end);if(this.before!==null){this.before.end=start.nextSibling}if(this.after!==null){this.after.start=end.previousSibling}};Morph.prototype._updateText=function(parent,text){if(this.text){this.text.nodeValue=text;return}var node=this.domHelper.createTextNode(text);this.text=node;clear(parent,this.start,this.end);parent.insertBefore(node,this.end);if(this.before!==null){this.before.end=node}if(this.after!==null){this.after.start=node}};Morph.prototype._updateHTML=function(parent,html){var start=this.start,end=this.end;clear(parent,start,end);this.text=null;var childNodes=this.domHelper.parseHTML(html,this.contextualElement);appendChildren(parent,end,childNodes);if(this.before!==null){this.before.end=start.nextSibling}if(this.after!==null){this.after.start=end.previousSibling}};Morph.prototype.append=function(node){if(this.morphs===null)this.morphs=[];var index=this.morphs.length;return this.insert(index,node)};Morph.prototype.insert=function(index,node){if(this.morphs===null)this.morphs=[];var parent=this.element||this.parent();var morphs=this.morphs;var before=index>0?morphs[index-1]:null;var after=index<morphs.length?morphs[index]:null;var start=before===null?this.start:before.end===null?parent.lastChild:before.end.previousSibling;var end=after===null?this.end:after.start===null?parent.firstChild:after.start.nextSibling;var morph=new Morph(parent,start,end,this.domHelper,this.contextualElement);morph.owner=this;morph._update(parent,node);if(before!==null){morph.before=before;before.end=start.nextSibling;before.after=morph}if(after!==null){morph.after=after;after.before=morph;after.start=end.previousSibling}this.morphs.splice(index,0,morph);return morph};Morph.prototype.replace=function(index,removedLength,addedNodes){if(this.morphs===null)this.morphs=[];var parent=this.element||this.parent();var morphs=this.morphs;var before=index>0?morphs[index-1]:null;var after=index+removedLength<morphs.length?morphs[index+removedLength]:null;var start=before===null?this.start:before.end===null?parent.lastChild:before.end.previousSibling;var end=after===null?this.end:after.start===null?parent.firstChild:after.start.nextSibling;var addedLength=addedNodes===undefined?0:addedNodes.length;var args,i,current;if(removedLength>0){clear(parent,start,end)}if(addedLength===0){if(before!==null){before.after=after;before.end=end}if(after!==null){after.before=before;after.start=start}morphs.splice(index,removedLength);return}args=new Array(addedLength+2);if(addedLength>0){for(i=0;i<addedLength;i++){args[i+2]=current=new Morph(parent,start,end,this.domHelper,this.contextualElement);current._update(parent,addedNodes[i]);current.owner=this;if(before!==null){current.before=before;before.end=start.nextSibling;before.after=current}before=current;start=end===null?parent.lastChild:end.previousSibling}if(after!==null){current.after=after;after.before=current;after.start=end.previousSibling}}args[0]=index;args[1]=removedLength;splice.apply(morphs,args)};function appendChildren(parent,end,nodeList){var ref=end;var i=nodeList.length;var node;while(i--){node=nodeList[i];parent.insertBefore(node,ref);ref=node}}function clear(parent,start,end){var current,previous;if(end===null){current=parent.lastChild}else{current=end.previousSibling}while(current!==null&&current!==start){previous=current.previousSibling;parent.removeChild(current);current=previous}}__exports__["default"]=Morph});enifed("route-recognizer",["route-recognizer/dsl","exports"],function(__dependency1__,__exports__){"use strict";var map=__dependency1__["default"];var specials=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];var escapeRegex=new RegExp("(\\"+specials.join("|\\")+")","g");function isArray(test){return Object.prototype.toString.call(test)==="[object Array]"}function StaticSegment(string){this.string=string}StaticSegment.prototype={eachChar:function(callback){var string=this.string,ch;for(var i=0,l=string.length;i<l;i++){ch=string.charAt(i);callback({validChars:ch})}},regex:function(){return this.string.replace(escapeRegex,"\\$1")},generate:function(){return this.string}};function DynamicSegment(name){this.name=name}DynamicSegment.prototype={eachChar:function(callback){callback({invalidChars:"/",repeat:true})},regex:function(){return"([^/]+)"},generate:function(params){return params[this.name]}};function StarSegment(name){this.name=name}StarSegment.prototype={eachChar:function(callback){callback({invalidChars:"",repeat:true})},regex:function(){return"(.+)"},generate:function(params){return params[this.name]}};function EpsilonSegment(){}EpsilonSegment.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}};function parse(route,names,types){if(route.charAt(0)==="/"){route=route.substr(1)}var segments=route.split("/"),results=[];for(var i=0,l=segments.length;i<l;i++){var segment=segments[i],match;if(match=segment.match(/^:([^\/]+)$/)){results.push(new DynamicSegment(match[1]));names.push(match[1]);types.dynamics++}else if(match=segment.match(/^\*([^\/]+)$/)){results.push(new StarSegment(match[1]));names.push(match[1]);types.stars++}else if(segment===""){results.push(new EpsilonSegment)}else{results.push(new StaticSegment(segment));types.statics++}}return results}function State(charSpec){this.charSpec=charSpec;this.nextStates=[]}State.prototype={get:function(charSpec){var nextStates=this.nextStates;for(var i=0,l=nextStates.length;i<l;i++){var child=nextStates[i];var isEqual=child.charSpec.validChars===charSpec.validChars;isEqual=isEqual&&child.charSpec.invalidChars===charSpec.invalidChars;if(isEqual){return child}}},put:function(charSpec){var state;if(state=this.get(charSpec)){return state}state=new State(charSpec);this.nextStates.push(state);if(charSpec.repeat){state.nextStates.push(state)}return state},match:function(ch){var nextStates=this.nextStates,child,charSpec,chars;var returned=[];for(var i=0,l=nextStates.length;i<l;i++){child=nextStates[i];charSpec=child.charSpec;if(typeof(chars=charSpec.validChars)!=="undefined"){if(chars.indexOf(ch)!==-1){returned.push(child)}}else if(typeof(chars=charSpec.invalidChars)!=="undefined"){if(chars.indexOf(ch)===-1){returned.push(child)}}}return returned}};function sortSolutions(states){return states.sort(function(a,b){if(a.types.stars!==b.types.stars){return a.types.stars-b.types.stars}if(a.types.stars){if(a.types.statics!==b.types.statics){return b.types.statics-a.types.statics}if(a.types.dynamics!==b.types.dynamics){return b.types.dynamics-a.types.dynamics}}if(a.types.dynamics!==b.types.dynamics){return a.types.dynamics-b.types.dynamics}if(a.types.statics!==b.types.statics){return b.types.statics-a.types.statics}return 0})}function recognizeChar(states,ch){var nextStates=[];for(var i=0,l=states.length;i<l;i++){var state=states[i];nextStates=nextStates.concat(state.match(ch))}return nextStates}var oCreate=Object.create||function(proto){function F(){}F.prototype=proto;return new F};function RecognizeResults(queryParams){this.queryParams=queryParams||{}}RecognizeResults.prototype=oCreate({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});function findHandler(state,path,queryParams){var handlers=state.handlers,regex=state.regex;var captures=path.match(regex),currentCapture=1;var result=new RecognizeResults(queryParams);for(var i=0,l=handlers.length;i<l;i++){var handler=handlers[i],names=handler.names,params={};for(var j=0,m=names.length;j<m;j++){params[names[j]]=captures[currentCapture++]}result.push({handler:handler.handler,params:params,isDynamic:!!names.length})}return result}function addSegment(currentState,segment){segment.eachChar(function(ch){var state;currentState=currentState.put(ch)});return currentState}var RouteRecognizer=function(){this.rootState=new State;this.names={}};RouteRecognizer.prototype={add:function(routes,options){var currentState=this.rootState,regex="^",types={statics:0,dynamics:0,stars:0},handlers=[],allSegments=[],name;var isEmpty=true;for(var i=0,l=routes.length;i<l;i++){var route=routes[i],names=[];var segments=parse(route.path,names,types);allSegments=allSegments.concat(segments);for(var j=0,m=segments.length;j<m;j++){var segment=segments[j];if(segment instanceof EpsilonSegment){continue}isEmpty=false;currentState=currentState.put({validChars:"/"});regex+="/";currentState=addSegment(currentState,segment);regex+=segment.regex()}var handler={handler:route.handler,names:names};handlers.push(handler)}if(isEmpty){currentState=currentState.put({validChars:"/"});regex+="/"}currentState.handlers=handlers;currentState.regex=new RegExp(regex+"$");currentState.types=types;if(name=options&&options.as){this.names[name]={segments:allSegments,handlers:handlers}}},handlersFor:function(name){var route=this.names[name],result=[];if(!route){throw new Error("There is no route named "+name)}for(var i=0,l=route.handlers.length;i<l;i++){result.push(route.handlers[i])}return result},hasRoute:function(name){return!!this.names[name]},generate:function(name,params){var route=this.names[name],output="";if(!route){throw new Error("There is no route named "+name)}var segments=route.segments;for(var i=0,l=segments.length;i<l;i++){var segment=segments[i];if(segment instanceof EpsilonSegment){continue}output+="/";output+=segment.generate(params)}if(output.charAt(0)!=="/"){output="/"+output}if(params&&params.queryParams){output+=this.generateQueryString(params.queryParams,route.handlers)}return output},generateQueryString:function(params,handlers){var pairs=[];var keys=[];for(var key in params){if(params.hasOwnProperty(key)){keys.push(key)}}keys.sort();for(var i=0,len=keys.length;i<len;i++){key=keys[i];var value=params[key];if(value==null){continue}var pair=encodeURIComponent(key);if(isArray(value)){for(var j=0,l=value.length;j<l;j++){var arrayPair=key+"[]"+"="+encodeURIComponent(value[j]);pairs.push(arrayPair)}}else{pair+="="+encodeURIComponent(value);pairs.push(pair)}}if(pairs.length===0){return""}return"?"+pairs.join("&")},parseQueryString:function(queryString){var pairs=queryString.split("&"),queryParams={};for(var i=0;i<pairs.length;i++){var pair=pairs[i].split("="),key=decodeURIComponent(pair[0]),keyLength=key.length,isArray=false,value;if(pair.length===1){value="true"}else{if(keyLength>2&&key.slice(keyLength-2)==="[]"){isArray=true;key=key.slice(0,keyLength-2);if(!queryParams[key]){queryParams[key]=[]}}value=pair[1]?decodeURIComponent(pair[1]):""}if(isArray){queryParams[key].push(value)}else{queryParams[key]=value}}return queryParams},recognize:function(path){var states=[this.rootState],pathLen,i,l,queryStart,queryParams={},isSlashDropped=false;queryStart=path.indexOf("?");if(queryStart!==-1){var queryString=path.substr(queryStart+1,path.length);path=path.substr(0,queryStart);queryParams=this.parseQueryString(queryString)}path=decodeURI(path);if(path.charAt(0)!=="/"){path="/"+path}pathLen=path.length;if(pathLen>1&&path.charAt(pathLen-1)==="/"){path=path.substr(0,pathLen-1);isSlashDropped=true}for(i=0,l=path.length;i<l;i++){states=recognizeChar(states,path.charAt(i));if(!states.length){break}}var solutions=[];for(i=0,l=states.length;i<l;i++){if(states[i].handlers){solutions.push(states[i])}}states=sortSolutions(solutions);var state=solutions[0];if(state&&state.handlers){if(isSlashDropped&&state.regex.source.slice(-5)==="(.+)$"){path=path+"/"}return findHandler(state,path,queryParams)}}};RouteRecognizer.prototype.map=map;__exports__["default"]=RouteRecognizer});enifed("route-recognizer/dsl",["exports"],function(__exports__){"use strict";function Target(path,matcher,delegate){this.path=path;this.matcher=matcher;this.delegate=delegate}Target.prototype={to:function(target,callback){var delegate=this.delegate;if(delegate&&delegate.willAddRoute){target=delegate.willAddRoute(this.matcher.target,target)}this.matcher.add(this.path,target);if(callback){if(callback.length===0){throw new Error("You must have an argument in the function passed to `to`")}this.matcher.addChild(this.path,target,callback,this.delegate)}return this}};function Matcher(target){this.routes={};this.children={};this.target=target}Matcher.prototype={add:function(path,handler){this.routes[path]=handler},addChild:function(path,target,callback,delegate){var matcher=new Matcher(target);this.children[path]=matcher;var match=generateMatch(path,matcher,delegate);if(delegate&&delegate.contextEntered){delegate.contextEntered(target,match)}callback(match)}};function generateMatch(startingPath,matcher,delegate){return function(path,nestedCallback){var fullPath=startingPath+path;if(nestedCallback){nestedCallback(generateMatch(fullPath,matcher,delegate))}else{return new Target(startingPath+path,matcher,delegate)}}}function addRoute(routeArray,path,handler){var len=0;for(var i=0,l=routeArray.length;i<l;i++){len+=routeArray[i].path.length}path=path.substr(len);var route={path:path,handler:handler};routeArray.push(route)}function eachRoute(baseRoute,matcher,callback,binding){var routes=matcher.routes;for(var path in routes){if(routes.hasOwnProperty(path)){var routeArray=baseRoute.slice();addRoute(routeArray,path,routes[path]);if(matcher.children[path]){eachRoute(routeArray,matcher.children[path],callback,binding)}else{callback.call(binding,routeArray)}}}}__exports__["default"]=function(callback,addRouteCallback){var matcher=new Matcher;callback(generateMatch("",matcher,this.delegate));eachRoute([],matcher,function(route){if(addRouteCallback){addRouteCallback(this,route)}else{this.add(route)}},this)}});enifed("router",["./router/router","exports"],function(__dependency1__,__exports__){"use strict";var Router=__dependency1__["default"];__exports__["default"]=Router});enifed("router/handler-info",["./utils","rsvp/promise","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var bind=__dependency1__.bind;var merge=__dependency1__.merge;var serialize=__dependency1__.serialize;var promiseLabel=__dependency1__.promiseLabel;var applyHook=__dependency1__.applyHook;var Promise=__dependency2__["default"];function HandlerInfo(_props){var props=_props||{};merge(this,props);this.initialize(props)}HandlerInfo.prototype={name:null,handler:null,params:null,context:null,factory:null,initialize:function(){},log:function(payload,message){if(payload.log){payload.log(this.name+": "+message)}},promiseLabel:function(label){return promiseLabel("'"+this.name+"' "+label)},getUnresolved:function(){return this},serialize:function(){return this.params||{}},resolve:function(shouldContinue,payload){var checkForAbort=bind(this,this.checkForAbort,shouldContinue),beforeModel=bind(this,this.runBeforeModelHook,payload),model=bind(this,this.getModel,payload),afterModel=bind(this,this.runAfterModelHook,payload),becomeResolved=bind(this,this.becomeResolved,payload);return Promise.resolve(undefined,this.promiseLabel("Start handler")).then(checkForAbort,null,this.promiseLabel("Check for abort")).then(beforeModel,null,this.promiseLabel("Before model")).then(checkForAbort,null,this.promiseLabel("Check if aborted during 'beforeModel' hook")).then(model,null,this.promiseLabel("Model")).then(checkForAbort,null,this.promiseLabel("Check if aborted in 'model' hook")).then(afterModel,null,this.promiseLabel("After model")).then(checkForAbort,null,this.promiseLabel("Check if aborted in 'afterModel' hook")).then(becomeResolved,null,this.promiseLabel("Become resolved"))},runBeforeModelHook:function(payload){if(payload.trigger){payload.trigger(true,"willResolveModel",payload,this.handler)}return this.runSharedModelHook(payload,"beforeModel",[])},runAfterModelHook:function(payload,resolvedModel){var name=this.name;this.stashResolvedModel(payload,resolvedModel);return this.runSharedModelHook(payload,"afterModel",[resolvedModel]).then(function(){return payload.resolvedModels[name]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(payload,hookName,args){this.log(payload,"calling "+hookName+" hook");if(this.queryParams){args.push(this.queryParams)}args.push(payload);var result=applyHook(this.handler,hookName,args);if(result&&result.isTransition){result=null}return Promise.resolve(result,this.promiseLabel("Resolve value returned from one of the model hooks"))},getModel:null,checkForAbort:function(shouldContinue,promiseValue){return Promise.resolve(shouldContinue(),this.promiseLabel("Check for abort")).then(function(){return promiseValue},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(payload,resolvedModel){payload.resolvedModels=payload.resolvedModels||{};payload.resolvedModels[this.name]=resolvedModel},becomeResolved:function(payload,resolvedContext){var params=this.serialize(resolvedContext);if(payload){this.stashResolvedModel(payload,resolvedContext);payload.params=payload.params||{};payload.params[this.name]=params}return this.factory("resolved",{context:resolvedContext,name:this.name,handler:this.handler,params:params})},shouldSupercede:function(other){if(!other){return true}var contextsMatch=other.context===this.context;return other.name!==this.name||this.hasOwnProperty("context")&&!contextsMatch||this.hasOwnProperty("params")&&!paramsMatch(this.params,other.params)}};function paramsMatch(a,b){if(!a^!b){return false}if(!a){return true}for(var k in a){if(a.hasOwnProperty(k)&&a[k]!==b[k]){return false}}return true}__exports__["default"]=HandlerInfo});enifed("router/handler-info/factory",["router/handler-info/resolved-handler-info","router/handler-info/unresolved-handler-info-by-object","router/handler-info/unresolved-handler-info-by-param","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var ResolvedHandlerInfo=__dependency1__["default"];var UnresolvedHandlerInfoByObject=__dependency2__["default"];var UnresolvedHandlerInfoByParam=__dependency3__["default"];handlerInfoFactory.klasses={resolved:ResolvedHandlerInfo,param:UnresolvedHandlerInfoByParam,object:UnresolvedHandlerInfoByObject};function handlerInfoFactory(name,props){var Ctor=handlerInfoFactory.klasses[name],handlerInfo=new Ctor(props||{});handlerInfo.factory=handlerInfoFactory;return handlerInfo}__exports__["default"]=handlerInfoFactory});enifed("router/handler-info/resolved-handler-info",["../handler-info","router/utils","rsvp/promise","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var HandlerInfo=__dependency1__["default"];var subclass=__dependency2__.subclass;var promiseLabel=__dependency2__.promiseLabel;var Promise=__dependency3__["default"];var ResolvedHandlerInfo=subclass(HandlerInfo,{resolve:function(shouldContinue,payload){if(payload&&payload.resolvedModels){payload.resolvedModels[this.name]=this.context}return Promise.resolve(this,this.promiseLabel("Resolve"))},getUnresolved:function(){return this.factory("param",{name:this.name,handler:this.handler,params:this.params})},isResolved:true});__exports__["default"]=ResolvedHandlerInfo});enifed("router/handler-info/unresolved-handler-info-by-object",["../handler-info","router/utils","rsvp/promise","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var HandlerInfo=__dependency1__["default"];var merge=__dependency2__.merge;var subclass=__dependency2__.subclass;var promiseLabel=__dependency2__.promiseLabel;var isParam=__dependency2__.isParam;var Promise=__dependency3__["default"];var UnresolvedHandlerInfoByObject=subclass(HandlerInfo,{getModel:function(payload){this.log(payload,this.name+": resolving provided model");return Promise.resolve(this.context)},initialize:function(props){this.names=props.names||[];this.context=props.context},serialize:function(_model){var model=_model||this.context,names=this.names,handler=this.handler;var object={};if(isParam(model)){object[names[0]]=model;return object}if(handler.serialize){return handler.serialize(model,names)}if(names.length!==1){return}var name=names[0];if(/_id$/.test(name)){object[name]=model.id}else{object[name]=model}return object}});__exports__["default"]=UnresolvedHandlerInfoByObject});enifed("router/handler-info/unresolved-handler-info-by-param",["../handler-info","router/utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var HandlerInfo=__dependency1__["default"];var resolveHook=__dependency2__.resolveHook;var merge=__dependency2__.merge;var subclass=__dependency2__.subclass;var promiseLabel=__dependency2__.promiseLabel;var UnresolvedHandlerInfoByParam=subclass(HandlerInfo,{initialize:function(props){this.params=props.params||{}},getModel:function(payload){var fullParams=this.params;if(payload&&payload.queryParams){fullParams={};merge(fullParams,this.params);fullParams.queryParams=payload.queryParams}var handler=this.handler;var hookName=resolveHook(handler,"deserialize")||resolveHook(handler,"model");return this.runSharedModelHook(payload,hookName,[fullParams])}});__exports__["default"]=UnresolvedHandlerInfoByParam});enifed("router/router",["route-recognizer","rsvp/promise","./utils","./transition-state","./transition","./transition-intent/named-transition-intent","./transition-intent/url-transition-intent","./handler-info","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var RouteRecognizer=__dependency1__["default"];var Promise=__dependency2__["default"];var trigger=__dependency3__.trigger;var log=__dependency3__.log;var slice=__dependency3__.slice;var forEach=__dependency3__.forEach;var merge=__dependency3__.merge;var serialize=__dependency3__.serialize;var extractQueryParams=__dependency3__.extractQueryParams;var getChangelist=__dependency3__.getChangelist;var promiseLabel=__dependency3__.promiseLabel;var callHook=__dependency3__.callHook;var TransitionState=__dependency4__["default"];var logAbort=__dependency5__.logAbort;var Transition=__dependency5__.Transition;var TransitionAborted=__dependency5__.TransitionAborted;var NamedTransitionIntent=__dependency6__["default"];var URLTransitionIntent=__dependency7__["default"];var ResolvedHandlerInfo=__dependency8__.ResolvedHandlerInfo;var pop=Array.prototype.pop;function Router(){this.recognizer=new RouteRecognizer;this.reset()}function getTransitionByIntent(intent,isIntermediate){var wasTransitioning=!!this.activeTransition;var oldState=wasTransitioning?this.activeTransition.state:this.state;var newTransition;var newState=intent.applyToState(oldState,this.recognizer,this.getHandler,isIntermediate);var queryParamChangelist=getChangelist(oldState.queryParams,newState.queryParams);if(handlerInfosEqual(newState.handlerInfos,oldState.handlerInfos)){if(queryParamChangelist){newTransition=this.queryParamsTransition(queryParamChangelist,wasTransitioning,oldState,newState);if(newTransition){return newTransition}}return new Transition(this)}if(isIntermediate){setupContexts(this,newState);return}newTransition=new Transition(this,intent,newState);if(this.activeTransition){this.activeTransition.abort()}this.activeTransition=newTransition;newTransition.promise=newTransition.promise.then(function(result){return finalizeTransition(newTransition,result.state)},null,promiseLabel("Settle transition promise when transition is finalized"));if(!wasTransitioning){notifyExistingHandlers(this,newState,newTransition)}fireQueryParamDidChange(this,newState,queryParamChangelist);return newTransition}Router.prototype={map:function(callback){this.recognizer.delegate=this.delegate;this.recognizer.map(callback,function(recognizer,routes){for(var i=routes.length-1,proceed=true;i>=0&&proceed;--i){var route=routes[i];recognizer.add(routes,{as:route.handler});proceed=route.path==="/"||route.path===""||route.handler.slice(-6)===".index"}})},hasRoute:function(route){return this.recognizer.hasRoute(route)},queryParamsTransition:function(changelist,wasTransitioning,oldState,newState){var router=this;fireQueryParamDidChange(this,newState,changelist);if(!wasTransitioning&&this.activeTransition){return this.activeTransition}else{var newTransition=new Transition(this);newTransition.queryParamsOnly=true;oldState.queryParams=finalizeQueryParamChange(this,newState.handlerInfos,newState.queryParams,newTransition);newTransition.promise=newTransition.promise.then(function(result){updateURL(newTransition,oldState,true);if(router.didTransition){router.didTransition(router.currentHandlerInfos)}return result},null,promiseLabel("Transition complete"));return newTransition}},transitionByIntent:function(intent,isIntermediate){try{return getTransitionByIntent.apply(this,arguments)}catch(e){return new Transition(this,intent,null,e)}},reset:function(){if(this.state){forEach(this.state.handlerInfos.slice().reverse(),function(handlerInfo){var handler=handlerInfo.handler;callHook(handler,"exit")})}this.state=new TransitionState;this.currentHandlerInfos=null},activeTransition:null,handleURL:function(url){var args=slice.call(arguments);if(url.charAt(0)!=="/"){args[0]="/"+url}return doTransition(this,args).method(null)},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(url){this.updateURL(url)},transitionTo:function(name){return doTransition(this,arguments)},intermediateTransitionTo:function(name){return doTransition(this,arguments,true)},refresh:function(pivotHandler){var state=this.activeTransition?this.activeTransition.state:this.state;var handlerInfos=state.handlerInfos;var params={};for(var i=0,len=handlerInfos.length;i<len;++i){var handlerInfo=handlerInfos[i];params[handlerInfo.name]=handlerInfo.params||{}}log(this,"Starting a refresh transition");var intent=new NamedTransitionIntent({name:handlerInfos[handlerInfos.length-1].name,pivotHandler:pivotHandler||handlerInfos[0].handler,contexts:[],queryParams:this._changedQueryParams||state.queryParams||{}});return this.transitionByIntent(intent,false)},replaceWith:function(name){return doTransition(this,arguments).method("replace")},generate:function(handlerName){var partitionedArgs=extractQueryParams(slice.call(arguments,1)),suppliedParams=partitionedArgs[0],queryParams=partitionedArgs[1];var intent=new NamedTransitionIntent({name:handlerName,contexts:suppliedParams});var state=intent.applyToState(this.state,this.recognizer,this.getHandler);var params={};for(var i=0,len=state.handlerInfos.length;i<len;++i){var handlerInfo=state.handlerInfos[i];var handlerParams=handlerInfo.serialize();merge(params,handlerParams)}params.queryParams=queryParams;return this.recognizer.generate(handlerName,params)},applyIntent:function(handlerName,contexts){var intent=new NamedTransitionIntent({name:handlerName,contexts:contexts});var state=this.activeTransition&&this.activeTransition.state||this.state;return intent.applyToState(state,this.recognizer,this.getHandler)},isActiveIntent:function(handlerName,contexts,queryParams){var targetHandlerInfos=this.state.handlerInfos,found=false,names,object,handlerInfo,handlerObj,i,len;if(!targetHandlerInfos.length){return false}var targetHandler=targetHandlerInfos[targetHandlerInfos.length-1].name;var recogHandlers=this.recognizer.handlersFor(targetHandler);var index=0;for(len=recogHandlers.length;index<len;++index){handlerInfo=targetHandlerInfos[index];if(handlerInfo.name===handlerName){break}}if(index===recogHandlers.length){return false}var state=new TransitionState;state.handlerInfos=targetHandlerInfos.slice(0,index+1);recogHandlers=recogHandlers.slice(0,index+1);var intent=new NamedTransitionIntent({name:targetHandler,contexts:contexts});var newState=intent.applyToHandlers(state,recogHandlers,this.getHandler,targetHandler,true,true);var handlersEqual=handlerInfosEqual(newState.handlerInfos,state.handlerInfos);if(!queryParams||!handlersEqual){return handlersEqual}var activeQPsOnNewHandler={};merge(activeQPsOnNewHandler,queryParams);var activeQueryParams=this.state.queryParams;for(var key in activeQueryParams){if(activeQueryParams.hasOwnProperty(key)&&activeQPsOnNewHandler.hasOwnProperty(key)){activeQPsOnNewHandler[key]=activeQueryParams[key]}}return handlersEqual&&!getChangelist(activeQPsOnNewHandler,queryParams)},isActive:function(handlerName){var partitionedArgs=extractQueryParams(slice.call(arguments,1));return this.isActiveIntent(handlerName,partitionedArgs[0],partitionedArgs[1])},trigger:function(name){var args=slice.call(arguments);trigger(this,this.currentHandlerInfos,false,args)},log:null,_willChangeContextEvent:"willChangeContext",_triggerWillChangeContext:function(handlerInfos,newTransition){trigger(this,handlerInfos,true,[this._willChangeContextEvent,newTransition])},_triggerWillLeave:function(handlerInfos,newTransition,leavingChecker){trigger(this,handlerInfos,true,["willLeave",newTransition,leavingChecker])}};function fireQueryParamDidChange(router,newState,queryParamChangelist){if(queryParamChangelist){router._changedQueryParams=queryParamChangelist.all;trigger(router,newState.handlerInfos,true,["queryParamsDidChange",queryParamChangelist.changed,queryParamChangelist.all,queryParamChangelist.removed]);
router._changedQueryParams=null}}function setupContexts(router,newState,transition){var partition=partitionHandlers(router.state,newState);forEach(partition.exited,function(handlerInfo){var handler=handlerInfo.handler;delete handler.context;callHook(handler,"reset",true,transition);callHook(handler,"exit",transition)});var oldState=router.oldState=router.state;router.state=newState;var currentHandlerInfos=router.currentHandlerInfos=partition.unchanged.slice();try{forEach(partition.reset,function(handlerInfo){var handler=handlerInfo.handler;callHook(handler,"reset",false,transition)});forEach(partition.updatedContext,function(handlerInfo){return handlerEnteredOrUpdated(currentHandlerInfos,handlerInfo,false,transition)});forEach(partition.entered,function(handlerInfo){return handlerEnteredOrUpdated(currentHandlerInfos,handlerInfo,true,transition)})}catch(e){router.state=oldState;router.currentHandlerInfos=oldState.handlerInfos;throw e}router.state.queryParams=finalizeQueryParamChange(router,currentHandlerInfos,newState.queryParams,transition)}function handlerEnteredOrUpdated(currentHandlerInfos,handlerInfo,enter,transition){var handler=handlerInfo.handler,context=handlerInfo.context;if(enter){callHook(handler,"enter",transition)}if(transition&&transition.isAborted){throw new TransitionAborted}handler.context=context;callHook(handler,"contextDidChange");callHook(handler,"setup",context,transition);if(transition&&transition.isAborted){throw new TransitionAborted}currentHandlerInfos.push(handlerInfo);return true}function partitionHandlers(oldState,newState){var oldHandlers=oldState.handlerInfos;var newHandlers=newState.handlerInfos;var handlers={updatedContext:[],exited:[],entered:[],unchanged:[]};var handlerChanged,contextChanged=false,i,l;for(i=0,l=newHandlers.length;i<l;i++){var oldHandler=oldHandlers[i],newHandler=newHandlers[i];if(!oldHandler||oldHandler.handler!==newHandler.handler){handlerChanged=true}if(handlerChanged){handlers.entered.push(newHandler);if(oldHandler){handlers.exited.unshift(oldHandler)}}else if(contextChanged||oldHandler.context!==newHandler.context){contextChanged=true;handlers.updatedContext.push(newHandler)}else{handlers.unchanged.push(oldHandler)}}for(i=newHandlers.length,l=oldHandlers.length;i<l;i++){handlers.exited.unshift(oldHandlers[i])}handlers.reset=handlers.updatedContext.slice();handlers.reset.reverse();return handlers}function updateURL(transition,state,inputUrl){var urlMethod=transition.urlMethod;if(!urlMethod){return}var router=transition.router,handlerInfos=state.handlerInfos,handlerName=handlerInfos[handlerInfos.length-1].name,params={};for(var i=handlerInfos.length-1;i>=0;--i){var handlerInfo=handlerInfos[i];merge(params,handlerInfo.params);if(handlerInfo.handler.inaccessibleByURL){urlMethod=null}}if(urlMethod){params.queryParams=transition._visibleQueryParams||state.queryParams;var url=router.recognizer.generate(handlerName,params);if(urlMethod==="replace"){router.replaceURL(url)}else{router.updateURL(url)}}}function finalizeTransition(transition,newState){try{log(transition.router,transition.sequence,"Resolved all models on destination route; finalizing transition.");var router=transition.router,handlerInfos=newState.handlerInfos,seq=transition.sequence;setupContexts(router,newState,transition);if(transition.isAborted){router.state.handlerInfos=router.currentHandlerInfos;return Promise.reject(logAbort(transition))}updateURL(transition,newState,transition.intent.url);transition.isActive=false;router.activeTransition=null;trigger(router,router.currentHandlerInfos,true,["didTransition"]);if(router.didTransition){router.didTransition(router.currentHandlerInfos)}log(router,transition.sequence,"TRANSITION COMPLETE.");return handlerInfos[handlerInfos.length-1].handler}catch(e){if(!(e instanceof TransitionAborted)){var infos=transition.state.handlerInfos;transition.trigger(true,"error",e,transition,infos[infos.length-1].handler);transition.abort()}throw e}}function doTransition(router,args,isIntermediate){var name=args[0]||"/";var lastArg=args[args.length-1];var queryParams={};if(lastArg&&lastArg.hasOwnProperty("queryParams")){queryParams=pop.call(args).queryParams}var intent;if(args.length===0){log(router,"Updating query params");var handlerInfos=router.state.handlerInfos;intent=new NamedTransitionIntent({name:handlerInfos[handlerInfos.length-1].name,contexts:[],queryParams:queryParams})}else if(name.charAt(0)==="/"){log(router,"Attempting URL transition to "+name);intent=new URLTransitionIntent({url:name})}else{log(router,"Attempting transition to "+name);intent=new NamedTransitionIntent({name:args[0],contexts:slice.call(args,1),queryParams:queryParams})}return router.transitionByIntent(intent,isIntermediate)}function handlerInfosEqual(handlerInfos,otherHandlerInfos){if(handlerInfos.length!==otherHandlerInfos.length){return false}for(var i=0,len=handlerInfos.length;i<len;++i){if(handlerInfos[i]!==otherHandlerInfos[i]){return false}}return true}function finalizeQueryParamChange(router,resolvedHandlers,newQueryParams,transition){for(var k in newQueryParams){if(newQueryParams.hasOwnProperty(k)&&newQueryParams[k]===null){delete newQueryParams[k]}}var finalQueryParamsArray=[];trigger(router,resolvedHandlers,true,["finalizeQueryParamChange",newQueryParams,finalQueryParamsArray,transition]);if(transition){transition._visibleQueryParams={}}var finalQueryParams={};for(var i=0,len=finalQueryParamsArray.length;i<len;++i){var qp=finalQueryParamsArray[i];finalQueryParams[qp.key]=qp.value;if(transition&&qp.visible!==false){transition._visibleQueryParams[qp.key]=qp.value}}return finalQueryParams}function notifyExistingHandlers(router,newState,newTransition){var oldHandlers=router.state.handlerInfos,changing=[],leavingIndex=null,leaving,leavingChecker,i,oldHandlerLen,oldHandler,newHandler;oldHandlerLen=oldHandlers.length;for(i=0;i<oldHandlerLen;i++){oldHandler=oldHandlers[i];newHandler=newState.handlerInfos[i];if(!newHandler||oldHandler.name!==newHandler.name){leavingIndex=i;break}if(!newHandler.isResolved){changing.push(oldHandler)}}if(leavingIndex!==null){leaving=oldHandlers.slice(leavingIndex,oldHandlerLen);leavingChecker=function(name){for(var h=0,len=leaving.length;h<len;h++){if(leaving[h].name===name){return true}}return false};router._triggerWillLeave(leaving,newTransition,leavingChecker)}if(changing.length>0){router._triggerWillChangeContext(changing,newTransition)}trigger(router,oldHandlers,true,["willTransition",newTransition])}__exports__["default"]=Router});enifed("router/transition-intent",["./utils","exports"],function(__dependency1__,__exports__){"use strict";var merge=__dependency1__.merge;function TransitionIntent(props){this.initialize(props);this.data=this.data||{}}TransitionIntent.prototype={initialize:null,applyToState:null};__exports__["default"]=TransitionIntent});enifed("router/transition-intent/named-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var TransitionIntent=__dependency1__["default"];var TransitionState=__dependency2__["default"];var handlerInfoFactory=__dependency3__["default"];var isParam=__dependency4__.isParam;var extractQueryParams=__dependency4__.extractQueryParams;var merge=__dependency4__.merge;var subclass=__dependency4__.subclass;__exports__["default"]=subclass(TransitionIntent,{name:null,pivotHandler:null,contexts:null,queryParams:null,initialize:function(props){this.name=props.name;this.pivotHandler=props.pivotHandler;this.contexts=props.contexts||[];this.queryParams=props.queryParams},applyToState:function(oldState,recognizer,getHandler,isIntermediate){var partitionedArgs=extractQueryParams([this.name].concat(this.contexts)),pureArgs=partitionedArgs[0],queryParams=partitionedArgs[1],handlers=recognizer.handlersFor(pureArgs[0]);var targetRouteName=handlers[handlers.length-1].handler;return this.applyToHandlers(oldState,handlers,getHandler,targetRouteName,isIntermediate)},applyToHandlers:function(oldState,handlers,getHandler,targetRouteName,isIntermediate,checkingIfActive){var i,len;var newState=new TransitionState;var objects=this.contexts.slice(0);var invalidateIndex=handlers.length;if(this.pivotHandler){for(i=0,len=handlers.length;i<len;++i){if(getHandler(handlers[i].handler)===this.pivotHandler){invalidateIndex=i;break}}}var pivotHandlerFound=!this.pivotHandler;for(i=handlers.length-1;i>=0;--i){var result=handlers[i];var name=result.handler;var handler=getHandler(name);var oldHandlerInfo=oldState.handlerInfos[i];var newHandlerInfo=null;if(result.names.length>0){if(i>=invalidateIndex){newHandlerInfo=this.createParamHandlerInfo(name,handler,result.names,objects,oldHandlerInfo)}else{newHandlerInfo=this.getHandlerInfoForDynamicSegment(name,handler,result.names,objects,oldHandlerInfo,targetRouteName,i)}}else{newHandlerInfo=this.createParamHandlerInfo(name,handler,result.names,objects,oldHandlerInfo)}if(checkingIfActive){newHandlerInfo=newHandlerInfo.becomeResolved(null,newHandlerInfo.context);var oldContext=oldHandlerInfo&&oldHandlerInfo.context;if(result.names.length>0&&newHandlerInfo.context===oldContext){newHandlerInfo.params=oldHandlerInfo&&oldHandlerInfo.params}newHandlerInfo.context=oldContext}var handlerToUse=oldHandlerInfo;if(i>=invalidateIndex||newHandlerInfo.shouldSupercede(oldHandlerInfo)){invalidateIndex=Math.min(i,invalidateIndex);handlerToUse=newHandlerInfo}if(isIntermediate&&!checkingIfActive){handlerToUse=handlerToUse.becomeResolved(null,handlerToUse.context)}newState.handlerInfos.unshift(handlerToUse)}if(objects.length>0){throw new Error("More context objects were passed than there are dynamic segments for the route: "+targetRouteName)}if(!isIntermediate){this.invalidateChildren(newState.handlerInfos,invalidateIndex)}merge(newState.queryParams,this.queryParams||{});return newState},invalidateChildren:function(handlerInfos,invalidateIndex){for(var i=invalidateIndex,l=handlerInfos.length;i<l;++i){var handlerInfo=handlerInfos[i];handlerInfos[i]=handlerInfos[i].getUnresolved()}},getHandlerInfoForDynamicSegment:function(name,handler,names,objects,oldHandlerInfo,targetRouteName,i){var numNames=names.length;var objectToUse;if(objects.length>0){objectToUse=objects[objects.length-1];if(isParam(objectToUse)){return this.createParamHandlerInfo(name,handler,names,objects,oldHandlerInfo)}else{objects.pop()}}else if(oldHandlerInfo&&oldHandlerInfo.name===name){return oldHandlerInfo}else{if(this.preTransitionState){var preTransitionHandlerInfo=this.preTransitionState.handlerInfos[i];objectToUse=preTransitionHandlerInfo&&preTransitionHandlerInfo.context}else{return oldHandlerInfo}}return handlerInfoFactory("object",{name:name,handler:handler,context:objectToUse,names:names})},createParamHandlerInfo:function(name,handler,names,objects,oldHandlerInfo){var params={};var numNames=names.length;while(numNames--){var oldParams=oldHandlerInfo&&name===oldHandlerInfo.name&&oldHandlerInfo.params||{};var peek=objects[objects.length-1];var paramName=names[numNames];if(isParam(peek)){params[paramName]=""+objects.pop()}else{if(oldParams.hasOwnProperty(paramName)){params[paramName]=oldParams[paramName]}else{throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+name)}}}return handlerInfoFactory("param",{name:name,handler:handler,params:params})}})});enifed("router/transition-intent/url-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var TransitionIntent=__dependency1__["default"];var TransitionState=__dependency2__["default"];var handlerInfoFactory=__dependency3__["default"];var oCreate=__dependency4__.oCreate;var merge=__dependency4__.merge;var subclass=__dependency4__.subclass;__exports__["default"]=subclass(TransitionIntent,{url:null,initialize:function(props){this.url=props.url},applyToState:function(oldState,recognizer,getHandler){var newState=new TransitionState;var results=recognizer.recognize(this.url),queryParams={},i,len;if(!results){throw new UnrecognizedURLError(this.url)}var statesDiffer=false;for(i=0,len=results.length;i<len;++i){var result=results[i];var name=result.handler;var handler=getHandler(name);if(handler.inaccessibleByURL){throw new UnrecognizedURLError(this.url)}var newHandlerInfo=handlerInfoFactory("param",{name:name,handler:handler,params:result.params});var oldHandlerInfo=oldState.handlerInfos[i];if(statesDiffer||newHandlerInfo.shouldSupercede(oldHandlerInfo)){statesDiffer=true;newState.handlerInfos[i]=newHandlerInfo}else{newState.handlerInfos[i]=oldHandlerInfo}}merge(newState.queryParams,results.queryParams);return newState}});function UnrecognizedURLError(message){this.message=message||"UnrecognizedURLError";this.name="UnrecognizedURLError"}});enifed("router/transition-state",["./handler-info","./utils","rsvp/promise","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var ResolvedHandlerInfo=__dependency1__.ResolvedHandlerInfo;var forEach=__dependency2__.forEach;var promiseLabel=__dependency2__.promiseLabel;var callHook=__dependency2__.callHook;var Promise=__dependency3__["default"];function TransitionState(other){this.handlerInfos=[];this.queryParams={};this.params={}}TransitionState.prototype={handlerInfos:null,queryParams:null,params:null,promiseLabel:function(label){var targetName="";forEach(this.handlerInfos,function(handlerInfo){if(targetName!==""){targetName+="."}targetName+=handlerInfo.name});return promiseLabel("'"+targetName+"': "+label)},resolve:function(shouldContinue,payload){var self=this;var params=this.params;forEach(this.handlerInfos,function(handlerInfo){params[handlerInfo.name]=handlerInfo.params||{}});payload=payload||{};payload.resolveIndex=0;var currentState=this;var wasAborted=false;return Promise.resolve(null,this.promiseLabel("Start transition")).then(resolveOneHandlerInfo,null,this.promiseLabel("Resolve handler"))["catch"](handleError,this.promiseLabel("Handle error"));function innerShouldContinue(){return Promise.resolve(shouldContinue(),currentState.promiseLabel("Check if should continue"))["catch"](function(reason){wasAborted=true;return Promise.reject(reason)},currentState.promiseLabel("Handle abort"))}function handleError(error){var handlerInfos=currentState.handlerInfos;var errorHandlerIndex=payload.resolveIndex>=handlerInfos.length?handlerInfos.length-1:payload.resolveIndex;return Promise.reject({error:error,handlerWithError:currentState.handlerInfos[errorHandlerIndex].handler,wasAborted:wasAborted,state:currentState})}function proceed(resolvedHandlerInfo){var wasAlreadyResolved=currentState.handlerInfos[payload.resolveIndex].isResolved;currentState.handlerInfos[payload.resolveIndex++]=resolvedHandlerInfo;if(!wasAlreadyResolved){var handler=resolvedHandlerInfo.handler;callHook(handler,"redirect",resolvedHandlerInfo.context,payload)}return innerShouldContinue().then(resolveOneHandlerInfo,null,currentState.promiseLabel("Resolve handler"))}function resolveOneHandlerInfo(){if(payload.resolveIndex===currentState.handlerInfos.length){return{error:null,state:currentState}}var handlerInfo=currentState.handlerInfos[payload.resolveIndex];return handlerInfo.resolve(innerShouldContinue,payload).then(proceed,null,currentState.promiseLabel("Proceed"))}}};__exports__["default"]=TransitionState});enifed("router/transition",["rsvp/promise","./handler-info","./utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Promise=__dependency1__["default"];var ResolvedHandlerInfo=__dependency2__.ResolvedHandlerInfo;var trigger=__dependency3__.trigger;var slice=__dependency3__.slice;var log=__dependency3__.log;var promiseLabel=__dependency3__.promiseLabel;function Transition(router,intent,state,error){var transition=this;this.state=state||router.state;this.intent=intent;this.router=router;this.data=this.intent&&this.intent.data||{};this.resolvedModels={};this.queryParams={};if(error){this.promise=Promise.reject(error);return}if(state){this.params=state.params;this.queryParams=state.queryParams;this.handlerInfos=state.handlerInfos;var len=state.handlerInfos.length;if(len){this.targetName=state.handlerInfos[len-1].name}for(var i=0;i<len;++i){var handlerInfo=state.handlerInfos[i];if(!handlerInfo.isResolved){break}this.pivotHandler=handlerInfo.handler}this.sequence=Transition.currentSequence++;this.promise=state.resolve(checkForAbort,this)["catch"](function(result){if(result.wasAborted||transition.isAborted){return Promise.reject(logAbort(transition))}else{transition.trigger("error",result.error,transition,result.handlerWithError);transition.abort();return Promise.reject(result.error)}},promiseLabel("Handle Abort"))}else{this.promise=Promise.resolve(this.state);this.params={}}function checkForAbort(){if(transition.isAborted){return Promise.reject(undefined,promiseLabel("Transition aborted - reject"))}}}Transition.currentSequence=0;Transition.prototype={targetName:null,urlMethod:"update",intent:null,params:null,pivotHandler:null,resolveIndex:0,handlerInfos:null,resolvedModels:null,isActive:true,state:null,queryParamsOnly:false,isTransition:true,isExiting:function(handler){var handlerInfos=this.handlerInfos;for(var i=0,len=handlerInfos.length;i<len;++i){var handlerInfo=handlerInfos[i];if(handlerInfo.name===handler||handlerInfo.handler===handler){return false}}return true},promise:null,data:null,then:function(onFulfilled,onRejected,label){return this.promise.then(onFulfilled,onRejected,label)},"catch":function(onRejection,label){return this.promise["catch"](onRejection,label)},"finally":function(callback,label){return this.promise["finally"](callback,label)},abort:function(){if(this.isAborted){return this}log(this.router,this.sequence,this.targetName+": transition was aborted");this.intent.preTransitionState=this.router.state;this.isAborted=true;this.isActive=false;this.router.activeTransition=null;return this},retry:function(){this.abort();return this.router.transitionByIntent(this.intent,false)},method:function(method){this.urlMethod=method;return this},trigger:function(ignoreFailure){var args=slice.call(arguments);if(typeof ignoreFailure==="boolean"){args.shift()}else{ignoreFailure=false}trigger(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),ignoreFailure,args)},followRedirects:function(){var router=this.router;return this.promise["catch"](function(reason){if(router.activeTransition){return router.activeTransition.followRedirects()}return Promise.reject(reason)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(message){log(this.router,this.sequence,message)}};Transition.prototype.send=Transition.prototype.trigger;function logAbort(transition){log(transition.router,transition.sequence,"detected abort.");return new TransitionAborted}function TransitionAborted(message){this.message=message||"TransitionAborted";this.name="TransitionAborted"}__exports__.Transition=Transition;__exports__.logAbort=logAbort;__exports__.TransitionAborted=TransitionAborted});enifed("router/utils",["exports"],function(__exports__){"use strict";var slice=Array.prototype.slice;var _isArray;if(!Array.isArray){_isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}}else{_isArray=Array.isArray}var isArray=_isArray;__exports__.isArray=isArray;function merge(hash,other){for(var prop in other){if(other.hasOwnProperty(prop)){hash[prop]=other[prop]}}}var oCreate=Object.create||function(proto){function F(){}F.prototype=proto;return new F};__exports__.oCreate=oCreate;function extractQueryParams(array){var len=array&&array.length,head,queryParams;if(len&&len>0&&array[len-1]&&array[len-1].hasOwnProperty("queryParams")){queryParams=array[len-1].queryParams;head=slice.call(array,0,len-1);return[head,queryParams]}else{return[array,null]}}__exports__.extractQueryParams=extractQueryParams;function coerceQueryParamsToString(queryParams){for(var key in queryParams){if(typeof queryParams[key]==="number"){queryParams[key]=""+queryParams[key]}else if(isArray(queryParams[key])){for(var i=0,l=queryParams[key].length;i<l;i++){queryParams[key][i]=""+queryParams[key][i]}}}}function log(router,sequence,msg){if(!router.log){return}if(arguments.length===3){router.log("Transition #"+sequence+": "+msg)}else{msg=sequence;router.log(msg)}}__exports__.log=log;function bind(context,fn){var boundArgs=arguments;return function(value){var args=slice.call(boundArgs,2);args.push(value);return fn.apply(context,args)}}__exports__.bind=bind;function isParam(object){return typeof object==="string"||object instanceof String||typeof object==="number"||object instanceof Number}function forEach(array,callback){for(var i=0,l=array.length;i<l&&false!==callback(array[i]);i++){}}__exports__.forEach=forEach;function trigger(router,handlerInfos,ignoreFailure,args){if(router.triggerEvent){router.triggerEvent(handlerInfos,ignoreFailure,args);return}var name=args.shift();if(!handlerInfos){if(ignoreFailure){return}throw new Error("Could not trigger event '"+name+"'. There are no active handlers")}var eventWasHandled=false;for(var i=handlerInfos.length-1;i>=0;i--){var handlerInfo=handlerInfos[i],handler=handlerInfo.handler;if(handler.events&&handler.events[name]){if(handler.events[name].apply(handler,args)===true){eventWasHandled=true}else{return}}}if(!eventWasHandled&&!ignoreFailure){throw new Error("Nothing handled the event '"+name+"'.")}}__exports__.trigger=trigger;function getChangelist(oldObject,newObject){var key;var results={all:{},changed:{},removed:{}};merge(results.all,newObject);var didChange=false;coerceQueryParamsToString(oldObject);coerceQueryParamsToString(newObject);for(key in oldObject){if(oldObject.hasOwnProperty(key)){if(!newObject.hasOwnProperty(key)){didChange=true;results.removed[key]=oldObject[key]}}}for(key in newObject){if(newObject.hasOwnProperty(key)){if(isArray(oldObject[key])&&isArray(newObject[key])){if(oldObject[key].length!==newObject[key].length){results.changed[key]=newObject[key];didChange=true}else{for(var i=0,l=oldObject[key].length;i<l;i++){if(oldObject[key][i]!==newObject[key][i]){results.changed[key]=newObject[key];didChange=true}}}}else{if(oldObject[key]!==newObject[key]){results.changed[key]=newObject[key];didChange=true}}}}return didChange&&results}__exports__.getChangelist=getChangelist;function promiseLabel(label){return"Router: "+label}__exports__.promiseLabel=promiseLabel;function subclass(parentConstructor,proto){function C(props){parentConstructor.call(this,props||{})}C.prototype=oCreate(parentConstructor.prototype);merge(C.prototype,proto);return C}__exports__.subclass=subclass;function resolveHook(obj,hookName){if(!obj){return}var underscored="_"+hookName;return obj[underscored]&&underscored||obj[hookName]&&hookName}function callHook(obj,hookName){var args=slice.call(arguments,2);return applyHook(obj,hookName,args)}function applyHook(obj,_hookName,args){var hookName=resolveHook(obj,_hookName);if(hookName){return obj[hookName].apply(obj,args)}}__exports__.merge=merge;__exports__.slice=slice;__exports__.isParam=isParam;__exports__.coerceQueryParamsToString=coerceQueryParamsToString;__exports__.callHook=callHook;__exports__.resolveHook=resolveHook;__exports__.applyHook=applyHook});enifed("rsvp",["./rsvp/promise","./rsvp/events","./rsvp/node","./rsvp/all","./rsvp/all-settled","./rsvp/race","./rsvp/hash","./rsvp/hash-settled","./rsvp/rethrow","./rsvp/defer","./rsvp/config","./rsvp/map","./rsvp/resolve","./rsvp/reject","./rsvp/filter","./rsvp/asap","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__exports__){"use strict";var Promise=__dependency1__["default"];var EventTarget=__dependency2__["default"];var denodeify=__dependency3__["default"];var all=__dependency4__["default"];var allSettled=__dependency5__["default"];var race=__dependency6__["default"];var hash=__dependency7__["default"];var hashSettled=__dependency8__["default"];var rethrow=__dependency9__["default"];var defer=__dependency10__["default"];var config=__dependency11__.config;var configure=__dependency11__.configure;var map=__dependency12__["default"];var resolve=__dependency13__["default"];var reject=__dependency14__["default"];var filter=__dependency15__["default"];var asap=__dependency16__["default"];config.async=asap;var cast=resolve;function async(callback,arg){config.async(callback,arg)}function on(){config.on.apply(config,arguments)}function off(){config.off.apply(config,arguments)}if(typeof window!=="undefined"&&typeof window["__PROMISE_INSTRUMENTATION__"]==="object"){var callbacks=window["__PROMISE_INSTRUMENTATION__"];configure("instrument",true);for(var eventName in callbacks){if(callbacks.hasOwnProperty(eventName)){on(eventName,callbacks[eventName])}}}__exports__.cast=cast;__exports__.Promise=Promise;__exports__.EventTarget=EventTarget;__exports__.all=all;__exports__.allSettled=allSettled;__exports__.race=race;__exports__.hash=hash;__exports__.hashSettled=hashSettled;__exports__.rethrow=rethrow;__exports__.defer=defer;__exports__.denodeify=denodeify;__exports__.configure=configure;__exports__.on=on;__exports__.off=off;__exports__.resolve=resolve;__exports__.reject=reject;__exports__.async=async;__exports__.map=map;__exports__.filter=filter});enifed("rsvp.umd",["./rsvp"],function(__dependency1__){"use strict";var Promise=__dependency1__.Promise;var allSettled=__dependency1__.allSettled;var hash=__dependency1__.hash;var hashSettled=__dependency1__.hashSettled;var denodeify=__dependency1__.denodeify;var on=__dependency1__.on;var off=__dependency1__.off;var map=__dependency1__.map;var filter=__dependency1__.filter;var resolve=__dependency1__.resolve;var reject=__dependency1__.reject;var rethrow=__dependency1__.rethrow;var all=__dependency1__.all;var defer=__dependency1__.defer;var EventTarget=__dependency1__.EventTarget;var configure=__dependency1__.configure;var race=__dependency1__.race;var async=__dependency1__.async;var RSVP={race:race,Promise:Promise,allSettled:allSettled,hash:hash,hashSettled:hashSettled,denodeify:denodeify,on:on,off:off,map:map,filter:filter,resolve:resolve,reject:reject,all:all,rethrow:rethrow,defer:defer,EventTarget:EventTarget,configure:configure,async:async};if(typeof enifed==="function"&&enifed["amd"]){enifed(function(){return RSVP})}else if(typeof module!=="undefined"&&module["exports"]){module["exports"]=RSVP}else if(typeof this!=="undefined"){this["RSVP"]=RSVP}});enifed("rsvp/-internal",["./utils","./instrument","./config","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var objectOrFunction=__dependency1__.objectOrFunction;var isFunction=__dependency1__.isFunction;var instrument=__dependency2__["default"];var config=__dependency3__.config;function withOwnPromise(){return new TypeError("A promises callback cannot return that same promise.")}function noop(){}var PENDING=void 0;var FULFILLED=1;var REJECTED=2;var GET_THEN_ERROR=new ErrorObject;function getThen(promise){try{return promise.then}catch(error){GET_THEN_ERROR.error=error;return GET_THEN_ERROR}}function tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function handleForeignThenable(promise,thenable,then){config.async(function(promise){var sealed=false;var error=tryThen(then,thenable,function(value){if(sealed){return}sealed=true;if(thenable!==value){resolve(promise,value)}else{fulfill(promise,value)}},function(reason){if(sealed){return}sealed=true;reject(promise,reason)},"Settle: "+(promise._label||" unknown promise"));if(!sealed&&error){sealed=true;reject(promise,error)}},promise)}function handleOwnThenable(promise,thenable){if(thenable._state===FULFILLED){fulfill(promise,thenable._result)}else if(promise._state===REJECTED){reject(promise,thenable._result)}else{subscribe(thenable,undefined,function(value){if(thenable!==value){resolve(promise,value)}else{fulfill(promise,value)}},function(reason){reject(promise,reason)})}}function handleMaybeThenable(promise,maybeThenable){if(maybeThenable.constructor===promise.constructor){handleOwnThenable(promise,maybeThenable)}else{var then=getThen(maybeThenable);if(then===GET_THEN_ERROR){reject(promise,GET_THEN_ERROR.error)}else if(then===undefined){fulfill(promise,maybeThenable)}else if(isFunction(then)){handleForeignThenable(promise,maybeThenable,then)}else{fulfill(promise,maybeThenable)}}}function resolve(promise,value){if(promise===value){fulfill(promise,value)}else if(objectOrFunction(value)){handleMaybeThenable(promise,value)}else{fulfill(promise,value)}}function publishRejection(promise){if(promise._onerror){promise._onerror(promise._result)}publish(promise)}function fulfill(promise,value){if(promise._state!==PENDING){return}promise._result=value;promise._state=FULFILLED;if(promise._subscribers.length===0){if(config.instrument){instrument("fulfilled",promise)}}else{config.async(publish,promise)}}function reject(promise,reason){if(promise._state!==PENDING){return}promise._state=REJECTED;promise._result=reason;config.async(publishRejection,promise)}function subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers;var length=subscribers.length;parent._onerror=null;subscribers[length]=child;subscribers[length+FULFILLED]=onFulfillment;subscribers[length+REJECTED]=onRejection;if(length===0&&parent._state){config.async(publish,parent)}}function publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(config.instrument){instrument(settled===FULFILLED?"fulfilled":"rejected",promise)}if(subscribers.length===0){return}var child,callback,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){invokeCallback(settled,child,callback,detail)}else{callback(detail)}}promise._subscribers.length=0}function ErrorObject(){this.error=null}var TRY_CATCH_ERROR=new ErrorObject;function tryCatch(callback,detail){try{return callback(detail)}catch(e){TRY_CATCH_ERROR.error=e;return TRY_CATCH_ERROR}}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value,error,succeeded,failed;if(hasCallback){value=tryCatch(callback,detail);if(value===TRY_CATCH_ERROR){failed=true;error=value.error;value=null}else{succeeded=true}if(promise===value){reject(promise,withOwnPromise());return}}else{value=detail;succeeded=true}if(promise._state!==PENDING){}else if(hasCallback&&succeeded){resolve(promise,value)}else if(failed){reject(promise,error)}else if(settled===FULFILLED){fulfill(promise,value)}else if(settled===REJECTED){reject(promise,value)}}function initializePromise(promise,resolver){try{resolver(function resolvePromise(value){resolve(promise,value)},function rejectPromise(reason){reject(promise,reason)})}catch(e){reject(promise,e)}}__exports__.noop=noop;__exports__.resolve=resolve;__exports__.reject=reject;__exports__.fulfill=fulfill;__exports__.subscribe=subscribe;__exports__.publish=publish;__exports__.publishRejection=publishRejection;__exports__.initializePromise=initializePromise;__exports__.invokeCallback=invokeCallback;__exports__.FULFILLED=FULFILLED;__exports__.REJECTED=REJECTED;__exports__.PENDING=PENDING});enifed("rsvp/all-settled",["./enumerator","./promise","./utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Enumerator=__dependency1__["default"];var makeSettledResult=__dependency1__.makeSettledResult;var Promise=__dependency2__["default"];var o_create=__dependency3__.o_create;function AllSettled(Constructor,entries,label){this._superConstructor(Constructor,entries,false,label)
}AllSettled.prototype=o_create(Enumerator.prototype);AllSettled.prototype._superConstructor=Enumerator;AllSettled.prototype._makeResult=makeSettledResult;AllSettled.prototype._validationError=function(){return new Error("allSettled must be called with an array")};__exports__["default"]=function allSettled(entries,label){return new AllSettled(Promise,entries,label).promise}});enifed("rsvp/all",["./promise","exports"],function(__dependency1__,__exports__){"use strict";var Promise=__dependency1__["default"];__exports__["default"]=function all(array,label){return Promise.all(array,label)}});enifed("rsvp/asap",["exports"],function(__exports__){"use strict";var len=0;__exports__["default"]=function asap(callback,arg){queue[len]=callback;queue[len+1]=arg;len+=2;if(len===2){scheduleFlush()}};var browserWindow=typeof window!=="undefined"?window:undefined;var browserGlobal=browserWindow||{};var BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver;var isWorker=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function useNextTick(){return function(){process.nextTick(flush)}}function useVertxTimer(){return function(){vertxNext(flush)}}function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode("");observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2}}function useMessageChannel(){var channel=new MessageChannel;channel.port1.onmessage=flush;return function(){channel.port2.postMessage(0)}}function useSetTimeout(){return function(){setTimeout(flush,1)}}var queue=new Array(1e3);function flush(){for(var i=0;i<len;i+=2){var callback=queue[i];var arg=queue[i+1];callback(arg);queue[i]=undefined;queue[i+1]=undefined}len=0}function attemptVertex(){try{var vertx=eriuqer("vertx");var vertxNext=vertx.runOnLoop||vertx.runOnContext;return useVertxTimer()}catch(e){return useSetTimeout()}}var scheduleFlush;if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){scheduleFlush=useNextTick()}else if(BrowserMutationObserver){scheduleFlush=useMutationObserver()}else if(isWorker){scheduleFlush=useMessageChannel()}else if(browserWindow===undefined&&typeof eriuqer==="function"){scheduleFlush=attemptVertex()}else{scheduleFlush=useSetTimeout()}});enifed("rsvp/config",["./events","exports"],function(__dependency1__,__exports__){"use strict";var EventTarget=__dependency1__["default"];var config={instrument:false};EventTarget.mixin(config);function configure(name,value){if(name==="onerror"){config.on("error",value);return}if(arguments.length===2){config[name]=value}else{return config[name]}}__exports__.config=config;__exports__.configure=configure});enifed("rsvp/defer",["./promise","exports"],function(__dependency1__,__exports__){"use strict";var Promise=__dependency1__["default"];__exports__["default"]=function defer(label){var deferred={};deferred["promise"]=new Promise(function(resolve,reject){deferred["resolve"]=resolve;deferred["reject"]=reject},label);return deferred}});enifed("rsvp/enumerator",["./utils","./-internal","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var isArray=__dependency1__.isArray;var isMaybeThenable=__dependency1__.isMaybeThenable;var noop=__dependency2__.noop;var reject=__dependency2__.reject;var fulfill=__dependency2__.fulfill;var subscribe=__dependency2__.subscribe;var FULFILLED=__dependency2__.FULFILLED;var REJECTED=__dependency2__.REJECTED;var PENDING=__dependency2__.PENDING;function makeSettledResult(state,position,value){if(state===FULFILLED){return{state:"fulfilled",value:value}}else{return{state:"rejected",reason:value}}}__exports__.makeSettledResult=makeSettledResult;function Enumerator(Constructor,input,abortOnReject,label){this._instanceConstructor=Constructor;this.promise=new Constructor(noop,label);this._abortOnReject=abortOnReject;if(this._validateInput(input)){this._input=input;this.length=input.length;this._remaining=input.length;this._init();if(this.length===0){fulfill(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){fulfill(this.promise,this._result)}}}else{reject(this.promise,this._validationError())}}Enumerator.prototype._validateInput=function(input){return isArray(input)};Enumerator.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};Enumerator.prototype._init=function(){this._result=new Array(this.length)};__exports__["default"]=Enumerator;Enumerator.prototype._enumerate=function(){var length=this.length;var promise=this.promise;var input=this._input;for(var i=0;promise._state===PENDING&&i<length;i++){this._eachEntry(input[i],i)}};Enumerator.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor;if(isMaybeThenable(entry)){if(entry.constructor===c&&entry._state!==PENDING){entry._onerror=null;this._settledAt(entry._state,i,entry._result)}else{this._willSettleAt(c.resolve(entry),i)}}else{this._remaining--;this._result[i]=this._makeResult(FULFILLED,i,entry)}};Enumerator.prototype._settledAt=function(state,i,value){var promise=this.promise;if(promise._state===PENDING){this._remaining--;if(this._abortOnReject&&state===REJECTED){reject(promise,value)}else{this._result[i]=this._makeResult(state,i,value)}}if(this._remaining===0){fulfill(promise,this._result)}};Enumerator.prototype._makeResult=function(state,i,value){return value};Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;subscribe(promise,undefined,function(value){enumerator._settledAt(FULFILLED,i,value)},function(reason){enumerator._settledAt(REJECTED,i,reason)})}});enifed("rsvp/events",["exports"],function(__exports__){"use strict";function indexOf(callbacks,callback){for(var i=0,l=callbacks.length;i<l;i++){if(callbacks[i]===callback){return i}}return-1}function callbacksFor(object){var callbacks=object._promiseCallbacks;if(!callbacks){callbacks=object._promiseCallbacks={}}return callbacks}__exports__["default"]={mixin:function(object){object.on=this.on;object.off=this.off;object.trigger=this.trigger;object._promiseCallbacks=undefined;return object},on:function(eventName,callback){var allCallbacks=callbacksFor(this),callbacks;callbacks=allCallbacks[eventName];if(!callbacks){callbacks=allCallbacks[eventName]=[]}if(indexOf(callbacks,callback)===-1){callbacks.push(callback)}},off:function(eventName,callback){var allCallbacks=callbacksFor(this),callbacks,index;if(!callback){allCallbacks[eventName]=[];return}callbacks=allCallbacks[eventName];index=indexOf(callbacks,callback);if(index!==-1){callbacks.splice(index,1)}},trigger:function(eventName,options){var allCallbacks=callbacksFor(this),callbacks,callback;if(callbacks=allCallbacks[eventName]){for(var i=0;i<callbacks.length;i++){callback=callbacks[i];callback(options)}}}}});enifed("rsvp/filter",["./promise","./utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Promise=__dependency1__["default"];var isFunction=__dependency2__.isFunction;__exports__["default"]=function filter(promises,filterFn,label){return Promise.all(promises,label).then(function(values){if(!isFunction(filterFn)){throw new TypeError("You must pass a function as filter's second argument.")}var length=values.length;var filtered=new Array(length);for(var i=0;i<length;i++){filtered[i]=filterFn(values[i])}return Promise.all(filtered,label).then(function(filtered){var results=new Array(length);var newLength=0;for(var i=0;i<length;i++){if(filtered[i]){results[newLength]=values[i];newLength++}}results.length=newLength;return results})})}});enifed("rsvp/hash-settled",["./promise","./enumerator","./promise-hash","./utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var Promise=__dependency1__["default"];var makeSettledResult=__dependency2__.makeSettledResult;var PromiseHash=__dependency3__["default"];var Enumerator=__dependency2__["default"];var o_create=__dependency4__.o_create;function HashSettled(Constructor,object,label){this._superConstructor(Constructor,object,false,label)}HashSettled.prototype=o_create(PromiseHash.prototype);HashSettled.prototype._superConstructor=Enumerator;HashSettled.prototype._makeResult=makeSettledResult;HashSettled.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};__exports__["default"]=function hashSettled(object,label){return new HashSettled(Promise,object,label).promise}});enifed("rsvp/hash",["./promise","./promise-hash","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Promise=__dependency1__["default"];var PromiseHash=__dependency2__["default"];__exports__["default"]=function hash(object,label){return new PromiseHash(Promise,object,label).promise}});enifed("rsvp/instrument",["./config","./utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var config=__dependency1__.config;var now=__dependency2__.now;var queue=[];function scheduleFlush(){setTimeout(function(){var entry;for(var i=0;i<queue.length;i++){entry=queue[i];var payload=entry.payload;payload.guid=payload.key+payload.id;payload.childGuid=payload.key+payload.childId;if(payload.error){payload.stack=payload.error.stack}config.trigger(entry.name,entry.payload)}queue.length=0},50)}__exports__["default"]=function instrument(eventName,promise,child){if(1===queue.push({name:eventName,payload:{key:promise._guidKey,id:promise._id,eventName:eventName,detail:promise._result,childId:child&&child._id,label:promise._label,timeStamp:now(),error:config["instrument-with-stack"]?new Error(promise._label):null}})){scheduleFlush()}}});enifed("rsvp/map",["./promise","./utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Promise=__dependency1__["default"];var isFunction=__dependency2__.isFunction;__exports__["default"]=function map(promises,mapFn,label){return Promise.all(promises,label).then(function(values){if(!isFunction(mapFn)){throw new TypeError("You must pass a function as map's second argument.")}var length=values.length;var results=new Array(length);for(var i=0;i<length;i++){results[i]=mapFn(values[i])}return Promise.all(results,label)})}});enifed("rsvp/node",["./promise","./-internal","./utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Promise=__dependency1__["default"];var noop=__dependency2__.noop;var resolve=__dependency2__.resolve;var reject=__dependency2__.reject;var isArray=__dependency3__.isArray;function Result(){this.value=undefined}var ERROR=new Result;var GET_THEN_ERROR=new Result;function getThen(obj){try{return obj.then}catch(error){ERROR.value=error;return ERROR}}function tryApply(f,s,a){try{f.apply(s,a)}catch(error){ERROR.value=error;return ERROR}}function makeObject(_,argumentNames){var obj={};var name;var i;var length=_.length;var args=new Array(length);for(var x=0;x<length;x++){args[x]=_[x]}for(i=0;i<argumentNames.length;i++){name=argumentNames[i];obj[name]=args[i+1]}return obj}function arrayResult(_){var length=_.length;var args=new Array(length-1);for(var i=1;i<length;i++){args[i-1]=_[i]}return args}function wrapThenable(then,promise){return{then:function(onFulFillment,onRejection){return then.call(promise,onFulFillment,onRejection)}}}__exports__["default"]=function denodeify(nodeFunc,options){var fn=function(){var self=this;var l=arguments.length;var args=new Array(l+1);var arg;var promiseInput=false;for(var i=0;i<l;++i){arg=arguments[i];if(!promiseInput){promiseInput=needsPromiseInput(arg);if(promiseInput===GET_THEN_ERROR){var p=new Promise(noop);reject(p,GET_THEN_ERROR.value);return p}else if(promiseInput&&promiseInput!==true){arg=wrapThenable(promiseInput,arg)}}args[i]=arg}var promise=new Promise(noop);args[l]=function(err,val){if(err)reject(promise,err);else if(options===undefined)resolve(promise,val);else if(options===true)resolve(promise,arrayResult(arguments));else if(isArray(options))resolve(promise,makeObject(arguments,options));else resolve(promise,val)};if(promiseInput){return handlePromiseInput(promise,args,nodeFunc,self)}else{return handleValueInput(promise,args,nodeFunc,self)}};fn.__proto__=nodeFunc;return fn};function handleValueInput(promise,args,nodeFunc,self){var result=tryApply(nodeFunc,self,args);if(result===ERROR){reject(promise,result.value)}return promise}function handlePromiseInput(promise,args,nodeFunc,self){return Promise.all(args).then(function(args){var result=tryApply(nodeFunc,self,args);if(result===ERROR){reject(promise,result.value)}return promise})}function needsPromiseInput(arg){if(arg&&typeof arg==="object"){if(arg.constructor===Promise){return true}else{return getThen(arg)}}else{return false}}});enifed("rsvp/promise-hash",["./enumerator","./-internal","./utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Enumerator=__dependency1__["default"];var PENDING=__dependency2__.PENDING;var o_create=__dependency3__.o_create;function PromiseHash(Constructor,object,label){this._superConstructor(Constructor,object,true,label)}__exports__["default"]=PromiseHash;PromiseHash.prototype=o_create(Enumerator.prototype);PromiseHash.prototype._superConstructor=Enumerator;PromiseHash.prototype._init=function(){this._result={}};PromiseHash.prototype._validateInput=function(input){return input&&typeof input==="object"};PromiseHash.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")};PromiseHash.prototype._enumerate=function(){var promise=this.promise;var input=this._input;var results=[];for(var key in input){if(promise._state===PENDING&&input.hasOwnProperty(key)){results.push({position:key,entry:input[key]})}}var length=results.length;this._remaining=length;var result;for(var i=0;promise._state===PENDING&&i<length;i++){result=results[i];this._eachEntry(result.entry,result.position)}}});enifed("rsvp/promise",["./config","./instrument","./utils","./-internal","./promise/all","./promise/race","./promise/resolve","./promise/reject","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__exports__){"use strict";var config=__dependency1__.config;var instrument=__dependency2__["default"];var isFunction=__dependency3__.isFunction;var now=__dependency3__.now;var noop=__dependency4__.noop;var subscribe=__dependency4__.subscribe;var initializePromise=__dependency4__.initializePromise;var invokeCallback=__dependency4__.invokeCallback;var FULFILLED=__dependency4__.FULFILLED;var REJECTED=__dependency4__.REJECTED;var all=__dependency5__["default"];var race=__dependency6__["default"];var Resolve=__dependency7__["default"];var Reject=__dependency8__["default"];var guidKey="rsvp_"+now()+"-";var counter=0;function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}__exports__["default"]=Promise;function Promise(resolver,label){this._id=counter++;this._label=label;this._state=undefined;this._result=undefined;this._subscribers=[];if(config.instrument){instrument("created",this)}if(noop!==resolver){if(!isFunction(resolver)){needsResolver()}if(!(this instanceof Promise)){needsNew()}initializePromise(this,resolver)}}Promise.cast=Resolve;Promise.all=all;Promise.race=race;Promise.resolve=Resolve;Promise.reject=Reject;Promise.prototype={constructor:Promise,_guidKey:guidKey,_onerror:function(reason){config.trigger("error",reason)},then:function(onFulfillment,onRejection,label){var parent=this;var state=parent._state;if(state===FULFILLED&&!onFulfillment||state===REJECTED&&!onRejection){if(config.instrument){instrument("chained",this,this)}return this}parent._onerror=null;var child=new this.constructor(noop,label);var result=parent._result;if(config.instrument){instrument("chained",parent,child)}if(state){var callback=arguments[state-1];config.async(function(){invokeCallback(state,child,callback,result)})}else{subscribe(parent,child,onFulfillment,onRejection)}return child},"catch":function(onRejection,label){return this.then(null,onRejection,label)},"finally":function(callback,label){var constructor=this.constructor;return this.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){throw reason})},label)}}});enifed("rsvp/promise/all",["../enumerator","exports"],function(__dependency1__,__exports__){"use strict";var Enumerator=__dependency1__["default"];__exports__["default"]=function all(entries,label){return new Enumerator(this,entries,true,label).promise}});enifed("rsvp/promise/race",["../utils","../-internal","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var isArray=__dependency1__.isArray;var noop=__dependency2__.noop;var resolve=__dependency2__.resolve;var reject=__dependency2__.reject;var subscribe=__dependency2__.subscribe;var PENDING=__dependency2__.PENDING;__exports__["default"]=function race(entries,label){var Constructor=this;var promise=new Constructor(noop,label);if(!isArray(entries)){reject(promise,new TypeError("You must pass an array to race."));return promise}var length=entries.length;function onFulfillment(value){resolve(promise,value)}function onRejection(reason){reject(promise,reason)}for(var i=0;promise._state===PENDING&&i<length;i++){subscribe(Constructor.resolve(entries[i]),undefined,onFulfillment,onRejection)}return promise}});enifed("rsvp/promise/reject",["../-internal","exports"],function(__dependency1__,__exports__){"use strict";var noop=__dependency1__.noop;var _reject=__dependency1__.reject;__exports__["default"]=function reject(reason,label){var Constructor=this;var promise=new Constructor(noop,label);_reject(promise,reason);return promise}});enifed("rsvp/promise/resolve",["../-internal","exports"],function(__dependency1__,__exports__){"use strict";var noop=__dependency1__.noop;var _resolve=__dependency1__.resolve;__exports__["default"]=function resolve(object,label){var Constructor=this;if(object&&typeof object==="object"&&object.constructor===Constructor){return object}var promise=new Constructor(noop,label);_resolve(promise,object);return promise}});enifed("rsvp/race",["./promise","exports"],function(__dependency1__,__exports__){"use strict";var Promise=__dependency1__["default"];__exports__["default"]=function race(array,label){return Promise.race(array,label)}});enifed("rsvp/reject",["./promise","exports"],function(__dependency1__,__exports__){"use strict";var Promise=__dependency1__["default"];__exports__["default"]=function reject(reason,label){return Promise.reject(reason,label)}});enifed("rsvp/resolve",["./promise","exports"],function(__dependency1__,__exports__){"use strict";var Promise=__dependency1__["default"];__exports__["default"]=function resolve(value,label){return Promise.resolve(value,label)}});enifed("rsvp/rethrow",["exports"],function(__exports__){"use strict";__exports__["default"]=function rethrow(reason){setTimeout(function(){throw reason});throw reason}});enifed("rsvp/utils",["exports"],function(__exports__){"use strict";function objectOrFunction(x){return typeof x==="function"||typeof x==="object"&&x!==null}__exports__.objectOrFunction=objectOrFunction;function isFunction(x){return typeof x==="function"}__exports__.isFunction=isFunction;function isMaybeThenable(x){return typeof x==="object"&&x!==null}__exports__.isMaybeThenable=isMaybeThenable;var _isArray;if(!Array.isArray){_isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}}else{_isArray=Array.isArray}var isArray=_isArray;__exports__.isArray=isArray;var now=Date.now||function(){return(new Date).getTime()};__exports__.now=now;function F(){}var o_create=Object.create||function(o){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof o!=="object"){throw new TypeError("Argument must be an object")}F.prototype=o;return new F};__exports__.o_create=o_create});requireModule("ember")})();(function(){define("ember",[],function(){"use strict";return{"default":Ember}});define("ember-data",[],function(){"use strict";return{"default":DS}})})();define("jquery",[],function(){"use strict";return{"default":jQuery}});(function(){define("ember/resolver",[],function(){"use strict";if(typeof requirejs.entries==="undefined"){requirejs.entries=requirejs._eak_seen}function classFactory(klass){return{create:function(injections){if(typeof klass.extend==="function"){return klass.extend(injections)}else{return klass}}}}if(!(Object.create&&!Object.create(null).hasOwnProperty)){throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg")}function makeDictionary(){var cache=Object.create(null);cache["_dict"]=null;delete cache["_dict"];return cache}var underscore=Ember.String.underscore;var classify=Ember.String.classify;var get=Ember.get;function parseName(fullName){if(fullName.parsedName===true){return fullName}var prefixParts=fullName.split("@");var prefix;if(prefixParts.length===2){if(prefixParts[0].split(":")[0]==="view"){prefixParts[0]=prefixParts[0].split(":")[1];prefixParts[1]="view:"+prefixParts[1]}prefix=prefixParts[0]}var nameParts=prefixParts[prefixParts.length-1].split(":");var type=nameParts[0],fullNameWithoutType=nameParts[1];var name=fullNameWithoutType;var namespace=get(this,"namespace");var root=namespace;return{parsedName:true,fullName:fullName,prefix:prefix||this.prefix({type:type}),type:type,fullNameWithoutType:fullNameWithoutType,name:name,root:root,resolveMethodName:"resolve"+classify(type)}}function chooseModuleName(moduleEntries,moduleName){var underscoredModuleName=Ember.String.underscore(moduleName);if(moduleName!==underscoredModuleName&&moduleEntries[moduleName]&&moduleEntries[underscoredModuleName]){throw new TypeError("Ambiguous module names: `"+moduleName+"` and `"+underscoredModuleName+"`")}if(moduleEntries[moduleName]){return moduleName}else if(moduleEntries[underscoredModuleName]){return underscoredModuleName}else{var partializedModuleName=moduleName.replace(/\/-([^\/]*)$/,"/_$1");if(moduleEntries[partializedModuleName]){Ember.deprecate("Modules should not contain underscores. "+'Attempted to lookup "'+moduleName+'" which '+'was not found. Please rename "'+partializedModuleName+'" '+'to "'+moduleName+'" instead.',false);return partializedModuleName}else{return moduleName}}}function resolveOther(parsedName){Ember.assert("module prefix must be defined",this.namespace.modulePrefix);var normalizedModuleName=this.findModuleName(parsedName);if(normalizedModuleName){var module=require(normalizedModuleName,null,null,true);if(module&&module["default"]){module=module["default"]}if(module===undefined){throw new Error(" Expected to find: '"+parsedName.fullName+"' within '"+normalizedModuleName+"' but got 'undefined'. Did you forget to `export default` within '"+normalizedModuleName+"'?")}if(this.shouldWrapInClassFactory(module,parsedName)){module=classFactory(module)}return module}else{return this._super(parsedName)}}var Resolver=Ember.DefaultResolver.extend({resolveOther:resolveOther,resolveTemplate:resolveOther,pluralizedTypes:null,makeToString:function(factory,fullName){return""+this.namespace.modulePrefix+"@"+fullName+":"},parseName:parseName,shouldWrapInClassFactory:function(module,parsedName){return false},init:function(){this._super();this._normalizeCache=makeDictionary();this.pluralizedTypes=this.pluralizedTypes||makeDictionary();if(!this.pluralizedTypes.config){this.pluralizedTypes.config="config"}},normalize:function(fullName){return this._normalizeCache[fullName]||(this._normalizeCache[fullName]=this._normalize(fullName))},_normalize:function(fullName){var split=fullName.split(":");if(split.length>1){return split[0]+":"+Ember.String.dasherize(split[1].replace(/\./g,"/"))}else{return fullName}},pluralize:function(type){return this.pluralizedTypes[type]||(this.pluralizedTypes[type]=type+"s")},podBasedLookupWithPrefix:function(podPrefix,parsedName){var fullNameWithoutType=parsedName.fullNameWithoutType;if(parsedName.type==="template"){fullNameWithoutType=fullNameWithoutType.replace(/^components\//,"")}return podPrefix+"/"+fullNameWithoutType+"/"+parsedName.type},podBasedModuleName:function(parsedName){var podPrefix=this.namespace.podModulePrefix||this.namespace.modulePrefix;return this.podBasedLookupWithPrefix(podPrefix,parsedName)},podBasedComponentsInSubdir:function(parsedName){var podPrefix=this.namespace.podModulePrefix||this.namespace.modulePrefix;podPrefix=podPrefix+"/components";if(parsedName.type==="component"||parsedName.fullNameWithoutType.match(/^components/)){return this.podBasedLookupWithPrefix(podPrefix,parsedName)}},mainModuleName:function(parsedName){var tmpModuleName=parsedName.prefix+"/"+parsedName.type;if(parsedName.fullNameWithoutType==="main"){return tmpModuleName}},defaultModuleName:function(parsedName){return parsedName.prefix+"/"+this.pluralize(parsedName.type)+"/"+parsedName.fullNameWithoutType},prefix:function(parsedName){var tmpPrefix=this.namespace.modulePrefix;if(this.namespace[parsedName.type+"Prefix"]){tmpPrefix=this.namespace[parsedName.type+"Prefix"]}return tmpPrefix},moduleNameLookupPatterns:Ember.computed(function(){return Ember.A([this.podBasedModuleName,this.podBasedComponentsInSubdir,this.mainModuleName,this.defaultModuleName])}),findModuleName:function(parsedName,loggingDisabled){var self=this;var moduleName;this.get("moduleNameLookupPatterns").find(function(item){var moduleEntries=requirejs.entries;var tmpModuleName=item.call(self,parsedName);if(tmpModuleName){tmpModuleName=chooseModuleName(moduleEntries,tmpModuleName)}if(tmpModuleName&&moduleEntries[tmpModuleName]){if(!loggingDisabled){self._logLookup(true,parsedName,tmpModuleName)}moduleName=tmpModuleName}if(!loggingDisabled){self._logLookup(moduleName,parsedName,tmpModuleName)}return moduleName});return moduleName},lookupDescription:function(fullName){var parsedName=this.parseName(fullName);var moduleName=this.findModuleName(parsedName,true);return moduleName},_logLookup:function(found,parsedName,description){if(!Ember.ENV.LOG_MODULE_RESOLVER&&!parsedName.root.LOG_RESOLVER){return}var symbol,padding;if(found){symbol="[✓]"}else{symbol="[ ]"}if(parsedName.fullName.length>60){padding="."}else{padding=new Array(60-parsedName.fullName.length).join(".")}if(!description){description=this.lookupDescription(parsedName)}Ember.Logger.info(symbol,parsedName.fullName,padding,description)}});Resolver["default"]=Resolver;return Resolver});define("resolver",["ember/resolver"],function(Resolver){Ember.deprecate('Importing/requiring Ember Resolver as "resolver" is deprecated, please use "ember/resolver" instead');return Resolver})})();(function(){define("ember/container-debug-adapter",[],function(){"use strict";if(typeof Ember.ContainerDebugAdapter==="undefined"){return null}var ContainerDebugAdapter=Ember.ContainerDebugAdapter.extend({canCatalogEntriesByType:function(type){return true},catalogEntriesByType:function(type){var entries=requirejs.entries,module,types=Ember.A();var makeToString=function(){return this.shortname};for(var key in entries){if(entries.hasOwnProperty(key)&&key.indexOf(type)!==-1){types.push(key.split(type+"s/").pop())}}return types}});ContainerDebugAdapter["default"]=ContainerDebugAdapter;return ContainerDebugAdapter})})();(function(){(function(){"use strict";Ember.Application.initializer({name:"container-debug-adapter",initialize:function(container){var ContainerDebugAdapter=require("ember/container-debug-adapter");var Resolver=require("ember/resolver");container.register("container-debug-adapter:main",ContainerDebugAdapter)}})})()})();(function(){})();(function(){define("ember/load-initializers",[],function(){"use strict";return{"default":function(app,prefix){var initializersRegExp=new RegExp("^"+prefix+"/initializers");Ember.keys(requirejs._eak_seen).filter(function(key){return initializersRegExp.test(key)}).forEach(function(moduleName){var module=require(moduleName,null,null,true);if(!module){throw new Error(moduleName+" must export an initializer.")}app.initializer(module["default"])})}}})})();define("ic-ajax",["ember","exports"],function(__dependency1__,__exports__){"use strict";var Ember=__dependency1__["default"]||__dependency1__;function request(){return raw.apply(null,arguments).then(function(result){return result.response},null,"ic-ajax: unwrap raw ajax response")}__exports__.request=request;__exports__["default"]=request;function raw(){return makePromise(parseArgs.apply(null,arguments))}__exports__.raw=raw;var __fixtures__={};__exports__.__fixtures__=__fixtures__;function defineFixture(url,fixture){if(fixture.response){fixture.response=JSON.parse(JSON.stringify(fixture.response))}__fixtures__[url]=fixture}__exports__.defineFixture=defineFixture;function lookupFixture(url){return __fixtures__&&__fixtures__[url]}__exports__.lookupFixture=lookupFixture;function makePromise(settings){return new Ember.RSVP.Promise(function(resolve,reject){var fixture=lookupFixture(settings.url);if(fixture){if(fixture.textStatus==="success"||fixture.textStatus==null){return Ember.run(null,resolve,fixture)}else{return Ember.run(null,reject,fixture)}}settings.success=makeSuccess(resolve);settings.error=makeError(reject);Ember.$.ajax(settings)},"ic-ajax: "+(settings.type||"GET")+" to "+settings.url)}function parseArgs(){var settings={};if(arguments.length===1){if(typeof arguments[0]==="string"){settings.url=arguments[0]}else{settings=arguments[0]}}else if(arguments.length===2){settings=arguments[1];settings.url=arguments[0]}if(settings.success||settings.error){throw new Ember.Error("ajax should use promises, received 'success' or 'error' callback")}return settings}function makeSuccess(resolve){return function(response,textStatus,jqXHR){Ember.run(null,resolve,{response:response,textStatus:textStatus,jqXHR:jqXHR})}}function makeError(reject){return function(jqXHR,textStatus,errorThrown){Ember.run(null,reject,{jqXHR:jqXHR,textStatus:textStatus,errorThrown:errorThrown})}}});(function(global){var define=global.define;var require=global.require;var Ember=global.Ember;if(typeof Ember==="undefined"&&typeof require!=="undefined"){Ember=require("ember")}Ember.libraries.register("Ember Simple Auth","0.7.0");define("simple-auth/authenticators/base",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Object.extend(Ember.Evented,{restore:function(data){return new Ember.RSVP.reject},authenticate:function(options){return new Ember.RSVP.reject},invalidate:function(data){return new Ember.RSVP.resolve}})});define("simple-auth/authorizers/base",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Object.extend({session:null,authorize:function(jqXHR,requestOptions){}})});define("simple-auth/configuration",["simple-auth/utils/load-config","exports"],function(__dependency1__,__exports__){"use strict";var loadConfig=__dependency1__["default"];var defaults={authenticationRoute:"login",routeAfterAuthentication:"index",routeIfAlreadyAuthenticated:"index",sessionPropertyName:"session",authorizer:null,session:"simple-auth-session:main",store:"simple-auth-session-store:local-storage",crossOriginWhitelist:[],applicationRootUrl:null};__exports__["default"]={authenticationRoute:defaults.authenticationRoute,routeAfterAuthentication:defaults.routeAfterAuthentication,routeIfAlreadyAuthenticated:defaults.routeIfAlreadyAuthenticated,sessionPropertyName:defaults.sessionPropertyName,authorizer:defaults.authorizer,session:defaults.session,store:defaults.store,crossOriginWhitelist:defaults.crossOriginWhitelist,applicationRootUrl:defaults.applicationRootUrl,load:loadConfig(defaults,function(container,config){this.applicationRootUrl=container.lookup("router:main").get("rootURL")||"/"
})}});define("simple-auth/ember",["./initializer"],function(__dependency1__){"use strict";var initializer=__dependency1__["default"];Ember.onLoad("Ember.Application",function(Application){Application.initializer(initializer)})});define("simple-auth/initializer",["./configuration","./utils/get-global-config","./setup","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Configuration=__dependency1__["default"];var getGlobalConfig=__dependency2__["default"];var setup=__dependency3__["default"];__exports__["default"]={name:"simple-auth",initialize:function(container,application){var config=getGlobalConfig("simple-auth");Configuration.load(container,config);setup(container,application)}}});define("simple-auth/mixins/application-route-mixin",["./../configuration","exports"],function(__dependency1__,__exports__){"use strict";var Configuration=__dependency1__["default"];__exports__["default"]=Ember.Mixin.create({beforeModel:function(transition){this._super(transition);if(!this.get("_authEventListenersAssigned")){this.set("_authEventListenersAssigned",true);var _this=this;Ember.A(["sessionAuthenticationSucceeded","sessionAuthenticationFailed","sessionInvalidationSucceeded","sessionInvalidationFailed","authorizationFailed"]).forEach(function(event){_this.get(Configuration.sessionPropertyName).on(event,function(error){Array.prototype.unshift.call(arguments,event);transition.send.apply(transition,arguments)})})}},actions:{authenticateSession:function(){this.transitionTo(Configuration.authenticationRoute)},sessionAuthenticationSucceeded:function(){var attemptedTransition=this.get(Configuration.sessionPropertyName).get("attemptedTransition");if(attemptedTransition){attemptedTransition.retry();this.get(Configuration.sessionPropertyName).set("attemptedTransition",null)}else{this.transitionTo(Configuration.routeAfterAuthentication)}},sessionAuthenticationFailed:function(error){},invalidateSession:function(){this.get(Configuration.sessionPropertyName).invalidate()},sessionInvalidationSucceeded:function(){if(!Ember.testing){window.location.replace(Configuration.applicationRootUrl)}},sessionInvalidationFailed:function(error){},authorizationFailed:function(){if(this.get(Configuration.sessionPropertyName).get("isAuthenticated")){this.get(Configuration.sessionPropertyName).invalidate()}}}})});define("simple-auth/mixins/authenticated-route-mixin",["./../configuration","exports"],function(__dependency1__,__exports__){"use strict";var Configuration=__dependency1__["default"];__exports__["default"]=Ember.Mixin.create({beforeModel:function(transition){this._super(transition);if(!this.get(Configuration.sessionPropertyName).get("isAuthenticated")){transition.abort();this.get(Configuration.sessionPropertyName).set("attemptedTransition",transition);Ember.assert("The route configured as Configuration.authenticationRoute cannot implement the AuthenticatedRouteMixin mixin as that leads to an infinite transitioning loop.",this.get("routeName")!==Configuration.authenticationRoute);transition.send("authenticateSession")}}})});define("simple-auth/mixins/authentication-controller-mixin",["./../configuration","exports"],function(__dependency1__,__exports__){"use strict";var Configuration=__dependency1__["default"];__exports__["default"]=Ember.Mixin.create({authenticator:null,actions:{authenticate:function(options){var authenticator=this.get("authenticator");Ember.assert("AuthenticationControllerMixin/LoginControllerMixin require the authenticator property to be set on the controller",!Ember.isEmpty(authenticator));return this.get(Configuration.sessionPropertyName).authenticate(this.get("authenticator"),options)}}})});define("simple-auth/mixins/login-controller-mixin",["./../configuration","./authentication-controller-mixin","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Configuration=__dependency1__["default"];var AuthenticationControllerMixin=__dependency2__["default"];__exports__["default"]=Ember.Mixin.create(AuthenticationControllerMixin,{actions:{authenticate:function(){var data=this.getProperties("identification","password");this.set("password",null);return this._super(data)}}})});define("simple-auth/mixins/unauthenticated-route-mixin",["./../configuration","exports"],function(__dependency1__,__exports__){"use strict";var Configuration=__dependency1__["default"];__exports__["default"]=Ember.Mixin.create({beforeModel:function(transition){if(this.get(Configuration.sessionPropertyName).get("isAuthenticated")){transition.abort();Ember.assert("The route configured as Configuration.routeIfAlreadyAuthenticated cannot implement the UnauthenticatedRouteMixin mixin as that leads to an infinite transitioning loop.",this.get("routeName")!==Configuration.routeIfAlreadyAuthenticated);this.transitionTo(Configuration.routeIfAlreadyAuthenticated)}}})});define("simple-auth/session",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.ObjectProxy.extend(Ember.Evented,{authenticator:null,store:null,container:null,isAuthenticated:false,attemptedTransition:null,content:{},authenticate:function(authenticator,options){Ember.assert("Session#authenticate requires the authenticator factory to be specified, was "+authenticator,!Ember.isEmpty(authenticator));var _this=this;var theAuthenticator=this.container.lookup(authenticator);Ember.assert('No authenticator for factory "'+authenticator+'" could be found',!Ember.isNone(theAuthenticator));return new Ember.RSVP.Promise(function(resolve,reject){theAuthenticator.authenticate(options).then(function(content){_this.setup(authenticator,content,true);resolve()},function(error){_this.clear();_this.trigger("sessionAuthenticationFailed",error);reject(error)})})},invalidate:function(){Ember.assert("Session#invalidate requires the session to be authenticated",this.get("isAuthenticated"));var _this=this;return new Ember.RSVP.Promise(function(resolve,reject){var authenticator=_this.container.lookup(_this.authenticator);authenticator.invalidate(_this.content).then(function(){authenticator.off("sessionDataUpdated");_this.clear(true);resolve()},function(error){_this.trigger("sessionInvalidationFailed",error);reject(error)})})},restore:function(){var _this=this;return new Ember.RSVP.Promise(function(resolve,reject){var restoredContent=_this.store.restore();var authenticator=restoredContent.authenticator;if(!!authenticator){delete restoredContent.authenticator;_this.container.lookup(authenticator).restore(restoredContent).then(function(content){_this.setup(authenticator,content);resolve()},function(){_this.store.clear();reject()})}else{_this.store.clear();reject()}})},setup:function(authenticator,content,trigger){content=Ember.merge(Ember.merge({},this.content),content);trigger=!!trigger&&!this.get("isAuthenticated");this.beginPropertyChanges();this.setProperties({isAuthenticated:true,authenticator:authenticator,content:content});this.bindToAuthenticatorEvents();this.updateStore();this.endPropertyChanges();if(trigger){this.trigger("sessionAuthenticationSucceeded")}},clear:function(trigger){trigger=!!trigger&&this.get("isAuthenticated");this.beginPropertyChanges();this.setProperties({isAuthenticated:false,authenticator:null,content:{}});this.store.clear();this.endPropertyChanges();if(trigger){this.trigger("sessionInvalidationSucceeded")}},setUnknownProperty:function(key,value){var result=this._super(key,value);this.updateStore();return result},updateStore:function(){var data=this.content;if(!Ember.isEmpty(this.authenticator)){data=Ember.merge({authenticator:this.authenticator},data)}if(!Ember.isEmpty(data)){this.store.persist(data)}},bindToAuthenticatorEvents:function(){var _this=this;var authenticator=this.container.lookup(this.authenticator);authenticator.off("sessionDataUpdated");authenticator.off("sessionDataInvalidated");authenticator.on("sessionDataUpdated",function(content){_this.setup(_this.authenticator,content)});authenticator.on("sessionDataInvalidated",function(content){_this.clear(true)})},bindToStoreEvents:function(){var _this=this;this.store.on("sessionDataUpdated",function(content){var authenticator=content.authenticator;if(!!authenticator){delete content.authenticator;_this.container.lookup(authenticator).restore(content).then(function(content){_this.setup(authenticator,content,true)},function(){_this.clear(true)})}else{_this.clear(true)}})}.observes("store")})});define("simple-auth/setup",["./configuration","./session","./stores/local-storage","./stores/ephemeral","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var Configuration=__dependency1__["default"];var Session=__dependency2__["default"];var LocalStorage=__dependency3__["default"];var Ephemeral=__dependency4__["default"];function extractLocationOrigin(location){if(location==="*"){return location}if(Ember.typeOf(location)==="string"){var link=document.createElement("a");link.href=location;link.href=link.href;location=link}var port=location.port;if(Ember.isEmpty(port)){port=location.protocol==="http:"?"80":location.protocol==="https:"?"443":""}return location.protocol+"//"+location.hostname+(port!==""?":"+port:"")}var urlOrigins={};var crossOriginWhitelist;function shouldAuthorizeRequest(options){if(options.crossDomain===false||crossOriginWhitelist.indexOf("*")>-1){return true}var urlOrigin=urlOrigins[options.url]=urlOrigins[options.url]||extractLocationOrigin(options.url);return crossOriginWhitelist.indexOf(urlOrigin)>-1}function registerFactories(container){container.register("simple-auth-session-store:local-storage",LocalStorage);container.register("simple-auth-session-store:ephemeral",Ephemeral);container.register("simple-auth-session:main",Session)}var didSetupAjaxHooks=false;__exports__["default"]=function(container,application){application.deferReadiness();registerFactories(container);var store=container.lookup(Configuration.store);var session=container.lookup(Configuration.session);session.setProperties({store:store,container:container});Ember.A(["controller","route"]).forEach(function(component){container.injection(component,Configuration.sessionPropertyName,Configuration.session)});crossOriginWhitelist=Ember.A(Configuration.crossOriginWhitelist).map(function(origin){return extractLocationOrigin(origin)});if(!Ember.isEmpty(Configuration.authorizer)){var authorizer=container.lookup(Configuration.authorizer);if(!!authorizer){authorizer.set("session",session);if(!didSetupAjaxHooks){Ember.$.ajaxPrefilter(function(options,originalOptions,jqXHR){if(!authorizer.isDestroyed&&shouldAuthorizeRequest(options)){jqXHR.__simple_auth_authorized__=true;authorizer.authorize(jqXHR,options)}});Ember.$(document).ajaxError(function(event,jqXHR,setting,exception){if(!!jqXHR.__simple_auth_authorized__&&jqXHR.status===401){session.trigger("authorizationFailed")}});didSetupAjaxHooks=true}}}else{Ember.Logger.info("No authorizer was configured for Ember Simple Auth - specify one if backend requests need to be authorized.")}var advanceReadiness=function(){application.advanceReadiness()};session.restore().then(advanceReadiness,advanceReadiness)}});define("simple-auth/stores/base",["../utils/objects-are-equal","exports"],function(__dependency1__,__exports__){"use strict";var objectsAreEqual=__dependency1__["default"];__exports__["default"]=Ember.Object.extend(Ember.Evented,{persist:function(data){},restore:function(){return{}},clear:function(){}})});define("simple-auth/stores/ephemeral",["./base","exports"],function(__dependency1__,__exports__){"use strict";var Base=__dependency1__["default"];__exports__["default"]=Base.extend({init:function(){this.clear()},persist:function(data){this._data=JSON.stringify(data||{})},restore:function(){return JSON.parse(this._data)||{}},clear:function(){delete this._data;this._data="{}"}})});define("simple-auth/stores/local-storage",["./base","../utils/objects-are-equal","simple-auth/utils/get-global-config","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Base=__dependency1__["default"];var objectsAreEqual=__dependency2__["default"];var getGlobalConfig=__dependency3__["default"];__exports__["default"]=Base.extend({key:"ember_simple_auth:session",init:function(){var globalConfig=getGlobalConfig("simple-auth");this.key=globalConfig.localStorageKey||this.key;this.bindToStorageEvents()},persist:function(data){data=JSON.stringify(data||{});localStorage.setItem(this.key,data);this._lastData=this.restore()},restore:function(){var data=localStorage.getItem(this.key);return JSON.parse(data)||{}},clear:function(){localStorage.removeItem(this.key);this._lastData=null},bindToStorageEvents:function(){var _this=this;Ember.$(window).bind("storage",function(e){var data=_this.restore();if(!objectsAreEqual(data,_this._lastData)){_this._lastData=data;_this.trigger("sessionDataUpdated",data)}})}})});define("simple-auth/utils/get-global-config",["exports"],function(__exports__){"use strict";var global=typeof window!=="undefined"?window:{};__exports__["default"]=function(scope){return Ember.get(global,"ENV."+scope)||{}}});define("simple-auth/utils/load-config",["exports"],function(__exports__){"use strict";__exports__["default"]=function(defaults,callback){return function(container,config){var wrappedConfig=Ember.Object.create(config);for(var property in this){if(this.hasOwnProperty(property)&&Ember.typeOf(this[property])!=="function"){this[property]=wrappedConfig.getWithDefault(property,defaults[property])}}if(callback){callback.apply(this,[container,config])}}}});define("simple-auth/utils/objects-are-equal",["exports"],function(__exports__){"use strict";function objectsAreEqual(a,b){if(a===b){return true}if(!(a instanceof Object)||!(b instanceof Object)){return false}if(a.constructor!==b.constructor){return false}for(var property in a){if(!a.hasOwnProperty(property)){continue}if(!b.hasOwnProperty(property)){return false}if(a[property]===b[property]){continue}if(Ember.typeOf(a[property])!=="object"){return false}if(!objectsAreEqual(a[property],b[property])){return false}}for(property in b){if(b.hasOwnProperty(property)&&!a.hasOwnProperty(property)){return false}}return true}__exports__["default"]=objectsAreEqual})})(this);(function(global){var define,requireModule,require,requirejs;(function(){var _isArray;if(!Array.isArray){_isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}}else{_isArray=Array.isArray}var registry={},seen={},state={};var FAILED=false;define=function(name,deps,callback){if(!_isArray(deps)){callback=deps;deps=[]}registry[name]={deps:deps,callback:callback}};function reify(deps,name,seen){var length=deps.length;var reified=new Array(length);var dep;var exports;for(var i=0,l=length;i<l;i++){dep=deps[i];if(dep==="exports"){exports=reified[i]=seen}else{reified[i]=require(resolve(dep,name))}}return{deps:reified,exports:exports}}requirejs=require=requireModule=function(name){if(state[name]!==FAILED&&seen.hasOwnProperty(name)){return seen[name]}if(!registry[name]){throw new Error("Could not find module "+name)}var mod=registry[name];var reified;var module;var loaded=false;seen[name]={};try{reified=reify(mod.deps,name,seen[name]);module=mod.callback.apply(this,reified.deps);loaded=true}finally{if(!loaded){state[name]=FAILED}}return reified.exports?seen[name]:seen[name]=module};function resolve(child,name){if(child.charAt(0)!=="."){return child}var parts=child.split("/");var nameParts=name.split("/");var parentBase;if(nameParts.length===1){parentBase=nameParts}else{parentBase=nameParts.slice(0,-1)}for(var i=0,l=parts.length;i<l;i++){var part=parts[i];if(part===".."){parentBase.pop()}else if(part==="."){continue}else{parentBase.push(part)}}return parentBase.join("/")}requirejs.entries=requirejs._eak_seen=registry;requirejs.clear=function(){requirejs.entries=requirejs._eak_seen=registry={};seen=state={}}})();define("activemodel-adapter",["activemodel-adapter/system","exports"],function(__dependency1__,__exports__){"use strict";var ActiveModelAdapter=__dependency1__.ActiveModelAdapter;var ActiveModelSerializer=__dependency1__.ActiveModelSerializer;__exports__.ActiveModelAdapter=ActiveModelAdapter;__exports__.ActiveModelSerializer=ActiveModelSerializer});define("activemodel-adapter/setup-container",["ember-data/system/container_proxy","activemodel-adapter/system/active_model_serializer","activemodel-adapter/system/active_model_adapter","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var ContainerProxy=__dependency1__["default"];var ActiveModelSerializer=__dependency2__["default"];var ActiveModelAdapter=__dependency3__["default"];__exports__["default"]=function setupActiveModelAdapter(container,application){var proxy=new ContainerProxy(container);proxy.registerDeprecations([{deprecated:"serializer:_ams",valid:"serializer:-active-model"},{deprecated:"adapter:_ams",valid:"adapter:-active-model"}]);container.register("serializer:-active-model",ActiveModelSerializer);container.register("adapter:-active-model",ActiveModelAdapter)}});define("activemodel-adapter/system",["activemodel-adapter/system/active_model_adapter","activemodel-adapter/system/active_model_serializer","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var ActiveModelAdapter=__dependency1__["default"];var ActiveModelSerializer=__dependency2__["default"];__exports__.ActiveModelAdapter=ActiveModelAdapter;__exports__.ActiveModelSerializer=ActiveModelSerializer});define("activemodel-adapter/system/active_model_adapter",["ember-data/adapters","ember-data/system/adapter","ember-inflector","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var RESTAdapter=__dependency1__.RESTAdapter;var InvalidError=__dependency2__.InvalidError;var pluralize=__dependency3__.pluralize;var forEach=Ember.EnumerableUtils.forEach;var decamelize=Ember.String.decamelize,underscore=Ember.String.underscore;var ActiveModelAdapter=RESTAdapter.extend({defaultSerializer:"-active-model",pathForType:function(type){var decamelized=decamelize(type);var underscored=underscore(decamelized);return pluralize(underscored)},ajaxError:function(jqXHR){var error=this._super(jqXHR);if(jqXHR&&jqXHR.status===422){var response=Ember.$.parseJSON(jqXHR.responseText),errors={};if(response.errors!==undefined){var jsonErrors=response.errors;forEach(Ember.keys(jsonErrors),function(key){errors[Ember.String.camelize(key)]=jsonErrors[key]})}return new InvalidError(errors)}else{return error}}});__exports__["default"]=ActiveModelAdapter});define("activemodel-adapter/system/active_model_serializer",["ember-inflector","ember-data/serializers/rest_serializer","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var singularize=__dependency1__.singularize;var RESTSerializer=__dependency2__["default"];var get=Ember.get,forEach=Ember.EnumerableUtils.forEach,camelize=Ember.String.camelize,capitalize=Ember.String.capitalize,decamelize=Ember.String.decamelize,underscore=Ember.String.underscore;var ActiveModelSerializer=RESTSerializer.extend({keyForAttribute:function(attr){return decamelize(attr)},keyForRelationship:function(rawKey,kind){var key=decamelize(rawKey);if(kind==="belongsTo"){return key+"_id"}else if(kind==="hasMany"){return singularize(key)+"_ids"}else{return key}},serializeHasMany:Ember.K,serializeIntoHash:function(data,type,record,options){var root=underscore(decamelize(type.typeKey));data[root]=this.serialize(record,options)},serializePolymorphicType:function(record,json,relationship){var key=relationship.key;var belongsTo=get(record,key);var jsonKey=underscore(key+"_type");if(Ember.isNone(belongsTo)){json[jsonKey]=null}else{json[jsonKey]=capitalize(camelize(belongsTo.constructor.typeKey))}},normalize:function(type,hash,prop){this.normalizeLinks(hash);return this._super(type,hash,prop)},normalizeLinks:function(data){if(data.links){var links=data.links;for(var link in links){var camelizedLink=camelize(link);if(camelizedLink!==link){links[camelizedLink]=links[link];delete links[link]}}}},normalizeRelationships:function(type,hash){if(this.keyForRelationship){type.eachRelationship(function(key,relationship){var payloadKey,payload;if(relationship.options.polymorphic){payloadKey=this.keyForAttribute(key);payload=hash[payloadKey];if(payload&&payload.type){payload.type=this.typeForRoot(payload.type)}else if(payload&&relationship.kind==="hasMany"){var self=this;forEach(payload,function(single){single.type=self.typeForRoot(single.type)})}}else{payloadKey=this.keyForRelationship(key,relationship.kind);if(!hash.hasOwnProperty(payloadKey)){return}payload=hash[payloadKey]}hash[key]=payload;if(key!==payloadKey){delete hash[payloadKey]}},this)}}});__exports__["default"]=ActiveModelSerializer});define("ember-data",["ember-data/core","ember-data/ext/date","ember-data/system/promise_proxies","ember-data/system/store","ember-data/system/model","ember-data/system/adapter","ember-data/system/debug","ember-data/system/record_arrays","ember-data/system/record_array_manager","ember-data/adapters","ember-data/serializers/json_serializer","ember-data/serializers/rest_serializer","ember-inflector","ember-data/serializers/embedded_records_mixin","activemodel-adapter","ember-data/transforms","ember-data/system/relationships","ember-data/ember-initializer","ember-data/setup-container","ember-data/system/container_proxy","ember-data/system/relationships/relationship","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__dependency18__,__dependency19__,__dependency20__,__dependency21__,__exports__){"use strict";Ember.RSVP.Promise.cast=Ember.RSVP.Promise.cast||Ember.RSVP.resolve;var DS=__dependency1__["default"];var PromiseArray=__dependency3__.PromiseArray;var PromiseObject=__dependency3__.PromiseObject;var Store=__dependency4__.Store;var Model=__dependency5__.Model;var Errors=__dependency5__.Errors;var RootState=__dependency5__.RootState;var attr=__dependency5__.attr;var InvalidError=__dependency6__.InvalidError;var Adapter=__dependency6__.Adapter;var DebugAdapter=__dependency7__["default"];var RecordArray=__dependency8__.RecordArray;var FilteredRecordArray=__dependency8__.FilteredRecordArray;var AdapterPopulatedRecordArray=__dependency8__.AdapterPopulatedRecordArray;var ManyArray=__dependency8__.ManyArray;var RecordArrayManager=__dependency9__["default"];var RESTAdapter=__dependency10__.RESTAdapter;var FixtureAdapter=__dependency10__.FixtureAdapter;var JSONSerializer=__dependency11__["default"];var RESTSerializer=__dependency12__["default"];var EmbeddedRecordsMixin=__dependency14__["default"];var ActiveModelAdapter=__dependency15__.ActiveModelAdapter;var ActiveModelSerializer=__dependency15__.ActiveModelSerializer;var Transform=__dependency16__.Transform;var DateTransform=__dependency16__.DateTransform;var NumberTransform=__dependency16__.NumberTransform;var StringTransform=__dependency16__.StringTransform;var BooleanTransform=__dependency16__.BooleanTransform;var hasMany=__dependency17__.hasMany;var belongsTo=__dependency17__.belongsTo;var setupContainer=__dependency19__["default"];var ContainerProxy=__dependency20__["default"];var Relationship=__dependency21__.Relationship;DS.Store=Store;DS.PromiseArray=PromiseArray;DS.PromiseObject=PromiseObject;DS.Model=Model;DS.RootState=RootState;DS.attr=attr;DS.Errors=Errors;DS.Adapter=Adapter;DS.InvalidError=InvalidError;DS.DebugAdapter=DebugAdapter;DS.RecordArray=RecordArray;DS.FilteredRecordArray=FilteredRecordArray;DS.AdapterPopulatedRecordArray=AdapterPopulatedRecordArray;DS.ManyArray=ManyArray;DS.RecordArrayManager=RecordArrayManager;DS.RESTAdapter=RESTAdapter;DS.FixtureAdapter=FixtureAdapter;DS.RESTSerializer=RESTSerializer;DS.JSONSerializer=JSONSerializer;DS.Transform=Transform;DS.DateTransform=DateTransform;DS.StringTransform=StringTransform;DS.NumberTransform=NumberTransform;DS.BooleanTransform=BooleanTransform;DS.ActiveModelAdapter=ActiveModelAdapter;DS.ActiveModelSerializer=ActiveModelSerializer;DS.EmbeddedRecordsMixin=EmbeddedRecordsMixin;DS.belongsTo=belongsTo;DS.hasMany=hasMany;DS.Relationship=Relationship;DS.ContainerProxy=ContainerProxy;DS._setupContainer=setupContainer;Ember.lookup.DS=DS;__exports__["default"]=DS});define("ember-data/adapters",["ember-data/adapters/fixture_adapter","ember-data/adapters/rest_adapter","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var FixtureAdapter=__dependency1__["default"];var RESTAdapter=__dependency2__["default"];__exports__.RESTAdapter=RESTAdapter;__exports__.FixtureAdapter=FixtureAdapter});define("ember-data/adapters/fixture_adapter",["ember-data/system/adapter","exports"],function(__dependency1__,__exports__){"use strict";var get=Ember.get;var fmt=Ember.String.fmt;var indexOf=Ember.EnumerableUtils.indexOf;var counter=0;var Adapter=__dependency1__["default"];__exports__["default"]=Adapter.extend({serializer:null,simulateRemoteResponse:true,latency:50,fixturesForType:function(type){if(type.FIXTURES){var fixtures=Ember.A(type.FIXTURES);return fixtures.map(function(fixture){var fixtureIdType=typeof fixture.id;if(fixtureIdType!=="number"&&fixtureIdType!=="string"){throw new Error(fmt("the id property must be defined as a number or string for fixture %@",[fixture]))}fixture.id=fixture.id+"";return fixture})}return null},queryFixtures:function(fixtures,query,type){},updateFixtures:function(type,fixture){if(!type.FIXTURES){type.FIXTURES=[]}var fixtures=type.FIXTURES;this.deleteLoadedFixture(type,fixture);fixtures.push(fixture)},mockJSON:function(store,type,record){return store.serializerFor(type).serialize(record,{includeId:true})},generateIdForRecord:function(store){return"fixture-"+counter++},find:function(store,type,id){var fixtures=this.fixturesForType(type);var fixture;if(fixtures){fixture=Ember.A(fixtures).findBy("id",id)}if(fixture){return this.simulateRemoteCall(function(){return fixture},this)}},findMany:function(store,type,ids){var fixtures=this.fixturesForType(type);if(fixtures){fixtures=fixtures.filter(function(item){return indexOf(ids,item.id)!==-1})}if(fixtures){return this.simulateRemoteCall(function(){return fixtures},this)}},findAll:function(store,type){var fixtures=this.fixturesForType(type);return this.simulateRemoteCall(function(){return fixtures},this)},findQuery:function(store,type,query,array){var fixtures=this.fixturesForType(type);fixtures=this.queryFixtures(fixtures,query,type);if(fixtures){return this.simulateRemoteCall(function(){return fixtures},this)}},createRecord:function(store,type,record){var fixture=this.mockJSON(store,type,record);this.updateFixtures(type,fixture);return this.simulateRemoteCall(function(){return fixture},this)},updateRecord:function(store,type,record){var fixture=this.mockJSON(store,type,record);this.updateFixtures(type,fixture);return this.simulateRemoteCall(function(){return fixture},this)},deleteRecord:function(store,type,record){this.deleteLoadedFixture(type,record);return this.simulateRemoteCall(function(){return null})},deleteLoadedFixture:function(type,record){var existingFixture=this.findExistingFixture(type,record);if(existingFixture){var index=indexOf(type.FIXTURES,existingFixture);type.FIXTURES.splice(index,1);return true}},findExistingFixture:function(type,record){var fixtures=this.fixturesForType(type);var id=get(record,"id");return this.findFixtureById(fixtures,id)},findFixtureById:function(fixtures,id){return Ember.A(fixtures).find(function(r){if(""+get(r,"id")===""+id){return true}else{return false}})},simulateRemoteCall:function(callback,context){var adapter=this;return new Ember.RSVP.Promise(function(resolve){var value=Ember.copy(callback.call(context),true);if(get(adapter,"simulateRemoteResponse")){Ember.run.later(function(){resolve(value)},get(adapter,"latency"))}else{Ember.run.schedule("actions",null,function(){resolve(value)})}},"DS: FixtureAdapter#simulateRemoteCall")}})});define("ember-data/adapters/rest_adapter",["ember-data/system/adapter","ember-data/system/map","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Adapter=__dependency1__.Adapter;var InvalidError=__dependency1__.InvalidError;var MapWithDefault=__dependency2__.MapWithDefault;var get=Ember.get;var forEach=Ember.ArrayPolyfills.forEach;__exports__["default"]=Adapter.extend({defaultSerializer:"-rest",coalesceFindRequests:false,find:function(store,type,id,record){return this.ajax(this.buildURL(type.typeKey,id,record),"GET")},findAll:function(store,type,sinceToken){var query;if(sinceToken){query={since:sinceToken}}return this.ajax(this.buildURL(type.typeKey),"GET",{data:query})},findQuery:function(store,type,query){return this.ajax(this.buildURL(type.typeKey),"GET",{data:query})},findMany:function(store,type,ids,records){return this.ajax(this.buildURL(type.typeKey,ids,records),"GET",{data:{ids:ids}})},findHasMany:function(store,record,url,relationship){var host=get(this,"host");var id=get(record,"id");var type=record.constructor.typeKey;if(host&&url.charAt(0)==="/"&&url.charAt(1)!=="/"){url=host+url}return this.ajax(this.urlPrefix(url,this.buildURL(type,id)),"GET")},findBelongsTo:function(store,record,url,relationship){var id=get(record,"id");var type=record.constructor.typeKey;return this.ajax(this.urlPrefix(url,this.buildURL(type,id)),"GET")},createRecord:function(store,type,record){var data={};var serializer=store.serializerFor(type.typeKey);serializer.serializeIntoHash(data,type,record,{includeId:true});return this.ajax(this.buildURL(type.typeKey,null,record),"POST",{data:data})},updateRecord:function(store,type,record){var data={};var serializer=store.serializerFor(type.typeKey);serializer.serializeIntoHash(data,type,record);var id=get(record,"id");return this.ajax(this.buildURL(type.typeKey,id,record),"PUT",{data:data})},deleteRecord:function(store,type,record){var id=get(record,"id");return this.ajax(this.buildURL(type.typeKey,id,record),"DELETE")},buildURL:function(type,id,record){var url=[],host=get(this,"host"),prefix=this.urlPrefix();if(type){url.push(this.pathForType(type))}if(id&&!Ember.isArray(id)){url.push(encodeURIComponent(id))}if(prefix){url.unshift(prefix)}url=url.join("/");if(!host&&url){url="/"+url}return url},urlPrefix:function(path,parentURL){var host=get(this,"host");var namespace=get(this,"namespace");var url=[];if(path){if(path.charAt(0)==="/"){if(host){path=path.slice(1);url.push(host)}}else if(!/^http(s)?:\/\//.test(path)){url.push(parentURL)}}else{if(host){url.push(host)}if(namespace){url.push(namespace)}}if(path){url.push(path)}return url.join("/")},_stripIDFromURL:function(store,record){var type=store.modelFor(record);var url=this.buildURL(type.typeKey,record.get("id"),record);var expandedURL=url.split("/");var lastSegment=expandedURL[expandedURL.length-1];var id=record.get("id");if(lastSegment===id){expandedURL[expandedURL.length-1]=""}else if(endsWith(lastSegment,"?id="+id)){expandedURL[expandedURL.length-1]=lastSegment.substring(0,lastSegment.length-id.length-1)}return expandedURL.join("/")},groupRecordsForFindMany:function(store,records){var groups=MapWithDefault.create({defaultValue:function(){return[]}});var adapter=this;forEach.call(records,function(record){var baseUrl=adapter._stripIDFromURL(store,record);groups.get(baseUrl).push(record)});function splitGroupToFitInUrl(group,maxUrlLength){var baseUrl=adapter._stripIDFromURL(store,group[0]);var idsSize=0;var splitGroups=[[]];forEach.call(group,function(record){var additionalLength="&ids[]=".length+record.get("id.length");if(baseUrl.length+idsSize+additionalLength>=maxUrlLength){idsSize=0;splitGroups.push([])}idsSize+=additionalLength;var lastGroupIndex=splitGroups.length-1;splitGroups[lastGroupIndex].push(record)});return splitGroups}var groupsArray=[];groups.forEach(function(group,key){var maxUrlLength=2048;
var splitGroups=splitGroupToFitInUrl(group,maxUrlLength);forEach.call(splitGroups,function(splitGroup){groupsArray.push(splitGroup)})});return groupsArray},pathForType:function(type){var camelized=Ember.String.camelize(type);return Ember.String.pluralize(camelized)},ajaxError:function(jqXHR,responseText){if(jqXHR&&typeof jqXHR==="object"){jqXHR.then=null}return jqXHR},ajaxSuccess:function(jqXHR,jsonPayload){return jsonPayload},ajax:function(url,type,options){var adapter=this;return new Ember.RSVP.Promise(function(resolve,reject){var hash=adapter.ajaxOptions(url,type,options);hash.success=function(json,textStatus,jqXHR){json=adapter.ajaxSuccess(jqXHR,json);if(json instanceof InvalidError){Ember.run(null,reject,json)}else{Ember.run(null,resolve,json)}};hash.error=function(jqXHR,textStatus,errorThrown){Ember.run(null,reject,adapter.ajaxError(jqXHR,jqXHR.responseText))};Ember.$.ajax(hash)},"DS: RESTAdapter#ajax "+type+" to "+url)},ajaxOptions:function(url,type,options){var hash=options||{};hash.url=url;hash.type=type;hash.dataType="json";hash.context=this;if(hash.data&&type!=="GET"){hash.contentType="application/json; charset=utf-8";hash.data=JSON.stringify(hash.data)}var headers=get(this,"headers");if(headers!==undefined){hash.beforeSend=function(xhr){forEach.call(Ember.keys(headers),function(key){xhr.setRequestHeader(key,headers[key])})}}return hash}});function endsWith(string,suffix){if(typeof String.prototype.endsWith!=="function"){return string.indexOf(suffix,string.length-suffix.length)!==-1}else{return string.endsWith(suffix)}}});define("ember-data/core",["exports"],function(__exports__){"use strict";var DS;if("undefined"===typeof DS){DS=Ember.Namespace.create({VERSION:"1.0.0-beta.11"});if(Ember.libraries){Ember.libraries.registerCoreLibrary("Ember Data",DS.VERSION)}}__exports__["default"]=DS});define("ember-data/ember-initializer",["ember-data/setup-container"],function(__dependency1__){"use strict";var setupContainer=__dependency1__["default"];var K=Ember.K;Ember.onLoad("Ember.Application",function(Application){Application.initializer({name:"ember-data",initialize:setupContainer});Application.initializer({name:"store",after:"ember-data",initialize:K});Application.initializer({name:"activeModelAdapter",before:"store",initialize:K});Application.initializer({name:"transforms",before:"store",initialize:K});Application.initializer({name:"data-adapter",before:"store",initialize:K});Application.initializer({name:"injectStore",before:"store",initialize:K})})});define("ember-data/ext/date",[],function(){"use strict";Ember.Date=Ember.Date||{};var origParse=Date.parse,numericKeys=[1,4,5,6,7,10,11];Ember.Date.parse=function(date){var timestamp,struct,minutesOffset=0;if(struct=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(date)){for(var i=0,k;k=numericKeys[i];++i){struct[k]=+struct[k]||0}struct[2]=(+struct[2]||1)-1;struct[3]=+struct[3]||1;if(struct[8]!=="Z"&&struct[9]!==undefined){minutesOffset=struct[10]*60+struct[11];if(struct[9]==="+"){minutesOffset=0-minutesOffset}}timestamp=Date.UTC(struct[1],struct[2],struct[3],struct[4],struct[5]+minutesOffset,struct[6],struct[7])}else{timestamp=origParse?origParse(date):NaN}return timestamp};if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.Date){Date.parse=Ember.Date.parse}});define("ember-data/initializers/data_adapter",["ember-data/system/debug/debug_adapter","exports"],function(__dependency1__,__exports__){"use strict";var DebugAdapter=__dependency1__["default"];__exports__["default"]=function initializeDebugAdapter(container){container.register("data-adapter:main",DebugAdapter)}});define("ember-data/initializers/store",["ember-data/serializers","ember-data/adapters","ember-data/system/container_proxy","ember-data/system/store","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var JSONSerializer=__dependency1__.JSONSerializer;var RESTSerializer=__dependency1__.RESTSerializer;var RESTAdapter=__dependency2__.RESTAdapter;var ContainerProxy=__dependency3__["default"];var Store=__dependency4__["default"];__exports__["default"]=function initializeStore(container,application){container.register("store:main",container.lookupFactory("store:application")||application&&application.Store||Store);var proxy=new ContainerProxy(container);proxy.registerDeprecations([{deprecated:"serializer:_default",valid:"serializer:-default"},{deprecated:"serializer:_rest",valid:"serializer:-rest"},{deprecated:"adapter:_rest",valid:"adapter:-rest"}]);container.register("serializer:-default",JSONSerializer);container.register("serializer:-rest",RESTSerializer);container.register("adapter:-rest",RESTAdapter);container.lookup("store:main")}});define("ember-data/initializers/store_injections",["exports"],function(__exports__){"use strict";__exports__["default"]=function initializeStoreInjections(container){container.injection("controller","store","store:main");container.injection("route","store","store:main");container.injection("serializer","store","store:main");container.injection("data-adapter","store","store:main")}});define("ember-data/initializers/transforms",["ember-data/transforms","exports"],function(__dependency1__,__exports__){"use strict";var BooleanTransform=__dependency1__.BooleanTransform;var DateTransform=__dependency1__.DateTransform;var StringTransform=__dependency1__.StringTransform;var NumberTransform=__dependency1__.NumberTransform;__exports__["default"]=function initializeTransforms(container){container.register("transform:boolean",BooleanTransform);container.register("transform:date",DateTransform);container.register("transform:number",NumberTransform);container.register("transform:string",StringTransform)}});define("ember-data/serializers",["ember-data/serializers/json_serializer","ember-data/serializers/rest_serializer","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var JSONSerializer=__dependency1__["default"];var RESTSerializer=__dependency2__["default"];__exports__.JSONSerializer=JSONSerializer;__exports__.RESTSerializer=RESTSerializer});define("ember-data/serializers/embedded_records_mixin",["exports"],function(__exports__){"use strict";var get=Ember.get;var forEach=Ember.EnumerableUtils.forEach;var camelize=Ember.String.camelize;var EmbeddedRecordsMixin=Ember.Mixin.create({normalize:function(type,hash,prop){var normalizedHash=this._super(type,hash,prop);return extractEmbeddedRecords(this,this.store,type,normalizedHash)},keyForRelationship:function(key,type){if(this.hasDeserializeRecordsOption(key)){return this.keyForAttribute(key)}else{return this._super(key,type)||key}},serializeBelongsTo:function(record,json,relationship){var attr=relationship.key;if(this.noSerializeOptionSpecified(attr)){this._super(record,json,relationship);return}var includeIds=this.hasSerializeIdsOption(attr);var includeRecords=this.hasSerializeRecordsOption(attr);var embeddedRecord=record.get(attr);var key;if(includeIds){key=this.keyForRelationship(attr,relationship.kind);if(!embeddedRecord){json[key]=null}else{json[key]=get(embeddedRecord,"id")}}else if(includeRecords){key=this.keyForAttribute(attr);if(!embeddedRecord){json[key]=null}else{json[key]=embeddedRecord.serialize({includeId:true});this.removeEmbeddedForeignKey(record,embeddedRecord,relationship,json[key])}}},serializeHasMany:function(record,json,relationship){var attr=relationship.key;if(this.noSerializeOptionSpecified(attr)){this._super(record,json,relationship);return}var includeIds=this.hasSerializeIdsOption(attr);var includeRecords=this.hasSerializeRecordsOption(attr);var key;if(includeIds){key=this.keyForRelationship(attr,relationship.kind);json[key]=get(record,attr).mapBy("id")}else if(includeRecords){key=this.keyForAttribute(attr);json[key]=get(record,attr).map(function(embeddedRecord){var serializedEmbeddedRecord=embeddedRecord.serialize({includeId:true});this.removeEmbeddedForeignKey(record,embeddedRecord,relationship,serializedEmbeddedRecord);return serializedEmbeddedRecord},this)}},removeEmbeddedForeignKey:function(record,embeddedRecord,relationship,json){if(relationship.kind==="hasMany"){return}else if(relationship.kind==="belongsTo"){var parentRecord=record.constructor.inverseFor(relationship.key);if(parentRecord){var name=parentRecord.name;var embeddedSerializer=this.store.serializerFor(embeddedRecord.constructor);var parentKey=embeddedSerializer.keyForRelationship(name,parentRecord.kind);if(parentKey){delete json[parentKey]}}}},hasEmbeddedAlwaysOption:function(attr){var option=this.attrsOption(attr);return option&&option.embedded==="always"},hasSerializeRecordsOption:function(attr){var alwaysEmbed=this.hasEmbeddedAlwaysOption(attr);var option=this.attrsOption(attr);return alwaysEmbed||option&&option.serialize==="records"},hasSerializeIdsOption:function(attr){var option=this.attrsOption(attr);return option&&(option.serialize==="ids"||option.serialize==="id")},noSerializeOptionSpecified:function(attr){var option=this.attrsOption(attr);return!(option&&(option.serialize||option.embedded))},hasDeserializeRecordsOption:function(attr){var alwaysEmbed=this.hasEmbeddedAlwaysOption(attr);var option=this.attrsOption(attr);return alwaysEmbed||option&&option.deserialize==="records"},attrsOption:function(attr){var attrs=this.get("attrs");return attrs&&(attrs[camelize(attr)]||attrs[attr])}});function extractEmbeddedRecords(serializer,store,type,partial){type.eachRelationship(function(key,relationship){if(serializer.hasDeserializeRecordsOption(key)){var embeddedType=store.modelFor(relationship.type.typeKey);if(relationship.kind==="hasMany"){if(relationship.options.polymorphic){extractEmbeddedHasManyPolymorphic(store,key,partial)}else{extractEmbeddedHasMany(store,key,embeddedType,partial)}}if(relationship.kind==="belongsTo"){extractEmbeddedBelongsTo(store,key,embeddedType,partial)}}});return partial}function extractEmbeddedHasMany(store,key,embeddedType,hash){if(!hash[key]){return hash}var ids=[];var embeddedSerializer=store.serializerFor(embeddedType.typeKey);forEach(hash[key],function(data){var embeddedRecord=embeddedSerializer.normalize(embeddedType,data,null);store.push(embeddedType,embeddedRecord);ids.push(embeddedRecord.id)});hash[key]=ids;return hash}function extractEmbeddedHasManyPolymorphic(store,key,hash){if(!hash[key]){return hash}var ids=[];forEach(hash[key],function(data){var typeKey=data.type;var embeddedSerializer=store.serializerFor(typeKey);var embeddedType=store.modelFor(typeKey);var primaryKey=get(embeddedSerializer,"primaryKey");var embeddedRecord=embeddedSerializer.normalize(embeddedType,data,null);store.push(embeddedType,embeddedRecord);ids.push({id:embeddedRecord[primaryKey],type:typeKey})});hash[key]=ids;return hash}function extractEmbeddedBelongsTo(store,key,embeddedType,hash){if(!hash[key]){return hash}var embeddedSerializer=store.serializerFor(embeddedType.typeKey);var embeddedRecord=embeddedSerializer.normalize(embeddedType,hash[key],null);store.push(embeddedType,embeddedRecord);hash[key]=embeddedRecord.id;return hash}__exports__["default"]=EmbeddedRecordsMixin});define("ember-data/serializers/json_serializer",["exports"],function(__exports__){"use strict";var get=Ember.get;var isNone=Ember.isNone;var map=Ember.ArrayPolyfills.map;var merge=Ember.merge;__exports__["default"]=Ember.Object.extend({primaryKey:"id",applyTransforms:function(type,data){type.eachTransformedAttribute(function applyTransform(key,type){if(!data.hasOwnProperty(key)){return}var transform=this.transformFor(type);data[key]=transform.deserialize(data[key])},this);return data},normalize:function(type,hash){if(!hash){return hash}this.normalizeId(hash);this.normalizeAttributes(type,hash);this.normalizeRelationships(type,hash);this.normalizeUsingDeclaredMapping(type,hash);this.applyTransforms(type,hash);return hash},normalizePayload:function(payload){return payload},normalizeAttributes:function(type,hash){var payloadKey;if(this.keyForAttribute){type.eachAttribute(function(key){payloadKey=this.keyForAttribute(key);if(key===payloadKey){return}if(!hash.hasOwnProperty(payloadKey)){return}hash[key]=hash[payloadKey];delete hash[payloadKey]},this)}},normalizeRelationships:function(type,hash){var payloadKey;if(this.keyForRelationship){type.eachRelationship(function(key,relationship){payloadKey=this.keyForRelationship(key,relationship.kind);if(key===payloadKey){return}if(!hash.hasOwnProperty(payloadKey)){return}hash[key]=hash[payloadKey];delete hash[payloadKey]},this)}},normalizeUsingDeclaredMapping:function(type,hash){var attrs=get(this,"attrs"),payloadKey,key;if(attrs){for(key in attrs){payloadKey=this._getMappedKey(key);if(!hash.hasOwnProperty(payloadKey)){continue}if(payloadKey!==key){hash[key]=hash[payloadKey];delete hash[payloadKey]}}}},normalizeId:function(hash){var primaryKey=get(this,"primaryKey");if(primaryKey==="id"){return}hash.id=hash[primaryKey];delete hash[primaryKey]},_getMappedKey:function(key){var attrs=get(this,"attrs");var mappedKey;if(attrs&&attrs[key]){mappedKey=attrs[key];if(mappedKey.key){mappedKey=mappedKey.key}if(typeof mappedKey==="string"){key=mappedKey}}return key},_canSerialize:function(key){var attrs=get(this,"attrs");return!attrs||!attrs[key]||attrs[key].serialize!==false},serialize:function(record,options){var json={};if(options&&options.includeId){var id=get(record,"id");if(id){json[get(this,"primaryKey")]=id}}record.eachAttribute(function(key,attribute){this.serializeAttribute(record,json,key,attribute)},this);record.eachRelationship(function(key,relationship){if(relationship.kind==="belongsTo"){this.serializeBelongsTo(record,json,relationship)}else if(relationship.kind==="hasMany"){this.serializeHasMany(record,json,relationship)}},this);return json},serializeIntoHash:function(hash,type,record,options){merge(hash,this.serialize(record,options))},serializeAttribute:function(record,json,key,attribute){var type=attribute.type;if(this._canSerialize(key)){var value=get(record,key);if(type){var transform=this.transformFor(type);value=transform.serialize(value)}var payloadKey=this._getMappedKey(key);if(payloadKey===key&&this.keyForAttribute){payloadKey=this.keyForAttribute(key)}json[payloadKey]=value}},serializeBelongsTo:function(record,json,relationship){var key=relationship.key;if(this._canSerialize(key)){var belongsTo=get(record,key);var payloadKey=this._getMappedKey(key);if(payloadKey===key&&this.keyForRelationship){payloadKey=this.keyForRelationship(key,"belongsTo")}if(isNone(belongsTo)||isNone(get(belongsTo,"id"))){json[payloadKey]=null}else{json[payloadKey]=get(belongsTo,"id")}if(relationship.options.polymorphic){this.serializePolymorphicType(record,json,relationship)}}},serializeHasMany:function(record,json,relationship){var key=relationship.key;if(this._canSerialize(key)){var payloadKey;payloadKey=this._getMappedKey(key);if(payloadKey===key&&this.keyForRelationship){payloadKey=this.keyForRelationship(key,"hasMany")}var relationshipType=record.constructor.determineRelationshipType(relationship);if(relationshipType==="manyToNone"||relationshipType==="manyToMany"){json[payloadKey]=get(record,key).mapBy("id")}}},serializePolymorphicType:Ember.K,extract:function(store,type,payload,id,requestType){this.extractMeta(store,type,payload);var specificExtract="extract"+requestType.charAt(0).toUpperCase()+requestType.substr(1);return this[specificExtract](store,type,payload,id,requestType)},extractFindAll:function(store,type,payload,id,requestType){return this.extractArray(store,type,payload,id,requestType)},extractFindQuery:function(store,type,payload,id,requestType){return this.extractArray(store,type,payload,id,requestType)},extractFindMany:function(store,type,payload,id,requestType){return this.extractArray(store,type,payload,id,requestType)},extractFindHasMany:function(store,type,payload,id,requestType){return this.extractArray(store,type,payload,id,requestType)},extractCreateRecord:function(store,type,payload,id,requestType){return this.extractSave(store,type,payload,id,requestType)},extractUpdateRecord:function(store,type,payload,id,requestType){return this.extractSave(store,type,payload,id,requestType)},extractDeleteRecord:function(store,type,payload,id,requestType){return this.extractSave(store,type,payload,id,requestType)},extractFind:function(store,type,payload,id,requestType){return this.extractSingle(store,type,payload,id,requestType)},extractFindBelongsTo:function(store,type,payload,id,requestType){return this.extractSingle(store,type,payload,id,requestType)},extractSave:function(store,type,payload,id,requestType){return this.extractSingle(store,type,payload,id,requestType)},extractSingle:function(store,type,payload,id,requestType){payload=this.normalizePayload(payload);return this.normalize(type,payload)},extractArray:function(store,type,arrayPayload,id,requestType){var normalizedPayload=this.normalizePayload(arrayPayload);var serializer=this;return map.call(normalizedPayload,function(singlePayload){return serializer.normalize(type,singlePayload)})},extractMeta:function(store,type,payload){if(payload&&payload.meta){store.metaForType(type,payload.meta);delete payload.meta}},keyForAttribute:function(key){return key},keyForRelationship:function(key,type){return key},transformFor:function(attributeType,skipAssertion){var transform=this.container.lookup("transform:"+attributeType);return transform}})});define("ember-data/serializers/rest_serializer",["ember-data/serializers/json_serializer","ember-inflector/system/string","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var JSONSerializer=__dependency1__["default"];var get=Ember.get;var forEach=Ember.ArrayPolyfills.forEach;var map=Ember.ArrayPolyfills.map;var camelize=Ember.String.camelize;var singularize=__dependency2__.singularize;function coerceId(id){return id==null?null:id+""}var RESTSerializer=JSONSerializer.extend({normalize:function(type,hash,prop){this.normalizeId(hash);this.normalizeAttributes(type,hash);this.normalizeRelationships(type,hash);this.normalizeUsingDeclaredMapping(type,hash);if(this.normalizeHash&&this.normalizeHash[prop]){this.normalizeHash[prop](hash)}this.applyTransforms(type,hash);return hash},extractSingle:function(store,primaryType,rawPayload,recordId){var payload=this.normalizePayload(rawPayload);var primaryTypeName=primaryType.typeKey;var primaryRecord;for(var prop in payload){var typeName=this.typeForRoot(prop);if(!store.modelFactoryFor(typeName)){continue}var type=store.modelFor(typeName);var isPrimary=type.typeKey===primaryTypeName;var value=payload[prop];if(isPrimary&&Ember.typeOf(value)!=="array"){primaryRecord=this.normalize(primaryType,value,prop);continue}forEach.call(value,function(hash){var typeName=this.typeForRoot(prop);var type=store.modelFor(typeName);var typeSerializer=store.serializerFor(type);hash=typeSerializer.normalize(type,hash,prop);var isFirstCreatedRecord=isPrimary&&!recordId&&!primaryRecord;var isUpdatedRecord=isPrimary&&coerceId(hash.id)===recordId;if(isFirstCreatedRecord||isUpdatedRecord){primaryRecord=hash}else{store.push(typeName,hash)}},this)}return primaryRecord},extractArray:function(store,primaryType,rawPayload){var payload=this.normalizePayload(rawPayload);var primaryTypeName=primaryType.typeKey;var primaryArray;for(var prop in payload){var typeKey=prop;var forcedSecondary=false;if(prop.charAt(0)==="_"){forcedSecondary=true;typeKey=prop.substr(1)}var typeName=this.typeForRoot(typeKey);if(!store.modelFactoryFor(typeName)){continue}var type=store.modelFor(typeName);var typeSerializer=store.serializerFor(type);var isPrimary=!forcedSecondary&&type.typeKey===primaryTypeName;var normalizedArray=map.call(payload[prop],function(hash){return typeSerializer.normalize(type,hash,prop)},this);if(isPrimary){primaryArray=normalizedArray}else{store.pushMany(typeName,normalizedArray)}}return primaryArray},pushPayload:function(store,rawPayload){var payload=this.normalizePayload(rawPayload);for(var prop in payload){var typeName=this.typeForRoot(prop);if(!store.modelFactoryFor(typeName,prop)){continue}var type=store.modelFor(typeName);var typeSerializer=store.serializerFor(type);var normalizedArray=map.call(Ember.makeArray(payload[prop]),function(hash){return typeSerializer.normalize(type,hash,prop)},this);store.pushMany(typeName,normalizedArray)}},typeForRoot:function(key){return camelize(singularize(key))},serialize:function(record,options){return this._super.apply(this,arguments)},serializeIntoHash:function(hash,type,record,options){hash[type.typeKey]=this.serialize(record,options)},serializePolymorphicType:function(record,json,relationship){var key=relationship.key;var belongsTo=get(record,key);key=this.keyForAttribute?this.keyForAttribute(key):key;if(Ember.isNone(belongsTo)){json[key+"Type"]=null}else{json[key+"Type"]=Ember.String.camelize(belongsTo.constructor.typeKey)}}});__exports__["default"]=RESTSerializer});define("ember-data/setup-container",["ember-data/initializers/store","ember-data/initializers/transforms","ember-data/initializers/store_injections","ember-data/initializers/data_adapter","activemodel-adapter/setup-container","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var initializeStore=__dependency1__["default"];var initializeTransforms=__dependency2__["default"];var initializeStoreInjections=__dependency3__["default"];var initializeDataAdapter=__dependency4__["default"];var setupActiveModelContainer=__dependency5__["default"];__exports__["default"]=function setupContainer(container,application){initializeDataAdapter(container,application);initializeTransforms(container,application);initializeStoreInjections(container,application);initializeStore(container,application);setupActiveModelContainer(container,application)}});define("ember-data/system/adapter",["exports"],function(__exports__){"use strict";var get=Ember.get;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];function InvalidError(errors){var tmp=Error.prototype.constructor.call(this,"The backend rejected the commit because it was invalid: "+Ember.inspect(errors));this.errors=errors;for(var i=0,l=errorProps.length;i<l;i++){this[errorProps[i]]=tmp[errorProps[i]]}}InvalidError.prototype=Ember.create(Error.prototype);var Adapter=Ember.Object.extend({find:Ember.required(Function),findAll:null,findQuery:null,generateIdForRecord:null,serialize:function(record,options){return get(record,"store").serializerFor(record.constructor.typeKey).serialize(record,options)},createRecord:Ember.required(Function),updateRecord:Ember.required(Function),deleteRecord:Ember.required(Function),coalesceFindRequests:true,groupRecordsForFindMany:function(store,records){return[records]}});__exports__.InvalidError=InvalidError;__exports__.Adapter=Adapter;__exports__["default"]=Adapter});define("ember-data/system/container_proxy",["exports"],function(__exports__){"use strict";function ContainerProxy(container){this.container=container}ContainerProxy.prototype.aliasedFactory=function(path,preLookup){var _this=this;return{create:function(){if(preLookup){preLookup()}return _this.container.lookup(path)}}};ContainerProxy.prototype.registerAlias=function(source,dest,preLookup){var factory=this.aliasedFactory(dest,preLookup);return this.container.register(source,factory)};ContainerProxy.prototype.registerDeprecation=function(deprecated,valid){var preLookupCallback=function(){};return this.registerAlias(deprecated,valid,preLookupCallback)};ContainerProxy.prototype.registerDeprecations=function(proxyPairs){var i,proxyPair,deprecated,valid;for(i=proxyPairs.length;i>0;i--){proxyPair=proxyPairs[i-1];deprecated=proxyPair["deprecated"];valid=proxyPair["valid"];this.registerDeprecation(deprecated,valid)}};__exports__["default"]=ContainerProxy});define("ember-data/system/debug",["ember-data/system/debug/debug_info","ember-data/system/debug/debug_adapter","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var DebugAdapter=__dependency2__["default"];__exports__["default"]=DebugAdapter});define("ember-data/system/debug/debug_adapter",["ember-data/system/model","exports"],function(__dependency1__,__exports__){"use strict";var Model=__dependency1__.Model;var get=Ember.get;var capitalize=Ember.String.capitalize;var underscore=Ember.String.underscore;__exports__["default"]=Ember.DataAdapter.extend({getFilters:function(){return[{name:"isNew",desc:"New"},{name:"isModified",desc:"Modified"},{name:"isClean",desc:"Clean"}]},detect:function(klass){return klass!==Model&&Model.detect(klass)},columnsForType:function(type){var columns=[{name:"id",desc:"Id"}];var count=0;var self=this;get(type,"attributes").forEach(function(meta,name){if(count++>self.attributeLimit){return false}var desc=capitalize(underscore(name).replace("_"," "));columns.push({name:name,desc:desc})});return columns},getRecords:function(type){return this.get("store").all(type)},getRecordColumnValues:function(record){var self=this,count=0;var columnValues={id:get(record,"id")};record.eachAttribute(function(key){if(count++>self.attributeLimit){return false}var value=get(record,key);columnValues[key]=value});return columnValues},getRecordKeywords:function(record){var keywords=[];var keys=Ember.A(["id"]);record.eachAttribute(function(key){keys.push(key)});keys.forEach(function(key){keywords.push(get(record,key))});return keywords},getRecordFilterValues:function(record){return{isNew:record.get("isNew"),isModified:record.get("isDirty")&&!record.get("isNew"),isClean:!record.get("isDirty")}},getRecordColor:function(record){var color="black";if(record.get("isNew")){color="green"}else if(record.get("isDirty")){color="blue"}return color},observeRecord:function(record,recordUpdated){var releaseMethods=Ember.A(),self=this;var keysToObserve=Ember.A(["id","isNew","isDirty"]);record.eachAttribute(function(key){keysToObserve.push(key)});keysToObserve.forEach(function(key){var handler=function(){recordUpdated(self.wrapRecord(record))};Ember.addObserver(record,key,handler);releaseMethods.push(function(){Ember.removeObserver(record,key,handler)})});var release=function(){releaseMethods.forEach(function(fn){fn()})};return release}})});define("ember-data/system/debug/debug_info",["ember-data/system/model","exports"],function(__dependency1__,__exports__){"use strict";var Model=__dependency1__.Model;Model.reopen({_debugInfo:function(){var attributes=["id"],relationships={belongsTo:[],hasMany:[]},expensiveProperties=[];this.eachAttribute(function(name,meta){attributes.push(name)},this);this.eachRelationship(function(name,relationship){relationships[relationship.kind].push(name);expensiveProperties.push(name)});var groups=[{name:"Attributes",properties:attributes,expand:true},{name:"Belongs To",properties:relationships.belongsTo,expand:true},{name:"Has Many",properties:relationships.hasMany,expand:true},{name:"Flags",properties:["isLoaded","isDirty","isSaving","isDeleted","isError","isNew","isValid"]}];return{propertyInfo:{includeOtherProperties:true,groups:groups,expensiveProperties:expensiveProperties}}}});__exports__["default"]=Model});define("ember-data/system/map",["exports"],function(__exports__){"use strict";var mapForEach,deleteFn;function OrderedSet(){Ember.OrderedSet.apply(this,arguments)}function Map(){Ember.Map.apply(this,arguments)}function MapWithDefault(){Ember.MapWithDefault.apply(this,arguments)}var testMap=Ember.Map.create();testMap.set("key","value");var usesOldBehavior=false;testMap.forEach(function(value,key){usesOldBehavior=value==="key"&&key==="value"});Map.prototype=Object.create(Ember.Map.prototype);MapWithDefault.prototype=Object.create(Ember.MapWithDefault.prototype);OrderedSet.prototype=Object.create(Ember.OrderedSet.prototype);OrderedSet.create=function(){return new OrderedSet};function translate(valueKeyOrderedCallback){return function(key,value){valueKeyOrderedCallback.call(this,value,key)}}if(usesOldBehavior){mapForEach=function(callback,thisArg){this.__super$forEach(translate(callback),thisArg)};deleteFn=function(thing){this.remove(thing)};Map.prototype.__super$forEach=Ember.Map.prototype.forEach;Map.prototype.forEach=mapForEach;Map.prototype["delete"]=deleteFn;MapWithDefault.prototype.forEach=mapForEach;MapWithDefault.prototype.__super$forEach=Ember.MapWithDefault.prototype.forEach;MapWithDefault.prototype["delete"]=deleteFn;OrderedSet.prototype["delete"]=deleteFn}MapWithDefault.constructor=MapWithDefault;Map.constructor=Map;MapWithDefault.create=function(options){if(options){return new MapWithDefault(options)}else{return new Map}};Map.create=function(){return new this.constructor};__exports__["default"]=Map;__exports__.Map=Map;__exports__.MapWithDefault=MapWithDefault;__exports__.OrderedSet=OrderedSet});define("ember-data/system/model",["ember-data/system/model/model","ember-data/system/model/attributes","ember-data/system/model/states","ember-data/system/model/errors","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var Model=__dependency1__["default"];var attr=__dependency2__["default"];var RootState=__dependency3__["default"];var Errors=__dependency4__["default"];__exports__.Model=Model;__exports__.RootState=RootState;__exports__.attr=attr;__exports__.Errors=Errors});define("ember-data/system/model/attributes",["ember-data/system/model/model","ember-data/system/map","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Model=__dependency1__["default"];var Map=__dependency2__.Map;var get=Ember.get;Model.reopenClass({attributes:Ember.computed(function(){var map=Map.create();this.eachComputedProperty(function(name,meta){if(meta.isAttribute){meta.name=name;map.set(name,meta)}});return map}).readOnly(),transformedAttributes:Ember.computed(function(){var map=Map.create();this.eachAttribute(function(key,meta){if(meta.type){map.set(key,meta.type)}});return map}).readOnly(),eachAttribute:function(callback,binding){get(this,"attributes").forEach(function(meta,name){callback.call(binding,name,meta)},binding)},eachTransformedAttribute:function(callback,binding){get(this,"transformedAttributes").forEach(function(type,name){callback.call(binding,name,type)})}});Model.reopen({eachAttribute:function(callback,binding){this.constructor.eachAttribute(callback,binding)}});function getDefaultValue(record,options,key){if(typeof options.defaultValue==="function"){return options.defaultValue.apply(null,arguments)}else{return options.defaultValue}}function hasValue(record,key){return record._attributes.hasOwnProperty(key)||record._inFlightAttributes.hasOwnProperty(key)||record._data.hasOwnProperty(key)}function getValue(record,key){if(record._attributes.hasOwnProperty(key)){return record._attributes[key]}else if(record._inFlightAttributes.hasOwnProperty(key)){return record._inFlightAttributes[key]}else{return record._data[key]}}__exports__["default"]=function attr(type,options){options=options||{};var meta={type:type,isAttribute:true,options:options};return Ember.computed("data",function(key,value){if(arguments.length>1){var oldValue=getValue(this,key);if(value!==oldValue){this._attributes[key]=value;this.send("didSetProperty",{name:key,oldValue:oldValue,originalValue:this._data[key],value:value})}return value}else if(hasValue(this,key)){return getValue(this,key)}else{return getDefaultValue(this,options,key)}}).meta(meta)}});define("ember-data/system/model/errors",["ember-data/system/map","exports"],function(__dependency1__,__exports__){"use strict";var get=Ember.get;var isEmpty=Ember.isEmpty;var map=Ember.EnumerableUtils.map;var MapWithDefault=__dependency1__.MapWithDefault;__exports__["default"]=Ember.Object.extend(Ember.Enumerable,Ember.Evented,{registerHandlers:function(target,becameInvalid,becameValid){this.on("becameInvalid",target,becameInvalid);this.on("becameValid",target,becameValid)},errorsByAttributeName:Ember.reduceComputed("content",{initialValue:function(){return MapWithDefault.create({defaultValue:function(){return Ember.A()
}})},addedItem:function(errors,error){errors.get(error.attribute).pushObject(error);return errors},removedItem:function(errors,error){errors.get(error.attribute).removeObject(error);return errors}}),errorsFor:function(attribute){return get(this,"errorsByAttributeName").get(attribute)},messages:Ember.computed.mapBy("content","message"),content:Ember.computed(function(){return Ember.A()}),unknownProperty:function(attribute){var errors=this.errorsFor(attribute);if(isEmpty(errors)){return null}return errors},nextObject:function(index,previousObject,context){return get(this,"content").objectAt(index)},length:Ember.computed.oneWay("content.length").readOnly(),isEmpty:Ember.computed.not("length").readOnly(),add:function(attribute,messages){var wasEmpty=get(this,"isEmpty");messages=this._findOrCreateMessages(attribute,messages);get(this,"content").addObjects(messages);this.notifyPropertyChange(attribute);this.enumerableContentDidChange();if(wasEmpty&&!get(this,"isEmpty")){this.trigger("becameInvalid")}},_findOrCreateMessages:function(attribute,messages){var errors=this.errorsFor(attribute);return map(Ember.makeArray(messages),function(message){return errors.findBy("message",message)||{attribute:attribute,message:message}})},remove:function(attribute){if(get(this,"isEmpty")){return}var content=get(this,"content").rejectBy("attribute",attribute);get(this,"content").setObjects(content);this.notifyPropertyChange(attribute);this.enumerableContentDidChange();if(get(this,"isEmpty")){this.trigger("becameValid")}},clear:function(){if(get(this,"isEmpty")){return}get(this,"content").clear();this.enumerableContentDidChange();this.trigger("becameValid")},has:function(attribute){return!isEmpty(this.errorsFor(attribute))}})});define("ember-data/system/model/model",["ember-data/system/model/states","ember-data/system/model/errors","ember-data/system/promise_proxies","ember-data/system/relationships/relationship","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var RootState=__dependency1__["default"];var Errors=__dependency2__["default"];var PromiseObject=__dependency3__.PromiseObject;var createRelationshipFor=__dependency4__.createRelationshipFor;var get=Ember.get;var set=Ember.set;var merge=Ember.merge;var Promise=Ember.RSVP.Promise;var forEach=Ember.ArrayPolyfills.forEach;var map=Ember.ArrayPolyfills.map;var JSONSerializer;var retrieveFromCurrentState=Ember.computed("currentState",function(key,value){return get(get(this,"currentState"),key)}).readOnly();var _extractPivotNameCache=Object.create(null);var _splitOnDotCache=Object.create(null);function splitOnDot(name){return _splitOnDotCache[name]||(_splitOnDotCache[name]=name.split("."))}function extractPivotName(name){return _extractPivotNameCache[name]||(_extractPivotNameCache[name]=splitOnDot(name)[0])}var Model=Ember.Object.extend(Ember.Evented,{_recordArrays:undefined,_relationships:undefined,_loadingRecordArrays:undefined,isEmpty:retrieveFromCurrentState,isLoading:retrieveFromCurrentState,isLoaded:retrieveFromCurrentState,isDirty:retrieveFromCurrentState,isSaving:retrieveFromCurrentState,isDeleted:retrieveFromCurrentState,isNew:retrieveFromCurrentState,isValid:retrieveFromCurrentState,dirtyType:retrieveFromCurrentState,isError:false,isReloading:false,clientId:null,id:null,currentState:RootState.empty,errors:Ember.computed(function(){var errors=Errors.create();errors.registerHandlers(this,function(){this.send("becameInvalid")},function(){this.send("becameValid")});return errors}).readOnly(),serialize:function(options){var store=get(this,"store");return store.serialize(this,options)},toJSON:function(options){if(!JSONSerializer){JSONSerializer=requireModule("ember-data/serializers/json_serializer")["default"]}var serializer=JSONSerializer.create({container:this.container});return serializer.serialize(this,options)},didLoad:Ember.K,didUpdate:Ember.K,didCreate:Ember.K,didDelete:Ember.K,becameInvalid:Ember.K,becameError:Ember.K,data:Ember.computed(function(){this._data=this._data||{};return this._data}).readOnly(),_data:null,init:function(){this._super();this._setup()},_setup:function(){this._changesToSync={};this._deferredTriggers=[];this._data={};this._attributes={};this._inFlightAttributes={};this._relationships={};this._implicitRelationships=Object.create(null);var model=this;this.constructor.eachRelationship(function(key,descriptor){model._relationships[key]=createRelationshipFor(model,descriptor,model.store)})},send:function(name,context){var currentState=get(this,"currentState");if(!currentState[name]){this._unhandledEvent(currentState,name,context)}return currentState[name](this,context)},transitionTo:function(name){var pivotName=extractPivotName(name);var currentState=get(this,"currentState");var state=currentState;do{if(state.exit){state.exit(this)}state=state.parentState}while(!state.hasOwnProperty(pivotName));var path=splitOnDot(name);var setups=[],enters=[],i,l;for(i=0,l=path.length;i<l;i++){state=state[path[i]];if(state.enter){enters.push(state)}if(state.setup){setups.push(state)}}for(i=0,l=enters.length;i<l;i++){enters[i].enter(this)}set(this,"currentState",state);for(i=0,l=setups.length;i<l;i++){setups[i].setup(this)}this.updateRecordArraysLater()},_unhandledEvent:function(state,name,context){var errorMessage="Attempted to handle event `"+name+"` ";errorMessage+="on "+String(this)+" while in state ";errorMessage+=state.stateName+". ";if(context!==undefined){errorMessage+="Called with "+Ember.inspect(context)+"."}throw new Ember.Error(errorMessage)},withTransaction:function(fn){var transaction=get(this,"transaction");if(transaction){fn(transaction)}},loadingData:function(promise){this.send("loadingData",promise)},loadedData:function(){this.send("loadedData")},notFound:function(){this.send("notFound")},pushedData:function(){this.send("pushedData")},deleteRecord:function(){this.send("deleteRecord")},destroyRecord:function(){this.deleteRecord();return this.save()},unloadRecord:function(){if(this.isDestroyed){return}this.send("unloadRecord")},clearRelationships:function(){this.eachRelationship(function(name,relationship){var rel=this._relationships[name];if(rel){rel.clear();rel.destroy()}},this)},disconnectRelationships:function(){this.eachRelationship(function(name,relationship){this._relationships[name].disconnect()},this);var model=this;forEach.call(Ember.keys(this._implicitRelationships),function(key){model._implicitRelationships[key].disconnect()})},reconnectRelationships:function(){this.eachRelationship(function(name,relationship){this._relationships[name].reconnect()},this);var model=this;forEach.call(Ember.keys(this._implicitRelationships),function(key){model._implicitRelationships[key].reconnect()})},updateRecordArrays:function(){this._updatingRecordArraysLater=false;get(this,"store").dataWasUpdated(this.constructor,this)},_preloadData:function(preload){var record=this;forEach.call(Ember.keys(preload),function(key){var preloadValue=get(preload,key);var relationshipMeta=record.constructor.metaForProperty(key);if(relationshipMeta.isRelationship){record._preloadRelationship(key,preloadValue)}else{get(record,"_data")[key]=preloadValue}})},_preloadRelationship:function(key,preloadValue){var relationshipMeta=this.constructor.metaForProperty(key);var type=relationshipMeta.type;if(relationshipMeta.kind==="hasMany"){this._preloadHasMany(key,preloadValue,type)}else{this._preloadBelongsTo(key,preloadValue,type)}},_preloadHasMany:function(key,preloadValue,type){var record=this;var recordsToSet=map.call(preloadValue,function(recordToPush){return record._convertStringOrNumberIntoRecord(recordToPush,type)});this._relationships[key].updateRecordsFromAdapter(recordsToSet)},_preloadBelongsTo:function(key,preloadValue,type){var recordToSet=this._convertStringOrNumberIntoRecord(preloadValue,type);this._relationships[key].setRecord(recordToSet)},_convertStringOrNumberIntoRecord:function(value,type){if(Ember.typeOf(value)==="string"||Ember.typeOf(value)==="number"){return this.store.recordForId(type,value)}return value},changedAttributes:function(){var oldData=get(this,"_data");var newData=get(this,"_attributes");var diffData={};var prop;for(prop in newData){diffData[prop]=[oldData[prop],newData[prop]]}return diffData},adapterWillCommit:function(){this.send("willCommit")},adapterDidCommit:function(data){set(this,"isError",false);if(data){this._data=data}else{Ember.mixin(this._data,this._inFlightAttributes)}this._inFlightAttributes={};this.send("didCommit");this.updateRecordArraysLater();if(!data){return}this.notifyPropertyChange("data")},adapterDidDirty:function(){this.send("becomeDirty");this.updateRecordArraysLater()},updateRecordArraysLater:function(){if(this._updatingRecordArraysLater){return}this._updatingRecordArraysLater=true;Ember.run.schedule("actions",this,this.updateRecordArrays)},setupData:function(data,partial){if(partial){Ember.merge(this._data,data)}else{this._data=data}if(data){this.pushedData()}this.notifyPropertyChange("data")},materializeId:function(id){set(this,"id",id)},materializeAttributes:function(attributes){merge(this._data,attributes)},materializeAttribute:function(name,value){this._data[name]=value},rollback:function(){this._attributes={};if(get(this,"isError")){this._inFlightAttributes={};set(this,"isError",false)}if(get(this,"isDeleted")){this.reconnectRelationships()}if(!get(this,"isValid")){this._inFlightAttributes={}}this.send("rolledBack");this.notifyPropertyChange("data")},toStringExtension:function(){return get(this,"id")},save:function(){var promiseLabel="DS: Model#save "+this;var resolver=Ember.RSVP.defer(promiseLabel);this.get("store").scheduleSave(this,resolver);this._inFlightAttributes=this._attributes;this._attributes={};return PromiseObject.create({promise:resolver.promise})},reload:function(){set(this,"isReloading",true);var record=this;var promiseLabel="DS: Model#reload of "+this;var promise=new Promise(function(resolve){record.send("reloadRecord",resolve)},promiseLabel).then(function(){record.set("isReloading",false);record.set("isError",false);return record},function(reason){record.set("isError",true);throw reason},"DS: Model#reload complete, update flags")["finally"](function(){record.updateRecordArrays()});return PromiseObject.create({promise:promise})},adapterDidUpdateAttribute:function(attributeName,value){if(value!==undefined){this._data[attributeName]=value;this.notifyPropertyChange(attributeName)}else{this._data[attributeName]=this._inFlightAttributes[attributeName]}this.updateRecordArraysLater()},adapterDidInvalidate:function(errors){var recordErrors=get(this,"errors");function addError(name){if(errors[name]){recordErrors.add(name,errors[name])}}this.eachAttribute(addError);this.eachRelationship(addError)},adapterDidError:function(){this.send("becameError");set(this,"isError",true)},trigger:function(){var length=arguments.length;var args=new Array(length-1);var name=arguments[0];for(var i=1;i<length;i++){args[i-1]=arguments[i]}Ember.tryInvoke(this,name,args);this._super.apply(this,arguments)},triggerLater:function(){var length=arguments.length;var args=new Array(length);for(var i=0;i<length;i++){args[i]=arguments[i]}if(this._deferredTriggers.push(args)!==1){return}Ember.run.schedule("actions",this,"_triggerDeferredTriggers")},_triggerDeferredTriggers:function(){for(var i=0,l=this._deferredTriggers.length;i<l;i++){this.trigger.apply(this,this._deferredTriggers[i])}this._deferredTriggers.length=0},willDestroy:function(){this._super();this.clearRelationships()},willMergeMixin:function(props){}});Model.reopenClass({_create:Model.create,create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.createRecord` with the attributes you would like to set.")}});__exports__["default"]=Model});define("ember-data/system/model/states",["exports"],function(__exports__){"use strict";var get=Ember.get;var set=Ember.set;function didSetProperty(record,context){if(context.value===context.originalValue){delete record._attributes[context.name];record.send("propertyWasReset",context.name)}else if(context.value!==context.oldValue){record.send("becomeDirty")}record.updateRecordArraysLater()}var DirtyState={initialState:"uncommitted",isDirty:true,uncommitted:{didSetProperty:didSetProperty,loadingData:Ember.K,propertyWasReset:function(record,name){var length=Ember.keys(record._attributes);var stillDirty=length>0;if(!stillDirty){record.send("rolledBack")}},pushedData:Ember.K,becomeDirty:Ember.K,willCommit:function(record){record.transitionTo("inFlight")},reloadRecord:function(record,resolve){resolve(get(record,"store").reloadRecord(record))},rolledBack:function(record){record.transitionTo("loaded.saved")},becameInvalid:function(record){record.transitionTo("invalid")},rollback:function(record){record.rollback()}},inFlight:{isSaving:true,didSetProperty:didSetProperty,becomeDirty:Ember.K,pushedData:Ember.K,unloadRecord:function(record){},willCommit:Ember.K,didCommit:function(record){var dirtyType=get(this,"dirtyType");record.transitionTo("saved");record.send("invokeLifecycleCallbacks",dirtyType)},becameInvalid:function(record){record.transitionTo("invalid");record.send("invokeLifecycleCallbacks")},becameError:function(record){record.transitionTo("uncommitted");record.triggerLater("becameError",record)}},invalid:{isValid:false,deleteRecord:function(record){record.transitionTo("deleted.uncommitted");record.disconnectRelationships()},didSetProperty:function(record,context){get(record,"errors").remove(context.name);didSetProperty(record,context)},becomeDirty:Ember.K,willCommit:function(record){get(record,"errors").clear();record.transitionTo("inFlight")},rolledBack:function(record){get(record,"errors").clear()},becameValid:function(record){record.transitionTo("uncommitted")},invokeLifecycleCallbacks:function(record){record.triggerLater("becameInvalid",record)},exit:function(record){record._inFlightAttributes={}}}};function deepClone(object){var clone={},value;for(var prop in object){value=object[prop];if(value&&typeof value==="object"){clone[prop]=deepClone(value)}else{clone[prop]=value}}return clone}function mixin(original,hash){for(var prop in hash){original[prop]=hash[prop]}return original}function dirtyState(options){var newState=deepClone(DirtyState);return mixin(newState,options)}var createdState=dirtyState({dirtyType:"created",isNew:true});createdState.uncommitted.rolledBack=function(record){record.transitionTo("deleted.saved")};var updatedState=dirtyState({dirtyType:"updated"});createdState.uncommitted.deleteRecord=function(record){record.disconnectRelationships();record.transitionTo("deleted.saved")};createdState.uncommitted.rollback=function(record){DirtyState.uncommitted.rollback.apply(this,arguments);record.transitionTo("deleted.saved")};createdState.uncommitted.propertyWasReset=Ember.K;function assertAgainstUnloadRecord(record){}updatedState.inFlight.unloadRecord=assertAgainstUnloadRecord;updatedState.uncommitted.deleteRecord=function(record){record.transitionTo("deleted.uncommitted");record.disconnectRelationships()};var RootState={isEmpty:false,isLoading:false,isLoaded:false,isDirty:false,isSaving:false,isDeleted:false,isNew:false,isValid:true,rolledBack:Ember.K,unloadRecord:function(record){record.clearRelationships();record.transitionTo("deleted.saved")},propertyWasReset:Ember.K,empty:{isEmpty:true,loadingData:function(record,promise){record._loadingPromise=promise;record.transitionTo("loading")},loadedData:function(record){record.transitionTo("loaded.created.uncommitted");record.notifyPropertyChange("data")},pushedData:function(record){record.transitionTo("loaded.saved");record.triggerLater("didLoad")}},loading:{isLoading:true,exit:function(record){record._loadingPromise=null},pushedData:function(record){record.transitionTo("loaded.saved");record.triggerLater("didLoad");set(record,"isError",false)},becameError:function(record){record.triggerLater("becameError",record)},notFound:function(record){record.transitionTo("empty")}},loaded:{initialState:"saved",isLoaded:true,loadingData:Ember.K,saved:{setup:function(record){var attrs=record._attributes;var isDirty=false;for(var prop in attrs){if(attrs.hasOwnProperty(prop)){isDirty=true;break}}if(isDirty){record.adapterDidDirty()}},didSetProperty:didSetProperty,pushedData:Ember.K,becomeDirty:function(record){record.transitionTo("updated.uncommitted")},willCommit:function(record){record.transitionTo("updated.inFlight")},reloadRecord:function(record,resolve){resolve(get(record,"store").reloadRecord(record))},deleteRecord:function(record){record.transitionTo("deleted.uncommitted");record.disconnectRelationships()},unloadRecord:function(record){record.clearRelationships();record.transitionTo("deleted.saved")},didCommit:function(record){record.send("invokeLifecycleCallbacks",get(record,"lastDirtyType"))},notFound:Ember.K},created:createdState,updated:updatedState},deleted:{initialState:"uncommitted",dirtyType:"deleted",isDeleted:true,isLoaded:true,isDirty:true,setup:function(record){record.updateRecordArrays()},uncommitted:{willCommit:function(record){record.transitionTo("inFlight")},rollback:function(record){record.rollback()},becomeDirty:Ember.K,deleteRecord:Ember.K,rolledBack:function(record){record.transitionTo("loaded.saved")}},inFlight:{isSaving:true,unloadRecord:assertAgainstUnloadRecord,willCommit:Ember.K,didCommit:function(record){record.transitionTo("saved");record.send("invokeLifecycleCallbacks")},becameError:function(record){record.transitionTo("uncommitted");record.triggerLater("becameError",record)}},saved:{isDirty:false,setup:function(record){var store=get(record,"store");store.dematerializeRecord(record)},invokeLifecycleCallbacks:function(record){record.triggerLater("didDelete",record);record.triggerLater("didCommit",record)},willCommit:Ember.K,didCommit:Ember.K}},invokeLifecycleCallbacks:function(record,dirtyType){if(dirtyType==="created"){record.triggerLater("didCreate",record)}else{record.triggerLater("didUpdate",record)}record.triggerLater("didCommit",record)}};function wireState(object,parent,name){object=mixin(parent?Ember.create(parent):{},object);object.parentState=parent;object.stateName=name;for(var prop in object){if(!object.hasOwnProperty(prop)||prop==="parentState"||prop==="stateName"){continue}if(typeof object[prop]==="object"){object[prop]=wireState(object[prop],object,name+"."+prop)}}return object}RootState=wireState(RootState,null,"root");__exports__["default"]=RootState});define("ember-data/system/promise_proxies",["exports"],function(__exports__){"use strict";var Promise=Ember.RSVP.Promise;var get=Ember.get;var PromiseArray=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin);var PromiseObject=Ember.ObjectProxy.extend(Ember.PromiseProxyMixin);var promiseObject=function(promise,label){return PromiseObject.create({promise:Promise.resolve(promise,label)})};var promiseArray=function(promise,label){return PromiseArray.create({promise:Promise.resolve(promise,label)})};var PromiseManyArray=PromiseArray.extend({reload:function(){return get(this,"content").reload()}});var promiseManyArray=function(promise,label){return PromiseManyArray.create({promise:Promise.resolve(promise,label)})};__exports__.PromiseArray=PromiseArray;__exports__.PromiseObject=PromiseObject;__exports__.PromiseManyArray=PromiseManyArray;__exports__.promiseArray=promiseArray;__exports__.promiseObject=promiseObject;__exports__.promiseManyArray=promiseManyArray});define("ember-data/system/record_array_manager",["ember-data/system/record_arrays","ember-data/system/map","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var RecordArray=__dependency1__.RecordArray;var FilteredRecordArray=__dependency1__.FilteredRecordArray;var AdapterPopulatedRecordArray=__dependency1__.AdapterPopulatedRecordArray;var ManyArray=__dependency1__.ManyArray;var MapWithDefault=__dependency2__.MapWithDefault;var OrderedSet=__dependency2__.OrderedSet;var get=Ember.get;var forEach=Ember.EnumerableUtils.forEach;__exports__["default"]=Ember.Object.extend({init:function(){this.filteredRecordArrays=MapWithDefault.create({defaultValue:function(){return[]}});this.changedRecords=[];this._adapterPopulatedRecordArrays=[]},recordDidChange:function(record){if(this.changedRecords.push(record)!==1){return}Ember.run.schedule("actions",this,this.updateRecordArrays)},recordArraysForRecord:function(record){record._recordArrays=record._recordArrays||OrderedSet.create();return record._recordArrays},updateRecordArrays:function(){forEach(this.changedRecords,function(record){if(get(record,"isDeleted")){this._recordWasDeleted(record)}else{this._recordWasChanged(record)}},this);this.changedRecords.length=0},_recordWasDeleted:function(record){var recordArrays=record._recordArrays;if(!recordArrays){return}recordArrays.forEach(function(array){array.removeRecord(record)});record._recordArrays=null},_recordWasChanged:function(record){var type=record.constructor;var recordArrays=this.filteredRecordArrays.get(type);var filter;forEach(recordArrays,function(array){filter=get(array,"filterFunction");this.updateRecordArray(array,filter,type,record)},this);var manyArrays=record._loadingRecordArrays;if(manyArrays){for(var i=0,l=manyArrays.length;i<l;i++){manyArrays[i].loadedRecord()}record._loadingRecordArrays=[]}},updateRecordArray:function(array,filter,type,record){var shouldBeInArray;if(!filter){shouldBeInArray=true}else{shouldBeInArray=filter(record)}var recordArrays=this.recordArraysForRecord(record);if(shouldBeInArray){if(!recordArrays.has(array)){array.pushRecord(record);recordArrays.add(array)}}else if(!shouldBeInArray){recordArrays["delete"](array);array.removeRecord(record)}},updateFilter:function(array,type,filter){var typeMap=this.store.typeMapFor(type);var records=typeMap.records,record;for(var i=0,l=records.length;i<l;i++){record=records[i];if(!get(record,"isDeleted")&&!get(record,"isEmpty")){this.updateRecordArray(array,filter,type,record)}}},createManyArray:function(type,records){var manyArray=ManyArray.create({type:type,content:records,store:this.store});forEach(records,function(record){var arrays=this.recordArraysForRecord(record);arrays.add(manyArray)},this);return manyArray},createRecordArray:function(type){var array=RecordArray.create({type:type,content:Ember.A(),store:this.store,isLoaded:true});this.registerFilteredRecordArray(array,type);return array},createFilteredRecordArray:function(type,filter,query){var array=FilteredRecordArray.create({query:query,type:type,content:Ember.A(),store:this.store,manager:this,filterFunction:filter});this.registerFilteredRecordArray(array,type,filter);return array},createAdapterPopulatedRecordArray:function(type,query){var array=AdapterPopulatedRecordArray.create({type:type,query:query,content:Ember.A(),store:this.store,manager:this});this._adapterPopulatedRecordArrays.push(array);return array},registerFilteredRecordArray:function(array,type,filter){var recordArrays=this.filteredRecordArrays.get(type);recordArrays.push(array);this.updateFilter(array,type,filter)},registerWaitingRecordArray:function(record,array){var loadingRecordArrays=record._loadingRecordArrays||[];loadingRecordArrays.push(array);record._loadingRecordArrays=loadingRecordArrays},willDestroy:function(){this._super();forEach(flatten(values(this.filteredRecordArrays.values)),destroy);forEach(this._adapterPopulatedRecordArrays,destroy)}});function values(obj){var result=[];var keys=Ember.keys(obj);for(var i=0;i<keys.length;i++){result.push(obj[keys[i]])}return result}function destroy(entry){entry.destroy()}function flatten(list){var length=list.length;var result=Ember.A();for(var i=0;i<length;i++){result=result.concat(list[i])}return result}});define("ember-data/system/record_arrays",["ember-data/system/record_arrays/record_array","ember-data/system/record_arrays/filtered_record_array","ember-data/system/record_arrays/adapter_populated_record_array","ember-data/system/record_arrays/many_array","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var RecordArray=__dependency1__["default"];var FilteredRecordArray=__dependency2__["default"];var AdapterPopulatedRecordArray=__dependency3__["default"];var ManyArray=__dependency4__["default"];__exports__.RecordArray=RecordArray;__exports__.FilteredRecordArray=FilteredRecordArray;__exports__.AdapterPopulatedRecordArray=AdapterPopulatedRecordArray;__exports__.ManyArray=ManyArray});define("ember-data/system/record_arrays/adapter_populated_record_array",["ember-data/system/record_arrays/record_array","exports"],function(__dependency1__,__exports__){"use strict";var RecordArray=__dependency1__["default"];var get=Ember.get;function cloneNull(source){var clone=Object.create(null);for(var key in source){clone[key]=source[key]}return clone}__exports__["default"]=RecordArray.extend({query:null,replace:function(){var type=get(this,"type").toString();throw new Error("The result of a server query (on "+type+") is immutable.")},load:function(data){var store=get(this,"store");var type=get(this,"type");var records=store.pushMany(type,data);var meta=store.metadataFor(type);this.setProperties({content:Ember.A(records),isLoaded:true,meta:cloneNull(meta)});records.forEach(function(record){this.manager.recordArraysForRecord(record).add(this)},this);Ember.run.once(this,"trigger","didLoad")}})});define("ember-data/system/record_arrays/filtered_record_array",["ember-data/system/record_arrays/record_array","exports"],function(__dependency1__,__exports__){"use strict";var RecordArray=__dependency1__["default"];var get=Ember.get;__exports__["default"]=RecordArray.extend({filterFunction:null,isLoaded:true,replace:function(){var type=get(this,"type").toString();throw new Error("The result of a client-side filter (on "+type+") is immutable.")},_updateFilter:function(){var manager=get(this,"manager");manager.updateFilter(this,get(this,"type"),get(this,"filterFunction"))},updateFilter:Ember.observer(function(){Ember.run.once(this,this._updateFilter)},"filterFunction")})});define("ember-data/system/record_arrays/many_array",["ember-data/system/record_arrays/record_array","exports"],function(__dependency1__,__exports__){"use strict";var RecordArray=__dependency1__["default"];var get=Ember.get,set=Ember.set;__exports__["default"]=RecordArray.extend({init:function(){this._super.apply(this,arguments)},isPolymorphic:false,isLoaded:false,relationship:null,promise:null,loadingRecordsCount:function(count){this.loadingRecordsCount=count},loadedRecord:function(){this.loadingRecordsCount--;if(this.loadingRecordsCount===0){set(this,"isLoaded",true);this.trigger("didLoad")}},replaceContent:function(idx,amt,objects){var records;if(amt>0){records=get(this,"content").slice(idx,idx+amt);this.get("relationship").removeRecords(records)}if(objects){this.get("relationship").addRecords(objects,idx)}},reload:function(){return this.relationship.reload()},createRecord:function(hash){var store=get(this,"store");var type=get(this,"type");var record;record=store.createRecord.call(store,type,hash);this.pushObject(record);return record}})});define("ember-data/system/record_arrays/record_array",["ember-data/system/promise_proxies","exports"],function(__dependency1__,__exports__){"use strict";var PromiseArray=__dependency1__.PromiseArray;var get=Ember.get;__exports__["default"]=Ember.ArrayProxy.extend(Ember.Evented,{type:null,content:null,isLoaded:false,isUpdating:false,store:null,objectAtContent:function(index){var content=get(this,"content");return content.objectAt(index)},update:function(){if(get(this,"isUpdating")){return}var store=get(this,"store");var type=get(this,"type");return store.fetchAll(type,this)},addRecord:function(record,idx){var content=get(this,"content");if(idx===undefined){content.addObject(record)}else{if(!content.contains(record)){content.insertAt(idx,record)}}},pushRecord:function(record){get(this,"content").pushObject(record)},removeRecord:function(record){get(this,"content").removeObject(record)},save:function(){var promiseLabel="DS: RecordArray#save "+get(this,"type");var promise=Ember.RSVP.all(this.invoke("save"),promiseLabel).then(function(array){return Ember.A(array)},null,"DS: RecordArray#save apply Ember.NativeArray");return PromiseArray.create({promise:promise})},_dissociateFromOwnRecords:function(){var array=this;this.forEach(function(record){var recordArrays=record._recordArrays;if(recordArrays){recordArrays["delete"](array)}})},willDestroy:function(){this._dissociateFromOwnRecords();this._super()}})});define("ember-data/system/relationship-meta",["ember-inflector/system","exports"],function(__dependency1__,__exports__){"use strict";var singularize=__dependency1__.singularize;function typeForRelationshipMeta(store,meta){var typeKey,type;typeKey=meta.type||meta.key;if(typeof typeKey==="string"){if(meta.kind==="hasMany"){typeKey=singularize(typeKey)}type=store.modelFor(typeKey)}else{type=meta.type}return type}__exports__.typeForRelationshipMeta=typeForRelationshipMeta;function relationshipFromMeta(store,meta){return{key:meta.key,kind:meta.kind,type:typeForRelationshipMeta(store,meta),options:meta.options,parentType:meta.parentType,isRelationship:true}}__exports__.relationshipFromMeta=relationshipFromMeta});define("ember-data/system/relationships",["./relationships/belongs_to","./relationships/has_many","ember-data/system/relationships/ext","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var belongsTo=__dependency1__["default"];var hasMany=__dependency2__["default"];__exports__.belongsTo=belongsTo;__exports__.hasMany=hasMany});define("ember-data/system/relationships/belongs_to",["ember-data/system/model","exports"],function(__dependency1__,__exports__){"use strict";var Model=__dependency1__.Model;function belongsTo(type,options){if(typeof type==="object"){options=type;type=undefined}else{}options=options||{};var meta={type:type,isRelationship:true,options:options,kind:"belongsTo",key:null};return Ember.computed(function(key,value){if(arguments.length>1){if(value===undefined){value=null}if(value&&value.then){this._relationships[key].setRecordPromise(value)}else{this._relationships[key].setRecord(value)}}return this._relationships[key].getRecord()}).meta(meta)}Model.reopen({notifyBelongsToAdded:function(key,relationship){this.notifyPropertyChange(key)},notifyBelongsToRemoved:function(key){this.notifyPropertyChange(key)}});__exports__["default"]=belongsTo});define("ember-data/system/relationships/ext",["ember-data/system/relationship-meta","ember-data/system/model","ember-data/system/map"],function(__dependency1__,__dependency2__,__dependency3__){"use strict";var typeForRelationshipMeta=__dependency1__.typeForRelationshipMeta;var relationshipFromMeta=__dependency1__.relationshipFromMeta;var Model=__dependency2__.Model;var Map=__dependency3__.Map;var MapWithDefault=__dependency3__.MapWithDefault;var get=Ember.get;var filter=Ember.ArrayPolyfills.filter;Model.reopen({didDefineProperty:function(proto,key,value){if(value instanceof Ember.ComputedProperty){var meta=value.meta();meta.parentType=proto.constructor}}});Model.reopenClass({typeForRelationship:function(name){var relationship=get(this,"relationshipsByName").get(name);return relationship&&relationship.type},inverseMap:Ember.computed(function(){return Object.create(null)}),inverseFor:function(name){var inverseMap=get(this,"inverseMap");if(inverseMap[name]){return inverseMap[name]}else{var inverse=this._findInverseFor(name);inverseMap[name]=inverse;return inverse}},_findInverseFor:function(name){var inverseType=this.typeForRelationship(name);if(!inverseType){return null}var options=this.metaForProperty(name).options;if(options.inverse===null){return null}var inverseName,inverseKind,inverse;if(options.inverse){inverseName=options.inverse;inverse=Ember.get(inverseType,"relationshipsByName").get(inverseName);inverseKind=inverse.kind}else{var possibleRelationships=findPossibleInverses(this,inverseType);if(possibleRelationships.length===0){return null}var filteredRelationships=filter.call(possibleRelationships,function(possibleRelationship){var optionsForRelationship=inverseType.metaForProperty(possibleRelationship.name).options;
return name===optionsForRelationship.inverse});if(filteredRelationships.length===1){possibleRelationships=filteredRelationships}inverseName=possibleRelationships[0].name;inverseKind=possibleRelationships[0].kind}function findPossibleInverses(type,inverseType,relationshipsSoFar){var possibleRelationships=relationshipsSoFar||[];var relationshipMap=get(inverseType,"relationships");if(!relationshipMap){return}var relationships=relationshipMap.get(type);relationships=filter.call(relationships,function(relationship){var optionsForRelationship=inverseType.metaForProperty(relationship.name).options;if(!optionsForRelationship.inverse){return true}return name===optionsForRelationship.inverse});if(relationships){possibleRelationships.push.apply(possibleRelationships,relationships)}if(type.superclass){findPossibleInverses(type.superclass,inverseType,possibleRelationships)}return possibleRelationships}return{type:inverseType,name:inverseName,kind:inverseKind}},relationships:Ember.computed(function(){var map=new MapWithDefault({defaultValue:function(){return[]}});this.eachComputedProperty(function(name,meta){if(meta.isRelationship){meta.key=name;var relationshipsForType=map.get(typeForRelationshipMeta(this.store,meta));relationshipsForType.push({name:name,kind:meta.kind})}});return map}).cacheable(false).readOnly(),relationshipNames:Ember.computed(function(){var names={hasMany:[],belongsTo:[]};this.eachComputedProperty(function(name,meta){if(meta.isRelationship){names[meta.kind].push(name)}});return names}),relatedTypes:Ember.computed(function(){var type;var types=Ember.A();this.eachComputedProperty(function(name,meta){if(meta.isRelationship){meta.key=name;type=typeForRelationshipMeta(this.store,meta);if(!types.contains(type)){types.push(type)}}});return types}).cacheable(false).readOnly(),relationshipsByName:Ember.computed(function(){var map=Map.create();this.eachComputedProperty(function(name,meta){if(meta.isRelationship){meta.key=name;var relationship=relationshipFromMeta(this.store,meta);relationship.type=typeForRelationshipMeta(this.store,meta);map.set(name,relationship)}});return map}).cacheable(false).readOnly(),fields:Ember.computed(function(){var map=Map.create();this.eachComputedProperty(function(name,meta){if(meta.isRelationship){map.set(name,meta.kind)}else if(meta.isAttribute){map.set(name,"attribute")}});return map}).readOnly(),eachRelationship:function(callback,binding){get(this,"relationshipsByName").forEach(function(relationship,name){callback.call(binding,name,relationship)})},eachRelatedType:function(callback,binding){get(this,"relatedTypes").forEach(function(type){callback.call(binding,type)})},determineRelationshipType:function(knownSide){var knownKey=knownSide.key;var knownKind=knownSide.kind;var inverse=this.inverseFor(knownKey);var key,otherKind;if(!inverse){return knownKind==="belongsTo"?"oneToNone":"manyToNone"}key=inverse.name;otherKind=inverse.kind;if(otherKind==="belongsTo"){return knownKind==="belongsTo"?"oneToOne":"manyToOne"}else{return knownKind==="belongsTo"?"oneToMany":"manyToMany"}}});Model.reopen({eachRelationship:function(callback,binding){this.constructor.eachRelationship(callback,binding)},relationshipFor:function(name){return get(this.constructor,"relationshipsByName").get(name)},inverseFor:function(key){return this.constructor.inverseFor(key)}})});define("ember-data/system/relationships/has_many",["ember-data/system/model","exports"],function(__dependency1__,__exports__){"use strict";var Model=__dependency1__.Model;function hasMany(type,options){if(typeof type==="object"){options=type;type=undefined}options=options||{};var meta={type:type,isRelationship:true,options:options,kind:"hasMany",key:null};return Ember.computed(function(key){var relationship=this._relationships[key];return relationship.getRecords()}).meta(meta).readOnly()}Model.reopen({notifyHasManyAdded:function(key,record,idx){var relationship=this._relationships[key];var manyArray=relationship.manyArray;manyArray.addRecord(record,idx);this.notifyPropertyChange(key)},notifyHasManyRemoved:function(key,record){var relationship=this._relationships[key];var manyArray=relationship.manyArray;manyArray.removeRecord(record)}});__exports__["default"]=hasMany});define("ember-data/system/relationships/relationship",["ember-data/system/promise_proxies","ember-data/system/map","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var PromiseManyArray=__dependency1__.PromiseManyArray;var PromiseObject=__dependency1__.PromiseObject;var OrderedSet=__dependency2__.OrderedSet;var Relationship=function(store,record,inverseKey,relationshipMeta){this.members=new OrderedSet;this.store=store;this.key=relationshipMeta.key;this.inverseKey=inverseKey;this.record=record;this.key=relationshipMeta.key;this.isAsync=relationshipMeta.options.async;this.relationshipMeta=relationshipMeta;this.inverseKeyForImplicit=this.store.modelFor(this.record.constructor).typeKey+this.key;this.linkPromise=null};Relationship.prototype={constructor:Relationship,destroy:Ember.K,clear:function(){this.members.forEach(function(member){this.removeRecord(member)},this)},disconnect:function(){this.members.forEach(function(member){this.removeRecordFromInverse(member)},this)},reconnect:function(){this.members.forEach(function(member){this.addRecordToInverse(member)},this)},removeRecords:function(records){var that=this;records.forEach(function(record){that.removeRecord(record)})},addRecords:function(records,idx){var that=this;records.forEach(function(record){that.addRecord(record,idx);if(idx!==undefined){idx++}})},addRecord:function(record,idx){if(!this.members.has(record)){this.members.add(record);this.notifyRecordRelationshipAdded(record,idx);if(this.inverseKey){record._relationships[this.inverseKey].addRecord(this.record)}else{if(!record._implicitRelationships[this.inverseKeyForImplicit]){record._implicitRelationships[this.inverseKeyForImplicit]=new Relationship(this.store,record,this.key,{options:{}})}record._implicitRelationships[this.inverseKeyForImplicit].addRecord(this.record)}this.record.updateRecordArrays()}},removeRecord:function(record){if(this.members.has(record)){this.removeRecordFromOwn(record);if(this.inverseKey){this.removeRecordFromInverse(record)}else{if(record._implicitRelationships[this.inverseKeyForImplicit]){record._implicitRelationships[this.inverseKeyForImplicit].removeRecord(this.record)}}}},addRecordToInverse:function(record){if(this.inverseKey){record._relationships[this.inverseKey].addRecord(this.record)}},removeRecordFromInverse:function(record){var inverseRelationship=record._relationships[this.inverseKey];if(inverseRelationship){inverseRelationship.removeRecordFromOwn(this.record)}},removeRecordFromOwn:function(record){this.members["delete"](record);this.notifyRecordRelationshipRemoved(record);this.record.updateRecordArrays()},updateLink:function(link){if(link!==this.link){this.link=link;this.linkPromise=null;this.record.notifyPropertyChange(this.key)}},findLink:function(){if(this.linkPromise){return this.linkPromise}else{var promise=this.fetchLink();this.linkPromise=promise;return promise.then(function(result){return result})}},updateRecordsFromAdapter:function(records){this.computeChanges(records)},notifyRecordRelationshipAdded:Ember.K,notifyRecordRelationshipRemoved:Ember.K};var ManyRelationship=function(store,record,inverseKey,relationshipMeta){this._super$constructor(store,record,inverseKey,relationshipMeta);this.belongsToType=relationshipMeta.type;this.manyArray=store.recordArrayManager.createManyArray(this.belongsToType,Ember.A());this.manyArray.relationship=this;this.isPolymorphic=relationshipMeta.options.polymorphic;this.manyArray.isPolymorphic=this.isPolymorphic};ManyRelationship.prototype=Object.create(Relationship.prototype);ManyRelationship.prototype.constructor=ManyRelationship;ManyRelationship.prototype._super$constructor=Relationship;ManyRelationship.prototype.destroy=function(){this.manyArray.destroy()};ManyRelationship.prototype.notifyRecordRelationshipAdded=function(record,idx){this.record.notifyHasManyAdded(this.key,record,idx)};ManyRelationship.prototype.notifyRecordRelationshipRemoved=function(record){this.record.notifyHasManyRemoved(this.key,record)};ManyRelationship.prototype.reload=function(){var self=this;if(this.link){return this.fetchLink()}else{return this.store.scheduleFetchMany(this.manyArray.toArray()).then(function(){self.manyArray.set("isLoaded",true);return self.manyArray})}};ManyRelationship.prototype.computeChanges=function(records){var members=this.members;var recordsToRemove=[];var length;var record;var i;records=setForArray(records);members.forEach(function(member){if(records.has(member))return;recordsToRemove.push(member)});this.removeRecords(recordsToRemove);var hasManyArray=this.manyArray;records=records.toArray();length=records.length;for(i=0;i<length;i++){record=records[i];if(hasManyArray.objectAt(i)===record){continue}this.removeRecord(record);this.addRecord(record,i)}};ManyRelationship.prototype.fetchLink=function(){var self=this;return this.store.findHasMany(this.record,this.link,this.relationshipMeta).then(function(records){self.updateRecordsFromAdapter(records);return self.manyArray})};ManyRelationship.prototype.findRecords=function(){var manyArray=this.manyArray;return this.store.findMany(manyArray.toArray()).then(function(){manyArray.set("isLoaded",true);return manyArray})};ManyRelationship.prototype.getRecords=function(){if(this.isAsync){var self=this;var promise;if(this.link){promise=this.findLink().then(function(){return self.findRecords()})}else{promise=this.findRecords()}return PromiseManyArray.create({content:this.manyArray,promise:promise})}else{this.manyArray.set("isLoaded",true);return this.manyArray}};var BelongsToRelationship=function(store,record,inverseKey,relationshipMeta){this._super$constructor(store,record,inverseKey,relationshipMeta);this.record=record;this.key=relationshipMeta.key;this.inverseRecord=null};BelongsToRelationship.prototype=Object.create(Relationship.prototype);BelongsToRelationship.prototype.constructor=BelongsToRelationship;BelongsToRelationship.prototype._super$constructor=Relationship;BelongsToRelationship.prototype.setRecord=function(newRecord){if(newRecord){this.addRecord(newRecord)}else if(this.inverseRecord){this.removeRecord(this.inverseRecord)}};BelongsToRelationship.prototype._super$addRecord=Relationship.prototype.addRecord;BelongsToRelationship.prototype.addRecord=function(newRecord){if(this.members.has(newRecord)){return}var type=this.relationshipMeta.type;if(this.inverseRecord){this.removeRecord(this.inverseRecord)}this.inverseRecord=newRecord;this._super$addRecord(newRecord)};BelongsToRelationship.prototype.setRecordPromise=function(newPromise){var content=newPromise.get&&newPromise.get("content");this.setRecord(content)};BelongsToRelationship.prototype.notifyRecordRelationshipAdded=function(newRecord){this.record.notifyBelongsToAdded(this.key,this)};BelongsToRelationship.prototype.notifyRecordRelationshipRemoved=function(record){this.record.notifyBelongsToRemoved(this.key,this)};BelongsToRelationship.prototype._super$removeRecordFromOwn=Relationship.prototype.removeRecordFromOwn;BelongsToRelationship.prototype.removeRecordFromOwn=function(record){if(!this.members.has(record)){return}this._super$removeRecordFromOwn(record);this.inverseRecord=null};BelongsToRelationship.prototype.findRecord=function(){if(this.inverseRecord){return this.store._findByRecord(this.inverseRecord)}else{return Ember.RSVP.Promise.resolve(null)}};BelongsToRelationship.prototype.fetchLink=function(){var self=this;return this.store.findBelongsTo(this.record,this.link,this.relationshipMeta).then(function(record){self.addRecord(record);return record})};BelongsToRelationship.prototype.getRecord=function(){if(this.isAsync){var promise;if(this.link){var self=this;promise=this.findLink().then(function(){return self.findRecord()})}else{promise=this.findRecord()}return PromiseObject.create({promise:promise,content:this.inverseRecord})}else{return this.inverseRecord}};function setForArray(array){var set=new OrderedSet;if(array){for(var i=0,l=array.length;i<l;i++){set.add(array[i])}}return set}var createRelationshipFor=function(record,relationshipMeta,store){var inverseKey;var inverse=record.constructor.inverseFor(relationshipMeta.key);if(inverse){inverseKey=inverse.name}if(relationshipMeta.kind==="hasMany"){return new ManyRelationship(store,record,inverseKey,relationshipMeta)}else{return new BelongsToRelationship(store,record,inverseKey,relationshipMeta)}};__exports__.Relationship=Relationship;__exports__.ManyRelationship=ManyRelationship;__exports__.BelongsToRelationship=BelongsToRelationship;__exports__.createRelationshipFor=createRelationshipFor});define("ember-data/system/store",["ember-data/system/adapter","ember-inflector/system/string","ember-data/system/map","ember-data/system/promise_proxies","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var InvalidError=__dependency1__.InvalidError;var Adapter=__dependency1__.Adapter;var singularize=__dependency2__.singularize;var Map=__dependency3__.Map;var promiseArray=__dependency4__.promiseArray;var promiseObject=__dependency4__.promiseObject;var get=Ember.get;var set=Ember.set;var once=Ember.run.once;var isNone=Ember.isNone;var forEach=Ember.EnumerableUtils.forEach;var indexOf=Ember.EnumerableUtils.indexOf;var map=Ember.EnumerableUtils.map;var Promise=Ember.RSVP.Promise;var copy=Ember.copy;var Store,RecordArrayManager,Model;var camelize=Ember.String.camelize;function coerceId(id){return id==null?null:id+""}Store=Ember.Object.extend({init:function(){if(!RecordArrayManager){RecordArrayManager=requireModule("ember-data/system/record_array_manager")["default"]}this.typeMaps={};this.recordArrayManager=RecordArrayManager.create({store:this});this._pendingSave=[];this._pendingFetch=Map.create()},adapter:"-rest",serialize:function(record,options){return this.serializerFor(record.constructor.typeKey).serialize(record,options)},defaultAdapter:Ember.computed("adapter",function(){var adapter=get(this,"adapter");if(typeof adapter==="string"){adapter=this.container.lookup("adapter:"+adapter)||this.container.lookup("adapter:application")||this.container.lookup("adapter:-rest")}if(DS.Adapter.detect(adapter)){adapter=adapter.create({container:this.container})}return adapter}),createRecord:function(typeName,inputProperties){var type=this.modelFor(typeName);var properties=copy(inputProperties)||{};if(isNone(properties.id)){properties.id=this._generateId(type)}properties.id=coerceId(properties.id);var record=this.buildRecord(type,properties.id);record.loadedData();record.setProperties(properties);return record},_generateId:function(type){var adapter=this.adapterFor(type);if(adapter&&adapter.generateIdForRecord){return adapter.generateIdForRecord(this)}return null},deleteRecord:function(record){record.deleteRecord()},unloadRecord:function(record){record.unloadRecord()},find:function(type,id,preload){if(arguments.length===1){return this.findAll(type)}if(Ember.typeOf(id)==="object"){return this.findQuery(type,id)}return this.findById(type,coerceId(id),preload)},findById:function(typeName,id,preload){var type=this.modelFor(typeName);var record=this.recordForId(type,id);return this._findByRecord(record,preload)},_findByRecord:function(record,preload){var fetchedRecord;if(preload){record._preloadData(preload)}if(get(record,"isEmpty")){fetchedRecord=this.scheduleFetch(record)}else if(get(record,"isLoading")){fetchedRecord=record._loadingPromise}return promiseObject(fetchedRecord||record,"DS: Store#findByRecord "+record.typeKey+" with id: "+get(record,"id"))},findByIds:function(type,ids){var store=this;return promiseArray(Ember.RSVP.all(map(ids,function(id){return store.findById(type,id)})).then(Ember.A,null,"DS: Store#findByIds of "+type+" complete"))},fetchRecord:function(record){var type=record.constructor;var id=get(record,"id");var adapter=this.adapterFor(type);var promise=_find(adapter,this,type,id,record);return promise},scheduleFetchMany:function(records){return Ember.RSVP.all(map(records,this.scheduleFetch,this))},scheduleFetch:function(record){var type=record.constructor;if(isNone(record)){return null}if(record._loadingPromise){return record._loadingPromise}var resolver=Ember.RSVP.defer("Fetching "+type+"with id: "+record.get("id"));var recordResolverPair={record:record,resolver:resolver};var promise=resolver.promise;record.loadingData(promise);if(!this._pendingFetch.get(type)){this._pendingFetch.set(type,[recordResolverPair])}else{this._pendingFetch.get(type).push(recordResolverPair)}Ember.run.scheduleOnce("afterRender",this,this.flushAllPendingFetches);return promise},flushAllPendingFetches:function(){if(this.isDestroyed||this.isDestroying){return}this._pendingFetch.forEach(this._flushPendingFetchForType,this);this._pendingFetch=Map.create()},_flushPendingFetchForType:function(recordResolverPairs,type){var store=this;var adapter=store.adapterFor(type);var shouldCoalesce=!!adapter.findMany&&adapter.coalesceFindRequests;var records=Ember.A(recordResolverPairs).mapBy("record");function _fetchRecord(recordResolverPair){recordResolverPair.resolver.resolve(store.fetchRecord(recordResolverPair.record))}function resolveFoundRecords(records){forEach(records,function(record){var pair=Ember.A(recordResolverPairs).findBy("record",record);if(pair){var resolver=pair.resolver;resolver.resolve(record)}})}function makeMissingRecordsRejector(requestedRecords){return function rejectMissingRecords(resolvedRecords){var missingRecords=requestedRecords.without(resolvedRecords);rejectRecords(missingRecords)}}function makeRecordsRejector(records){return function(error){rejectRecords(records,error)}}function rejectRecords(records,error){forEach(records,function(record){var pair=Ember.A(recordResolverPairs).findBy("record",record);if(pair){var resolver=pair.resolver;resolver.reject(error)}})}if(recordResolverPairs.length===1){_fetchRecord(recordResolverPairs[0])}else if(shouldCoalesce){var groups=adapter.groupRecordsForFindMany(this,records);forEach(groups,function(groupOfRecords){var requestedRecords=Ember.A(groupOfRecords);var ids=requestedRecords.mapBy("id");if(ids.length>1){_findMany(adapter,store,type,ids,requestedRecords).then(resolveFoundRecords).then(makeMissingRecordsRejector(requestedRecords)).then(null,makeRecordsRejector(requestedRecords))}else if(ids.length===1){var pair=Ember.A(recordResolverPairs).findBy("record",groupOfRecords[0]);_fetchRecord(pair)}else{}})}else{forEach(recordResolverPairs,_fetchRecord)}},getById:function(type,id){if(this.hasRecordForId(type,id)){return this.recordForId(type,id)}else{return null}},reloadRecord:function(record){var type=record.constructor;var adapter=this.adapterFor(type);var id=get(record,"id");return this.scheduleFetch(record)},hasRecordForId:function(typeName,inputId){var type=this.modelFor(typeName);var id=coerceId(inputId);return!!this.typeMapFor(type).idToRecord[id]},recordForId:function(typeName,inputId){var type=this.modelFor(typeName);var id=coerceId(inputId);var idToRecord=this.typeMapFor(type).idToRecord;var record=idToRecord[id];if(!record||!idToRecord[id]){record=this.buildRecord(type,id)}return record},findMany:function(records){var store=this;return Promise.all(map(records,function(record){return store._findByRecord(record)}))},findHasMany:function(owner,link,type){var adapter=this.adapterFor(owner.constructor);return _findHasMany(adapter,this,owner,link,type)},findBelongsTo:function(owner,link,relationship){var adapter=this.adapterFor(owner.constructor);return _findBelongsTo(adapter,this,owner,link,relationship)},findQuery:function(typeName,query){var type=this.modelFor(typeName);var array=this.recordArrayManager.createAdapterPopulatedRecordArray(type,query);var adapter=this.adapterFor(type);return promiseArray(_findQuery(adapter,this,type,query,array))},findAll:function(typeName){var type=this.modelFor(typeName);return this.fetchAll(type,this.all(type))},fetchAll:function(type,array){var adapter=this.adapterFor(type);var sinceToken=this.typeMapFor(type).metadata.since;set(array,"isUpdating",true);return promiseArray(_findAll(adapter,this,type,sinceToken))},didUpdateAll:function(type){var findAllCache=this.typeMapFor(type).findAllCache;set(findAllCache,"isUpdating",false)},all:function(typeName){var type=this.modelFor(typeName);var typeMap=this.typeMapFor(type);var findAllCache=typeMap.findAllCache;if(findAllCache){return findAllCache}var array=this.recordArrayManager.createRecordArray(type);typeMap.findAllCache=array;return array},unloadAll:function(type){var modelType=this.modelFor(type);var typeMap=this.typeMapFor(modelType);var records=typeMap.records.slice();var record;for(var i=0;i<records.length;i++){record=records[i];record.unloadRecord();record.destroy()}typeMap.findAllCache=null},filter:function(type,query,filter){var promise;var length=arguments.length;var array;var hasQuery=length===3;if(hasQuery){promise=this.findQuery(type,query)}else if(arguments.length===2){filter=query}type=this.modelFor(type);if(hasQuery){array=this.recordArrayManager.createFilteredRecordArray(type,filter,query)}else{array=this.recordArrayManager.createFilteredRecordArray(type,filter)}promise=promise||Promise.cast(array);return promiseArray(promise.then(function(){return array},null,"DS: Store#filter of "+type))},recordIsLoaded:function(type,id){if(!this.hasRecordForId(type,id)){return false}return!get(this.recordForId(type,id),"isEmpty")},metadataFor:function(type){type=this.modelFor(type);return this.typeMapFor(type).metadata},dataWasUpdated:function(type,record){this.recordArrayManager.recordDidChange(record)},scheduleSave:function(record,resolver){record.adapterWillCommit();this._pendingSave.push([record,resolver]);once(this,"flushPendingSave")},flushPendingSave:function(){var pending=this._pendingSave.slice();this._pendingSave=[];forEach(pending,function(tuple){var record=tuple[0],resolver=tuple[1];var adapter=this.adapterFor(record.constructor);var operation;if(get(record,"currentState.stateName")==="root.deleted.saved"){return resolver.resolve(record)}else if(get(record,"isNew")){operation="createRecord"}else if(get(record,"isDeleted")){operation="deleteRecord"}else{operation="updateRecord"}resolver.resolve(_commit(adapter,this,operation,record))},this)},didSaveRecord:function(record,data){if(data){data=normalizeRelationships(this,record.constructor,data,record);setupRelationships(this,record,data);this.updateId(record,data)}record.adapterDidCommit(data)},recordWasInvalid:function(record,errors){record.adapterDidInvalidate(errors)},recordWasError:function(record){record.adapterDidError()},updateId:function(record,data){var oldId=get(record,"id");var id=coerceId(data.id);this.typeMapFor(record.constructor).idToRecord[id]=record;set(record,"id",id)},typeMapFor:function(type){var typeMaps=get(this,"typeMaps");var guid=Ember.guidFor(type);var typeMap;typeMap=typeMaps[guid];if(typeMap){return typeMap}typeMap={idToRecord:Object.create(null),records:[],metadata:Object.create(null),type:type};typeMaps[guid]=typeMap;return typeMap},_load:function(type,data,partial){var id=coerceId(data.id);var record=this.recordForId(type,id);record.setupData(data,partial);this.recordArrayManager.recordDidChange(record);return record},modelFor:function(key){var factory;if(typeof key==="string"){factory=this.modelFactoryFor(key);if(!factory){throw new Ember.Error("No model was found for '"+key+"'")}factory.typeKey=factory.typeKey||this._normalizeTypeKey(key)}else{factory=key;if(factory.typeKey){factory.typeKey=this._normalizeTypeKey(factory.typeKey)}}factory.store=this;return factory},modelFactoryFor:function(key){return this.container.lookupFactory("model:"+key)},push:function(typeName,data,_partial){var type=this.modelFor(typeName);data=normalizeRelationships(this,type,data);this._load(type,data,_partial);var record=this.recordForId(type,data.id);setupRelationships(this,record,data);return record},pushPayload:function(type,inputPayload){var serializer;var payload;if(!inputPayload){payload=type;serializer=defaultSerializer(this.container)}else{payload=inputPayload;serializer=this.serializerFor(type)}serializer.pushPayload(this,payload)},normalize:function(type,payload){var serializer=this.serializerFor(type);var model=this.modelFor(type);return serializer.normalize(model,payload)},update:function(type,data){return this.push(type,data,true)},pushMany:function(type,datas){var length=datas.length;var result=new Array(length);for(var i=0;i<length;i++){result[i]=this.push(type,datas[i])}return result},metaForType:function(typeName,metadata){var type=this.modelFor(typeName);Ember.merge(this.typeMapFor(type).metadata,metadata)},buildRecord:function(type,id,data){var typeMap=this.typeMapFor(type);var idToRecord=typeMap.idToRecord;var record=type._create({id:id,store:this,container:this.container});if(data){record.setupData(data)}if(id){idToRecord[id]=record}typeMap.records.push(record);return record},dematerializeRecord:function(record){var type=record.constructor;var typeMap=this.typeMapFor(type);var id=get(record,"id");record.updateRecordArrays();if(id){delete typeMap.idToRecord[id]}var loc=indexOf(typeMap.records,record);typeMap.records.splice(loc,1)},adapterFor:function(type){var container=this.container,adapter;if(container){adapter=container.lookup("adapter:"+type.typeKey)||container.lookup("adapter:application")}return adapter||get(this,"defaultAdapter")},serializerFor:function(type){type=this.modelFor(type);var adapter=this.adapterFor(type);return serializerFor(this.container,type.typeKey,adapter&&adapter.defaultSerializer)},willDestroy:function(){var typeMaps=this.typeMaps;var keys=Ember.keys(typeMaps);var types=map(keys,byType);this.recordArrayManager.destroy();forEach(types,this.unloadAll,this);function byType(entry){return typeMaps[entry]["type"]}},_normalizeTypeKey:function(key){return camelize(singularize(key))}});function normalizeRelationships(store,type,data,record){type.eachRelationship(function(key,relationship){var kind=relationship.kind;var value=data[key];if(kind==="belongsTo"){deserializeRecordId(store,data,key,relationship,value)}else if(kind==="hasMany"){deserializeRecordIds(store,data,key,relationship,value)}});return data}function deserializeRecordId(store,data,key,relationship,id){if(!Model){Model=requireModule("ember-data/system/model")["Model"]}if(isNone(id)||id instanceof Model){return}var type;if(typeof id==="number"||typeof id==="string"){type=typeFor(relationship,key,data);data[key]=store.recordForId(type,id)}else if(typeof id==="object"){data[key]=store.recordForId(id.type,id.id)}}function typeFor(relationship,key,data){if(relationship.options.polymorphic){return data[key+"Type"]}else{return relationship.type}}function deserializeRecordIds(store,data,key,relationship,ids){if(!Ember.isArray(ids)){return}for(var i=0,l=ids.length;i<l;i++){deserializeRecordId(store,ids,i,relationship,ids[i])}}function serializerFor(container,type,defaultSerializer){return container.lookup("serializer:"+type)||container.lookup("serializer:application")||container.lookup("serializer:"+defaultSerializer)||container.lookup("serializer:-default")}function defaultSerializer(container){return container.lookup("serializer:application")||container.lookup("serializer:-default")}function serializerForAdapter(adapter,type){var serializer=adapter.serializer;var defaultSerializer=adapter.defaultSerializer;var container=adapter.container;if(container&&serializer===undefined){serializer=serializerFor(container,type.typeKey,defaultSerializer)}if(serializer===null||serializer===undefined){serializer={extract:function(store,type,payload){return payload}}}return serializer}function _objectIsAlive(object){return!(get(object,"isDestroyed")||get(object,"isDestroying"))}function _guard(promise,test){var guarded=promise["finally"](function(){if(!test()){guarded._subscribers.length=0}});return guarded}function _bind(fn){var args=Array.prototype.slice.call(arguments,1);return function(){return fn.apply(undefined,args)}}function _find(adapter,store,type,id,record){var promise=adapter.find(store,type,id,record);var serializer=serializerForAdapter(adapter,type);var label="DS: Handle Adapter#find of "+type+" with id: "+id;promise=Promise.cast(promise,label);promise=_guard(promise,_bind(_objectIsAlive,store));return promise.then(function(adapterPayload){var payload=serializer.extract(store,type,adapterPayload,id,"find");return store.push(type,payload)},function(error){var record=store.getById(type,id);if(record){record.notFound()}throw error},"DS: Extract payload of '"+type+"'")}function _findMany(adapter,store,type,ids,records){var promise=adapter.findMany(store,type,ids,records);var serializer=serializerForAdapter(adapter,type);var label="DS: Handle Adapter#findMany of "+type;if(promise===undefined){throw new Error("adapter.findMany returned undefined, this was very likely a mistake")}promise=Promise.cast(promise,label);promise=_guard(promise,_bind(_objectIsAlive,store));return promise.then(function(adapterPayload){var payload=serializer.extract(store,type,adapterPayload,null,"findMany");return store.pushMany(type,payload)},null,"DS: Extract payload of "+type)}function _findHasMany(adapter,store,record,link,relationship){var promise=adapter.findHasMany(store,record,link,relationship);var serializer=serializerForAdapter(adapter,relationship.type);var label="DS: Handle Adapter#findHasMany of "+record+" : "+relationship.type;promise=Promise.cast(promise,label);promise=_guard(promise,_bind(_objectIsAlive,store));promise=_guard(promise,_bind(_objectIsAlive,record));return promise.then(function(adapterPayload){var payload=serializer.extract(store,relationship.type,adapterPayload,null,"findHasMany");var records=store.pushMany(relationship.type,payload);return records},null,"DS: Extract payload of "+record+" : hasMany "+relationship.type)}function _findBelongsTo(adapter,store,record,link,relationship){var promise=adapter.findBelongsTo(store,record,link,relationship);var serializer=serializerForAdapter(adapter,relationship.type);var label="DS: Handle Adapter#findBelongsTo of "+record+" : "+relationship.type;promise=Promise.cast(promise,label);promise=_guard(promise,_bind(_objectIsAlive,store));promise=_guard(promise,_bind(_objectIsAlive,record));return promise.then(function(adapterPayload){var payload=serializer.extract(store,relationship.type,adapterPayload,null,"findBelongsTo");var record=store.push(relationship.type,payload);return record},null,"DS: Extract payload of "+record+" : "+relationship.type)}function _findAll(adapter,store,type,sinceToken){var promise=adapter.findAll(store,type,sinceToken);var serializer=serializerForAdapter(adapter,type);var label="DS: Handle Adapter#findAll of "+type;promise=Promise.cast(promise,label);promise=_guard(promise,_bind(_objectIsAlive,store));return promise.then(function(adapterPayload){var payload=serializer.extract(store,type,adapterPayload,null,"findAll");store.pushMany(type,payload);store.didUpdateAll(type);return store.all(type)},null,"DS: Extract payload of findAll "+type)}function _findQuery(adapter,store,type,query,recordArray){var promise=adapter.findQuery(store,type,query,recordArray);var serializer=serializerForAdapter(adapter,type);var label="DS: Handle Adapter#findQuery of "+type;promise=Promise.cast(promise,label);promise=_guard(promise,_bind(_objectIsAlive,store));return promise.then(function(adapterPayload){var payload=serializer.extract(store,type,adapterPayload,null,"findQuery");recordArray.load(payload);return recordArray},null,"DS: Extract payload of findQuery "+type)}function _commit(adapter,store,operation,record){var type=record.constructor;var promise=adapter[operation](store,type,record);var serializer=serializerForAdapter(adapter,type);var label="DS: Extract and notify about "+operation+" completion of "+record;promise=Promise.cast(promise,label);promise=_guard(promise,_bind(_objectIsAlive,store));promise=_guard(promise,_bind(_objectIsAlive,record));
return promise.then(function(adapterPayload){var payload;if(adapterPayload){payload=serializer.extract(store,type,adapterPayload,get(record,"id"),operation)}else{payload=adapterPayload}store.didSaveRecord(record,payload);return record},function(reason){if(reason instanceof InvalidError){store.recordWasInvalid(record,reason.errors)}else{store.recordWasError(record,reason)}throw reason},label)}function setupRelationships(store,record,data){var type=record.constructor;type.eachRelationship(function(key,descriptor){var kind=descriptor.kind;var value=data[key];var relationship=record._relationships[key];if(data.links&&data.links[key]){relationship.updateLink(data.links[key])}if(kind==="belongsTo"){if(value===undefined){return}relationship.setRecord(value)}else if(kind==="hasMany"&&value){relationship.updateRecordsFromAdapter(value)}})}__exports__.Store=Store;__exports__["default"]=Store});define("ember-data/transforms",["ember-data/transforms/base","ember-data/transforms/number","ember-data/transforms/date","ember-data/transforms/string","ember-data/transforms/boolean","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var Transform=__dependency1__["default"];var NumberTransform=__dependency2__["default"];var DateTransform=__dependency3__["default"];var StringTransform=__dependency4__["default"];var BooleanTransform=__dependency5__["default"];__exports__.Transform=Transform;__exports__.NumberTransform=NumberTransform;__exports__.DateTransform=DateTransform;__exports__.StringTransform=StringTransform;__exports__.BooleanTransform=BooleanTransform});define("ember-data/transforms/base",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Object.extend({serialize:Ember.required(),deserialize:Ember.required()})});define("ember-data/transforms/boolean",["ember-data/transforms/base","exports"],function(__dependency1__,__exports__){"use strict";var Transform=__dependency1__["default"];__exports__["default"]=Transform.extend({deserialize:function(serialized){var type=typeof serialized;if(type==="boolean"){return serialized}else if(type==="string"){return serialized.match(/^true$|^t$|^1$/i)!==null}else if(type==="number"){return serialized===1}else{return false}},serialize:function(deserialized){return Boolean(deserialized)}})});define("ember-data/transforms/date",["ember-data/transforms/base","exports"],function(__dependency1__,__exports__){"use strict";var Transform=__dependency1__["default"];var toISOString=Date.prototype.toISOString||function(){function pad(number){if(number<10){return"0"+number}return number}return this.getUTCFullYear()+"-"+pad(this.getUTCMonth()+1)+"-"+pad(this.getUTCDate())+"T"+pad(this.getUTCHours())+":"+pad(this.getUTCMinutes())+":"+pad(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};if(Ember.SHIM_ES5){if(!Date.prototype.toISOString){Date.prototype.toISOString=toISOString}}__exports__["default"]=Transform.extend({deserialize:function(serialized){var type=typeof serialized;if(type==="string"){return new Date(Ember.Date.parse(serialized))}else if(type==="number"){return new Date(serialized)}else if(serialized===null||serialized===undefined){return serialized}else{return null}},serialize:function(date){if(date instanceof Date){return toISOString.call(date)}else{return null}}})});define("ember-data/transforms/number",["ember-data/transforms/base","exports"],function(__dependency1__,__exports__){"use strict";var Transform=__dependency1__["default"];var empty=Ember.isEmpty;__exports__["default"]=Transform.extend({deserialize:function(serialized){return empty(serialized)?null:Number(serialized)},serialize:function(deserialized){return empty(deserialized)?null:Number(deserialized)}})});define("ember-data/transforms/string",["ember-data/transforms/base","exports"],function(__dependency1__,__exports__){"use strict";var Transform=__dependency1__["default"];var none=Ember.isNone;__exports__["default"]=Transform.extend({deserialize:function(serialized){return none(serialized)?null:String(serialized)},serialize:function(deserialized){return none(deserialized)?null:String(deserialized)}})});define("ember-inflector",["./system","./helpers","./ext/string","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Inflector=__dependency1__.Inflector;var defaultRules=__dependency1__.defaultRules;var pluralize=__dependency1__.pluralize;var singularize=__dependency1__.singularize;Inflector.defaultRules=defaultRules;Ember.Inflector=Inflector;Ember.String.pluralize=pluralize;Ember.String.singularize=singularize;__exports__["default"]=Inflector;__exports__.pluralize=pluralize;__exports__.singularize=singularize});define("ember-inflector/ext/string",["../system/string"],function(__dependency1__){"use strict";var pluralize=__dependency1__.pluralize;var singularize=__dependency1__.singularize;if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.String){String.prototype.pluralize=function(){return pluralize(this)};String.prototype.singularize=function(){return singularize(this)}}});define("ember-inflector/helpers",["./system/string"],function(__dependency1__){"use strict";var singularize=__dependency1__.singularize;var pluralize=__dependency1__.pluralize;Ember.Handlebars.helper("singularize",singularize);Ember.Handlebars.helper("pluralize",pluralize)});define("ember-inflector/system",["./system/inflector","./system/string","./system/inflections","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Inflector=__dependency1__["default"];var pluralize=__dependency2__.pluralize;var singularize=__dependency2__.singularize;var defaultRules=__dependency3__["default"];Inflector.inflector=new Inflector(defaultRules);__exports__.Inflector=Inflector;__exports__.singularize=singularize;__exports__.pluralize=pluralize;__exports__.defaultRules=defaultRules});define("ember-inflector/system/inflections",["exports"],function(__exports__){"use strict";__exports__["default"]={plurals:[[/$/,"s"],[/s$/i,"s"],[/^(ax|test)is$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(octop|vir)i$/i,"$1i"],[/(alias|status)$/i,"$1es"],[/(bu)s$/i,"$1ses"],[/(buffal|tomat)o$/i,"$1oes"],[/([ti])um$/i,"$1a"],[/([ti])a$/i,"$1a"],[/sis$/i,"ses"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/(hive)$/i,"$1s"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(x|ch|ss|sh)$/i,"$1es"],[/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"],[/^(m|l)ouse$/i,"$1ice"],[/^(m|l)ice$/i,"$1ice"],[/^(ox)$/i,"$1en"],[/^(oxen)$/i,"$1"],[/(quiz)$/i,"$1zes"]],singular:[[/s$/i,""],[/(ss)$/i,"$1"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"],[/(^analy)(sis|ses)$/i,"$1sis"],[/([^f])ves$/i,"$1fe"],[/(hive)s$/i,"$1"],[/(tive)s$/i,"$1"],[/([lr])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(x|ch|ss|sh)es$/i,"$1"],[/^(m|l)ice$/i,"$1ouse"],[/(bus)(es)?$/i,"$1"],[/(o)es$/i,"$1"],[/(shoe)s$/i,"$1"],[/(cris|test)(is|es)$/i,"$1is"],[/^(a)x[ie]s$/i,"$1xis"],[/(octop|vir)(us|i)$/i,"$1us"],[/(alias|status)(es)?$/i,"$1"],[/^(ox)en/i,"$1"],[/(vert|ind)ices$/i,"$1ex"],[/(matr)ices$/i,"$1ix"],[/(quiz)zes$/i,"$1"],[/(database)s$/i,"$1"]],irregularPairs:[["person","people"],["man","men"],["child","children"],["sex","sexes"],["move","moves"],["cow","kine"],["zombie","zombies"]],uncountable:["equipment","information","rice","money","species","series","fish","sheep","jeans","police"]}});define("ember-inflector/system/inflector",["exports"],function(__exports__){"use strict";var BLANK_REGEX=/^\s*$/;var LAST_WORD_DASHED_REGEX=/(\w+[_-])([a-z\d]+$)/;var LAST_WORD_CAMELIZED_REGEX=/(\w+)([A-Z][a-z\d]*$)/;var CAMELIZED_REGEX=/[A-Z][a-z\d]*$/;function loadUncountable(rules,uncountable){for(var i=0,length=uncountable.length;i<length;i++){rules.uncountable[uncountable[i].toLowerCase()]=true}}function loadIrregular(rules,irregularPairs){var pair;for(var i=0,length=irregularPairs.length;i<length;i++){pair=irregularPairs[i];rules.irregular[pair[0].toLowerCase()]=pair[1];rules.irregular[pair[1].toLowerCase()]=pair[1];rules.irregularInverse[pair[1].toLowerCase()]=pair[0];rules.irregularInverse[pair[0].toLowerCase()]=pair[0]}}function Inflector(ruleSet){ruleSet=ruleSet||{};ruleSet.uncountable=ruleSet.uncountable||makeDictionary();ruleSet.irregularPairs=ruleSet.irregularPairs||makeDictionary();var rules=this.rules={plurals:ruleSet.plurals||[],singular:ruleSet.singular||[],irregular:makeDictionary(),irregularInverse:makeDictionary(),uncountable:makeDictionary()};loadUncountable(rules,ruleSet.uncountable);loadIrregular(rules,ruleSet.irregularPairs);this.enableCache()}if(!Object.create&&!Object.create(null).hasOwnProperty){throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg")}function makeDictionary(){var cache=Object.create(null);cache["_dict"]=null;delete cache["_dict"];return cache}Inflector.prototype={enableCache:function(){this.purgeCache();this.singularize=function(word){this._cacheUsed=true;return this._sCache[word]||(this._sCache[word]=this._singularize(word))};this.pluralize=function(word){this._cacheUsed=true;return this._pCache[word]||(this._pCache[word]=this._pluralize(word))}},purgeCache:function(){this._cacheUsed=false;this._sCache=makeDictionary();this._pCache=makeDictionary()},disableCache:function(){this._sCache=null;this._pCache=null;this.singularize=function(word){return this._singularize(word)};this.pluralize=function(word){return this._pluralize(word)}},plural:function(regex,string){if(this._cacheUsed){this.purgeCache()}this.rules.plurals.push([regex,string.toLowerCase()])},singular:function(regex,string){if(this._cacheUsed){this.purgeCache()}this.rules.singular.push([regex,string.toLowerCase()])},uncountable:function(string){if(this._cacheUsed){this.purgeCache()}loadUncountable(this.rules,[string.toLowerCase()])},irregular:function(singular,plural){if(this._cacheUsed){this.purgeCache()}loadIrregular(this.rules,[[singular,plural]])},pluralize:function(word){return this._pluralize(word)},_pluralize:function(word){return this.inflect(word,this.rules.plurals,this.rules.irregular)},singularize:function(word){return this._singularize(word)},_singularize:function(word){return this.inflect(word,this.rules.singular,this.rules.irregularInverse)},inflect:function(word,typeRules,irregular){var inflection,substitution,result,lowercase,wordSplit,firstPhrase,lastWord,isBlank,isCamelized,isUncountable,isIrregular,isIrregularInverse,rule;isBlank=BLANK_REGEX.test(word);isCamelized=CAMELIZED_REGEX.test(word);firstPhrase="";if(isBlank){return word}lowercase=word.toLowerCase();wordSplit=LAST_WORD_DASHED_REGEX.exec(word)||LAST_WORD_CAMELIZED_REGEX.exec(word);if(wordSplit){firstPhrase=wordSplit[1];lastWord=wordSplit[2].toLowerCase()}isUncountable=this.rules.uncountable[lowercase]||this.rules.uncountable[lastWord];if(isUncountable){return word}isIrregular=irregular&&(irregular[lowercase]||irregular[lastWord]);if(isIrregular){if(irregular[lowercase]){return isIrregular}else{isIrregular=isCamelized?isIrregular.capitalize():isIrregular;return firstPhrase+isIrregular}}for(var i=typeRules.length,min=0;i>min;i--){inflection=typeRules[i-1];rule=inflection[0];if(rule.test(word)){break}}inflection=inflection||[];rule=inflection[0];substitution=inflection[1];result=word.replace(rule,substitution);return result}};__exports__["default"]=Inflector});define("ember-inflector/system/string",["./inflector","exports"],function(__dependency1__,__exports__){"use strict";var Inflector=__dependency1__["default"];function pluralize(word){return Inflector.inflector.pluralize(word)}function singularize(word){return Inflector.inflector.singularize(word)}__exports__.pluralize=pluralize;__exports__.singularize=singularize});global.DS=requireModule("ember-data")["default"]})(this);(function(undefined){var moment,VERSION="2.8.3",globalScope=typeof global!=="undefined"?global:this,oldGlobalMoment,round=Math.round,hasOwnProperty=Object.prototype.hasOwnProperty,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule=typeof module!=="undefined"&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOrdinal=/\d{1,2}/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),unitMillisecondFactors={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";if(a<0){a=-a;b="-"}return b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";if(a<0){a=-a;b="-"}return b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function dfl(a,b,c){switch(arguments.length){case 2:return a!=null?a:b;case 3:return a!=null?a:b!=null?b:c;default:throw new Error("Implement me")}}function hasOwnProp(a,b){return hasOwnProperty.call(a,b)}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function printMsg(msg){if(moment.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+msg)}}function deprecate(msg,fn){var firstTime=true;return extend(function(){if(firstTime){printMsg(msg);firstTime=false}return fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){if(!deprecations[name]){printMsg(msg);deprecations[name]=true}}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}while(ordinalizeTokens.length){i=ordinalizeTokens.pop();formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i)}while(paddedTokens.length){i=paddedTokens.pop();formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2)}formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3);function Locale(){}function Moment(config,skipOverflow){if(skipOverflow!==false){checkOverflow(config)}copyConfig(this,config);this._d=new Date(+config._d)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*36e5;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=moment.localeData();this._bubble()}function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}if(hasOwnProp(b,"toString")){a.toString=b.toString}if(hasOwnProp(b,"valueOf")){a.valueOf=b.valueOf}return a}function copyConfig(to,from){var i,prop,val;if(typeof from._isAMomentObject!=="undefined"){to._isAMomentObject=from._isAMomentObject}if(typeof from._i!=="undefined"){to._i=from._i}if(typeof from._f!=="undefined"){to._f=from._f}if(typeof from._l!=="undefined"){to._l=from._l}if(typeof from._strict!=="undefined"){to._strict=from._strict}if(typeof from._tzm!=="undefined"){to._tzm=from._tzm}if(typeof from._isUTC!=="undefined"){to._isUTC=from._isUTC}if(typeof from._offset!=="undefined"){to._offset=from._offset}if(typeof from._pf!=="undefined"){to._pf=from._pf}if(typeof from._locale!=="undefined"){to._locale=from._locale}if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(typeof val!=="undefined"){to[prop]=val}}}return to}function absRound(number){if(number<0){return Math.ceil(number)}else{return Math.floor(number)}}function leftZeroFill(number,targetLength,forceSign){var output=""+Math.abs(number),sign=number>=0;while(output.length<targetLength){output="0"+output}return(sign?forceSign?"+":"":"-")+output}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,"M").isAfter(other)){--res.months}res.milliseconds=+other-+base.clone().add(res.months,"M");return res}function momentsDifference(base,other){var res;other=makeAs(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}return res}function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period).");tmp=val;val=period;period=tmp}val=typeof val==="string"?+val:val;dur=moment.duration(val,period);addOrSubtractDurationFromMoment(this,dur,direction);return this}}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=updateOffset==null?true:updateOffset;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding)}if(days){rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding)}if(months){rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding)}if(updateOffset){moment.updateOffset(mom,days||months)}}function isArray(input){return Object.prototype.toString.call(input)==="[object Array]"}function isDate(input){return Object.prototype.toString.call(input)==="[object Date]"||input instanceof Date}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i])){diffs++}}return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}function makeList(field){var count,setter;if(field.indexOf("week")===0){count=7;setter="day"}else if(field.indexOf("month")===0){count=12;setter="month"}else{return}moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if(typeof format==="number"){index=format;format=undefined}getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment._locale,m,format||"")};if(index!=null){return getter(index)}else{for(i=0;i<count;i++){results.push(getter(i))}return results}}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){if(coercedNumber>=0){value=Math.floor(coercedNumber)}else{value=Math.ceil(coercedNumber)}}return value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;if(m._a&&m._pf.overflow===-2){overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>23?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1;if(m._pf._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}m._pf.overflow=overflow}}function isValid(m){if(m._isValid==null){m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated;if(m._strict){m._isValid=m._isValid&&m._pf.charsLeftOver===0&&m._pf.unusedTokens.length===0}}return m._isValid}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split("-");j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split("-"):null;while(j>0){locale=loadLocale(split.slice(0,j).join("-"));if(locale){return locale}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule){try{oldLocale=moment.locale();require("./locale/"+name);moment.locale(oldLocale)}catch(e){}}return locales[name]}function makeAs(input,model){return model._isUTC?moment(input).zone(model._offset||0):moment(input).local()}extend(Locale.prototype,{set:function(config){var prop,i;for(i in config){prop=config[i];if(typeof prop==="function"){this[i]=prop}else{this["_"+i]=prop}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[]}for(i=0;i<12;i++){if(!this._monthsParse[i]){mom=moment.utc([2e3,i]);regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(this._monthsParse[i].test(monthName)){return i}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[]}for(i=0;i<7;i++){if(!this._weekdaysParse[i]){mom=moment([2e3,1]).day(i);regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(this._weekdaysParse[i].test(weekdayName)){return i}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()]){output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});this._longDateFormat[key]=output}return output},isPM:function(input){return(input+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendar[key];return typeof output==="function"?output.apply(mom):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return typeof output==="function"?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return typeof format==="function"?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="";for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}format=expandFormat(format,m.localeData());if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format)}return formatFunctions[format](m)}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict){return parseTokenOneDigit}case"SS":if(strict){return parseTokenTwoDigits}case"SSS":if(strict){return parseTokenThreeDigits}case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return config._locale._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return parseTokenOrdinal;default:a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"));return a}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==="+"?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":if(input!=null){datePartArray[MONTH]=(toInt(input)-1)*3}break;case"M":case"MM":if(input!=null){datePartArray[MONTH]=toInt(input)-1}break;case"MMM":case"MMMM":a=config._locale.monthsParse(input);if(a!=null){datePartArray[MONTH]=a}else{config._pf.invalidMonth=input}break;case"D":case"DD":if(input!=null){datePartArray[DATE]=toInt(input)}break;case"Do":if(input!=null){datePartArray[DATE]=toInt(parseInt(input,10))}break;case"DDD":case"DDDD":if(input!=null){config._dayOfYear=toInt(input)}break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=config._locale.isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);
break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(("0."+input)*1e3);break;case"X":config._d=new Date(parseFloat(input)*1e3);break;case"Z":case"ZZ":config._useUTC=true;config._tzm=timezoneMinutesFromString(input);break;case"dd":case"ddd":case"dddd":a=config._locale.weekdaysParse(input);if(a!=null){config._w=config._w||{};config._w["d"]=a}else{config._pf.invalidWeekday=input}break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":token=token.substr(0,1);case"gggg":case"GGGG":case"GGGGG":token=token.substr(0,2);if(input){config._w=config._w||{};config._w[token]=toInt(input)}break;case"gg":case"GG":config._w=config._w||{};config._w[token]=moment.parseTwoDigitYear(input)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year);week=dfl(w.W,1);weekday=dfl(w.E,1)}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year);week=dfl(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<dow){++week}}else if(w.e!=null){weekday=w.e+dow}else{weekday=dow}}temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}if(config._dayOfYear){yearToUse=dfl(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){config._pf._overflowDayOfYear=true}date=makeUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=config._a[i]==null?i===2?1:0:config._a[i]}config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()+config._tzm)}}function dateFromObject(config){var normalizedInput;if(config._d){return}normalizedInput=normalizeObjectUnits(config._i);config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond];dateFromConfig(config)}function currentDateArray(config){var now=new Date;if(config._useUTC){return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]}else{return[now.getFullYear(),now.getMonth(),now.getDate()]}}function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601){parseISO(config);return}config._a=[];config._pf.empty=true;var string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){config._pf.unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){config._pf.empty=false}else{config._pf.unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){config._pf.unusedTokens.push(token)}}config._pf.charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){config._pf.unusedInput.push(string)}if(config._isPm&&config._a[HOUR]<12){config._a[HOUR]+=12}if(config._isPm===false&&config._a[HOUR]===12){config._a[HOUR]=0}dateFromConfig(config);checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){config._pf.invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}tempConfig._pf=defaultParsingFlags();tempConfig._f=config._f[i];makeDateFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue}currentScore+=tempConfig._pf.charsLeftOver;currentScore+=tempConfig._pf.unusedTokens.length*10;tempConfig._pf.score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){config._pf.iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}}for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}}if(string.match(parseTokenTimezone)){config._f+="Z"}makeDateFromStringAndFormat(config)}else{config._isValid=false}}function makeDateFromString(config){parseISO(config);if(config._isValid===false){delete config._isValid;moment.createFromInputFallback(config)}}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}return res}function makeDateFromInput(config){var input=config._i,matched;if(input===undefined){config._d=new Date}else if(isDate(input)){config._d=new Date(+input)}else if((matched=aspNetJsonRegex.exec(input))!==null){config._d=new Date(+matched[1])}else if(typeof input==="string"){makeDateFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});dateFromConfig(config)}else if(typeof input==="object"){dateFromObject(config)}else if(typeof input==="number"){config._d=new Date(input)}else{moment.createFromInputFallback(config)}}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<1970){date.setFullYear(y)}return date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<1970){date.setUTCFullYear(y)}return date}function parseWeekday(input,locale){if(typeof input==="string"){if(!isNaN(input)){input=parseInt(input,10)}else{input=locale.weekdaysParse(input);if(typeof input!=="number"){return null}}}return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),args=seconds<relativeTimeThresholds.s&&["s",seconds]||minutes===1&&["m"]||minutes<relativeTimeThresholds.m&&["mm",minutes]||hours===1&&["h"]||hours<relativeTimeThresholds.h&&["hh",hours]||days===1&&["d"]||days<relativeTimeThresholds.d&&["dd",days]||months===1&&["M"]||months<relativeTimeThresholds.M&&["MM",months]||years===1&&["y"]||["yy",years];args[2]=withoutSuffix;args[3]=+posNegDuration>0;args[4]=locale;return substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end){daysToDayOfWeek-=7}if(daysToDayOfWeek<end-7){daysToDayOfWeek+=7}adjustedMoment=moment(mom).add(daysToDayOfWeek,"d");return{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=makeUTCDate(year,0,1).getUTCDay(),daysToAdd,dayOfYear;d=d===0?7:d;weekday=weekday!=null?weekday:firstDayOfWeek;daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(d<firstDayOfWeek?7:0);dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1;return{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f;config._locale=config._locale||moment.localeData(config._l);if(input===null||format===undefined&&input===""){return moment.invalid({nullInput:true})}if(typeof input==="string"){config._i=input=config._locale.preparse(input)}if(moment.isMoment(input)){return new Moment(input,true)}else if(format){if(isArray(format)){makeDateFromStringAndArray(config)}else{makeDateFromStringAndFormat(config)}}else{makeDateFromInput(config)}return new Moment(config)}moment=function(input,format,locale,strict){var c;if(typeof locale==="boolean"){strict=locale;locale=undefined}c={};c._isAMomentObject=true;c._i=input;c._f=format;c._l=locale;c._strict=strict;c._isUTC=false;c._pf=defaultParsingFlags();return makeMoment(c)};moment.suppressDeprecationWarnings=false;moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i)});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}if(!moments.length){return moment()}res=moments[0];for(i=1;i<moments.length;++i){if(moments[i][fn](res)){res=moments[i]}}return res}moment.min=function(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)};moment.max=function(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)};moment.utc=function(input,format,locale,strict){var c;if(typeof locale==="boolean"){strict=locale;locale=undefined}c={};c._isAMomentObject=true;c._useUTC=true;c._isUTC=true;c._l=locale;c._i=input;c._f=format;c._strict=strict;c._pf=defaultParsingFlags();return makeMoment(c).utc()};moment.unix=function(input){return moment(input*1e3)};moment.duration=function(input,key){var duration=input,match=null,sign,ret,parseIso,diffRes;if(moment.isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(typeof input==="number"){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetTimeSpanJsonRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else if(!!(match=isoDurationRegex.exec(input))){sign=match[1]==="-"?-1:1;parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign};duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}}else if(typeof duration==="object"&&("from"in duration||"to"in duration)){diffRes=momentsDifference(moment(duration.from),moment(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}ret=new Duration(duration);if(moment.isDuration(input)&&hasOwnProp(input,"_locale")){ret._locale=input._locale}return ret};moment.version=VERSION;moment.defaultFormat=isoFormat;moment.ISO_8601=function(){};moment.momentProperties=momentProperties;moment.updateOffset=function(){};moment.relativeTimeThreshold=function(threshold,limit){if(relativeTimeThresholds[threshold]===undefined){return false}if(limit===undefined){return relativeTimeThresholds[threshold]}relativeTimeThresholds[threshold]=limit;return true};moment.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",function(key,value){return moment.locale(key,value)});moment.locale=function(key,values){var data;if(key){if(typeof values!=="undefined"){data=moment.defineLocale(key,values)}else{data=moment.localeData(key)}if(data){moment.duration._locale=moment._locale=data}}return moment._locale._abbr};moment.defineLocale=function(name,values){if(values!==null){values.abbr=name;if(!locales[name]){locales[name]=new Locale}locales[name].set(values);moment.locale(name);return locales[name]}else{delete locales[name];return null}};moment.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",function(key){return moment.localeData(key)});moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}if(!key){return moment._locale}if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}key=[key]}return chooseLocale(key)};moment.isMoment=function(obj){return obj instanceof Moment||obj!=null&&hasOwnProp(obj,"_isAMomentObject")};moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i){makeList(lists[i])}moment.normalizeUnits=function(units){return normalizeUnits(units)};moment.invalid=function(flags){var m=moment.utc(NaN);if(flags!=null){extend(m._pf,flags)}else{m._pf.userInvalidated=true}return m};moment.parseZone=function(){return moment.apply(null,arguments).parseZone()};moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();if(0<m.year()&&m.year()<=9999){return formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}else{return formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0}return false},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.zone(0,keepLocalTime)},local:function(keepLocalTime){if(this._isUTC){this.zone(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.add(this._dateTzOffset(),"m")}}return this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output)},add:createAdder(1,"add"),subtract:createAdder(-1,"subtract"),diff:function(input,units,asFloat){var that=makeAs(input,this),zoneDiff=(this.zone()-that.zone())*6e4,diff,output,daysAdjust;units=normalizeUnits(units);if(units==="year"||units==="month"){diff=(this.daysInMonth()+that.daysInMonth())*432e5;output=(this.year()-that.year())*12+(this.month()-that.month());daysAdjust=this-moment(this).startOf("month")-(that-moment(that).startOf("month"));daysAdjust-=(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone()))*6e4;output+=daysAdjust/diff;if(units==="year"){output=output/12}}else{diff=this-that;output=units==="second"?diff/1e3:units==="minute"?diff/6e4:units==="hour"?diff/36e5:units==="day"?(diff-zoneDiff)/864e5:units==="week"?(diff-zoneDiff)/6048e5:diff}return asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf("day"),diff=this.diff(sod,"days",true),format=diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(format,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,"d")}else{return day}},month:makeAccessor("Month",true),startOf:function(units){units=normalizeUnits(units);switch(units){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(units==="week"){this.weekday(0)}else if(units==="isoWeek"){this.isoWeekday(1)}if(units==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this},endOf:function(units){units=normalizeUnits(units);return this.startOf(units).add(1,units==="isoWeek"?"week":units).subtract(1,"ms")},isAfter:function(input,units){units=normalizeUnits(typeof units!=="undefined"?units:"millisecond");if(units==="millisecond"){input=moment.isMoment(input)?input:moment(input);return+this>+input}else{return+this.clone().startOf(units)>+moment(input).startOf(units)}},isBefore:function(input,units){units=normalizeUnits(typeof units!=="undefined"?units:"millisecond");if(units==="millisecond"){input=moment.isMoment(input)?input:moment(input);return+this<+input}else{return+this.clone().startOf(units)<+moment(input).startOf(units)}},isSame:function(input,units){units=normalizeUnits(units||"millisecond");if(units==="millisecond"){input=moment.isMoment(input)?input:moment(input);return+this===+input}else{return+this.clone().startOf(units)===+makeAs(input,this).startOf(units)}},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(other){other=moment.apply(null,arguments);return other<this?this:other}),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(other){other=moment.apply(null,arguments);return other>this?this:other}),zone:function(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(input!=null){if(typeof input==="string"){input=timezoneMinutesFromString(input)}if(Math.abs(input)<16){input=input*60}if(!this._isUTC&&keepLocalTime){localAdjust=this._dateTzOffset()}this._offset=input;this._isUTC=true;if(localAdjust!=null){this.subtract(localAdjust,"m")}if(offset!==input){if(!keepLocalTime||this._changeInProgress){addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;moment.updateOffset(this,true);this._changeInProgress=null}}}else{return this._isUTC?offset:this._dateTzOffset()}return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.zone(this._tzm)}else if(typeof this._i==="string"){this.zone(this._i)}return this},hasAlignedHourOffset:function(input){if(!input){input=0}else{input=moment(input).zone()}return(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return input==null?dayOfYear:this.add(input-dayOfYear,"d")},quarter:function(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return input==null?year:this.add(input-year,"y")},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return input==null?year:this.add(input-year,"y")},week:function(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,"d")},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,"d")},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,"d")},isoWeekday:function(input){return input==null?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){units=normalizeUnits(units);return this[units]()},set:function(units,value){units=normalizeUnits(units);if(typeof this[units]==="function"){this[units](value)}return this},locale:function(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=moment.localeData(key);if(newLocaleData!=null){this._locale=newLocaleData}return this}},lang:deprecate("moment().lang() is deprecated. Use moment().localeData() instead.",function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}}),localeData:function(){return this._locale},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15}});function rawMonthSetter(mom,value){var dayOfMonth;if(typeof value==="string"){value=mom.localeData().monthsParse(value);if(typeof value!=="number"){return mom}}dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth);return mom}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){if(unit==="Month"){return rawMonthSetter(mom,value)}else{return mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}}function makeAccessor(unit,keepTime){return function(value){if(value!=null){rawSetter(this,unit,value);moment.updateOffset(this,keepTime);return this}else{return rawGetter(this,unit)}}}moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",false);moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",false);moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",false);moment.fn.hour=moment.fn.hours=makeAccessor("Hours",true);moment.fn.date=makeAccessor("Date",true);moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",true));moment.fn.year=makeAccessor("FullYear",true);moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",true));moment.fn.days=moment.fn.day;moment.fn.months=moment.fn.month;moment.fn.weeks=moment.fn.week;moment.fn.isoWeeks=moment.fn.isoWeek;moment.fn.quarters=moment.fn.quarter;moment.fn.toJSON=moment.fn.toISOString;function daysToYears(days){return days*400/146097}function yearsToDays(years){return years*146097/400}extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years=0;data.milliseconds=milliseconds%1e3;seconds=absRound(milliseconds/1e3);data.seconds=seconds%60;minutes=absRound(seconds/60);data.minutes=minutes%60;hours=absRound(minutes/60);data.hours=hours%24;days+=absRound(hours/24);years=absRound(daysToYears(days));days-=absRound(yearsToDays(years));months+=absRound(days/30);days%=30;years+=absRound(months/12);months%=12;data.days=days;data.months=months;data.years=years},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());if(withSuffix){output=this.localeData().pastFuture(+this,output)}return this.localeData().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);this._milliseconds+=dur._milliseconds;this._days+=dur._days;this._months+=dur._months;this._bubble();return this},subtract:function(input,val){var dur=moment.duration(input,val);this._milliseconds-=dur._milliseconds;this._days-=dur._days;this._months-=dur._months;this._bubble();return this},get:function(units){units=normalizeUnits(units);return this[units.toLowerCase()+"s"]()},as:function(units){var days,months;units=normalizeUnits(units);if(units==="month"||units==="year"){days=this._days+this._milliseconds/864e5;months=this._months+daysToYears(days)*12;return units==="month"?months:months/12}else{days=this._days+yearsToDays(this._months/12);switch(units){case"week":return days/7+this._milliseconds/6048e5;case"day":return days+this._milliseconds/864e5;case"hour":return days*24+this._milliseconds/36e5;case"minute":return days*24*60+this._milliseconds/6e4;case"second":return days*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(days*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+units)}}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate("toIsoString() is deprecated. Please use toISOString() instead "+"(notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":"")},localeData:function(){return this._locale}});moment.duration.fn.toString=moment.duration.fn.toISOString;function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}for(i in unitMillisecondFactors){if(hasOwnProp(unitMillisecondFactors,i)){makeDurationGetter(i.toLowerCase())}}moment.duration.fn.asMilliseconds=function(){return this.as("ms")};moment.duration.fn.asSeconds=function(){return this.as("s")};moment.duration.fn.asMinutes=function(){return this.as("m")};moment.duration.fn.asHours=function(){return this.as("h")};moment.duration.fn.asDays=function(){return this.as("d")};moment.duration.fn.asWeeks=function(){return this.as("weeks")};moment.duration.fn.asMonths=function(){return this.as("M")};moment.duration.fn.asYears=function(){return this.as("y")};moment.locale("en",{ordinal:function(number){var b=number%10,output=toInt(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}});function makeGlobal(shouldDeprecate){if(typeof ender!=="undefined"){return}oldGlobalMoment=globalScope.moment;if(shouldDeprecate){globalScope.moment=deprecate("Accessing Moment through the global scope is "+"deprecated, and will be removed in an upcoming "+"release.",moment)}else{globalScope.moment=moment}}if(hasModule){module.exports=moment}else if(typeof define==="function"&&define.amd){define("moment",function(require,exports,module){if(module.config&&module.config()&&module.config().noGlobal===true){globalScope.moment=oldGlobalMoment}return moment});makeGlobal(true)}else{makeGlobal()}}).call(this);!function(){var d3={version:"3.4.13"};if(!Date.now)Date.now=function(){return+new Date};var d3_arraySlice=[].slice,d3_array=function(list){return d3_arraySlice.call(list)};var d3_document=document,d3_documentElement=d3_document.documentElement,d3_window=window;try{d3_array(d3_documentElement.childNodes)[0].nodeType}catch(e){d3_array=function(list){var i=list.length,array=new Array(i);while(i--)array[i]=list[i];return array}}try{d3_document.createElement("div").style.setProperty("opacity",0,"")}catch(error){var d3_element_prototype=d3_window.Element.prototype,d3_element_setAttribute=d3_element_prototype.setAttribute,d3_element_setAttributeNS=d3_element_prototype.setAttributeNS,d3_style_prototype=d3_window.CSSStyleDeclaration.prototype,d3_style_setProperty=d3_style_prototype.setProperty;d3_element_prototype.setAttribute=function(name,value){d3_element_setAttribute.call(this,name,value+"")};d3_element_prototype.setAttributeNS=function(space,local,value){d3_element_setAttributeNS.call(this,space,local,value+"")};d3_style_prototype.setProperty=function(name,value,priority){d3_style_setProperty.call(this,name,value+"",priority)}}d3.ascending=d3_ascending;function d3_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}d3.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};d3.min=function(array,f){var i=-1,n=array.length,a,b;if(arguments.length===1){while(++i<n&&!((a=array[i])!=null&&a<=a))a=undefined;while(++i<n)if((b=array[i])!=null&&a>b)a=b}else{while(++i<n&&!((a=f.call(array,array[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(array,array[i],i))!=null&&a>b)a=b}return a};d3.max=function(array,f){var i=-1,n=array.length,a,b;if(arguments.length===1){while(++i<n&&!((a=array[i])!=null&&a<=a))a=undefined;while(++i<n)if((b=array[i])!=null&&b>a)a=b}else{while(++i<n&&!((a=f.call(array,array[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(array,array[i],i))!=null&&b>a)a=b}return a};d3.extent=function(array,f){var i=-1,n=array.length,a,b,c;if(arguments.length===1){while(++i<n&&!((a=c=array[i])!=null&&a<=a))a=c=undefined;while(++i<n)if((b=array[i])!=null){if(a>b)a=b;if(c<b)c=b}}else{while(++i<n&&!((a=c=f.call(array,array[i],i))!=null&&a<=a))a=undefined;while(++i<n)if((b=f.call(array,array[i],i))!=null){if(a>b)a=b;if(c<b)c=b}}return[a,c]};function d3_number(x){return x===null?NaN:+x}function d3_numeric(x){return!isNaN(x)}d3.sum=function(array,f){var s=0,n=array.length,a,i=-1;if(arguments.length===1){while(++i<n)if(d3_numeric(a=+array[i]))s+=a}else{while(++i<n)if(d3_numeric(a=+f.call(array,array[i],i)))s+=a}return s};d3.mean=function(array,f){var s=0,n=array.length,a,i=-1,j=n;if(arguments.length===1){while(++i<n)if(d3_numeric(a=d3_number(array[i])))s+=a;else--j}else{while(++i<n)if(d3_numeric(a=d3_number(f.call(array,array[i],i))))s+=a;else--j}return j?s/j:undefined};d3.quantile=function(values,p){var H=(values.length-1)*p+1,h=Math.floor(H),v=+values[h-1],e=H-h;return e?v+e*(values[h]-v):v};d3.median=function(array,f){var numbers=[],n=array.length,a,i=-1;if(arguments.length===1){while(++i<n)if(d3_numeric(a=d3_number(array[i])))numbers.push(a)}else{while(++i<n)if(d3_numeric(a=d3_number(f.call(array,array[i],i))))numbers.push(a)}return numbers.length?d3.quantile(numbers.sort(d3_ascending),.5):undefined};function d3_bisector(compare){return{left:function(a,x,lo,hi){if(arguments.length<3)lo=0;if(arguments.length<4)hi=a.length;while(lo<hi){var mid=lo+hi>>>1;if(compare(a[mid],x)<0)lo=mid+1;else hi=mid}return lo},right:function(a,x,lo,hi){if(arguments.length<3)lo=0;if(arguments.length<4)hi=a.length;while(lo<hi){var mid=lo+hi>>>1;if(compare(a[mid],x)>0)hi=mid;else lo=mid+1}return lo}}}var d3_bisect=d3_bisector(d3_ascending);d3.bisectLeft=d3_bisect.left;d3.bisect=d3.bisectRight=d3_bisect.right;d3.bisector=function(f){return d3_bisector(f.length===1?function(d,x){return d3_ascending(f(d),x)}:f)};d3.shuffle=function(array){var m=array.length,t,i;while(m){i=Math.random()*m--|0;t=array[m],array[m]=array[i],array[i]=t}return array};d3.permute=function(array,indexes){var i=indexes.length,permutes=new Array(i);while(i--)permutes[i]=array[indexes[i]];return permutes};d3.pairs=function(array){var i=0,n=array.length-1,p0,p1=array[0],pairs=new Array(n<0?0:n);while(i<n)pairs[i]=[p0=p1,p1=array[++i]];return pairs};d3.zip=function(){if(!(n=arguments.length))return[];for(var i=-1,m=d3.min(arguments,d3_zipLength),zips=new Array(m);++i<m;){for(var j=-1,n,zip=zips[i]=new Array(n);++j<n;){zip[j]=arguments[j][i]}}return zips};function d3_zipLength(d){return d.length}d3.transpose=function(matrix){return d3.zip.apply(d3,matrix)};d3.keys=function(map){var keys=[];for(var key in map)keys.push(key);return keys};d3.values=function(map){var values=[];for(var key in map)values.push(map[key]);
return values};d3.entries=function(map){var entries=[];for(var key in map)entries.push({key:key,value:map[key]});return entries};d3.merge=function(arrays){var n=arrays.length,m,i=-1,j=0,merged,array;while(++i<n)j+=arrays[i].length;merged=new Array(j);while(--n>=0){array=arrays[n];m=array.length;while(--m>=0){merged[--j]=array[m]}}return merged};var abs=Math.abs;d3.range=function(start,stop,step){if(arguments.length<3){step=1;if(arguments.length<2){stop=start;start=0}}if((stop-start)/step===Infinity)throw new Error("infinite range");var range=[],k=d3_range_integerScale(abs(step)),i=-1,j;start*=k,stop*=k,step*=k;if(step<0)while((j=start+step*++i)>stop)range.push(j/k);else while((j=start+step*++i)<stop)range.push(j/k);return range};function d3_range_integerScale(x){var k=1;while(x*k%1)k*=10;return k}function d3_class(ctor,properties){for(var key in properties){Object.defineProperty(ctor.prototype,key,{value:properties[key],enumerable:false})}}d3.map=function(object){var map=new d3_Map;if(object instanceof d3_Map)object.forEach(function(key,value){map.set(key,value)});else for(var key in object)map.set(key,object[key]);return map};function d3_Map(){this._=Object.create(null)}var d3_map_proto="__proto__",d3_map_zero="\x00";d3_class(d3_Map,{has:d3_map_has,get:function(key){return this._[d3_map_escape(key)]},set:function(key,value){return this._[d3_map_escape(key)]=value},remove:d3_map_remove,keys:d3_map_keys,values:function(){var values=[];for(var key in this._)values.push(this._[key]);return values},entries:function(){var entries=[];for(var key in this._)entries.push({key:d3_map_unescape(key),value:this._[key]});return entries},size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key),this._[key])}});function d3_map_escape(key){return(key+="")===d3_map_proto||key[0]===d3_map_zero?d3_map_zero+key:key}function d3_map_unescape(key){return(key+="")[0]===d3_map_zero?key.slice(1):key}function d3_map_has(key){return d3_map_escape(key)in this._}function d3_map_remove(key){return(key=d3_map_escape(key))in this._&&delete this._[key]}function d3_map_keys(){var keys=[];for(var key in this._)keys.push(d3_map_unescape(key));return keys}function d3_map_size(){var size=0;for(var key in this._)++size;return size}function d3_map_empty(){for(var key in this._)return false;return true}d3.nest=function(){var nest={},keys=[],sortKeys=[],sortValues,rollup;function map(mapType,array,depth){if(depth>=keys.length)return rollup?rollup.call(nest,array):sortValues?array.sort(sortValues):array;var i=-1,n=array.length,key=keys[depth++],keyValue,object,setter,valuesByKey=new d3_Map,values;while(++i<n){if(values=valuesByKey.get(keyValue=key(object=array[i]))){values.push(object)}else{valuesByKey.set(keyValue,[object])}}if(mapType){object=mapType();setter=function(keyValue,values){object.set(keyValue,map(mapType,values,depth))}}else{object={};setter=function(keyValue,values){object[keyValue]=map(mapType,values,depth)}}valuesByKey.forEach(setter);return object}function entries(map,depth){if(depth>=keys.length)return map;var array=[],sortKey=sortKeys[depth++];map.forEach(function(key,keyMap){array.push({key:key,values:entries(keyMap,depth)})});return sortKey?array.sort(function(a,b){return sortKey(a.key,b.key)}):array}nest.map=function(array,mapType){return map(mapType,array,0)};nest.entries=function(array){return entries(map(d3.map,array,0),0)};nest.key=function(d){keys.push(d);return nest};nest.sortKeys=function(order){sortKeys[keys.length-1]=order;return nest};nest.sortValues=function(order){sortValues=order;return nest};nest.rollup=function(f){rollup=f;return nest};return nest};d3.set=function(array){var set=new d3_Set;if(array)for(var i=0,n=array.length;i<n;++i)set.add(array[i]);return set};function d3_Set(){this._=Object.create(null)}d3_class(d3_Set,{has:d3_map_has,add:function(key){this._[d3_map_escape(key+="")]=true;return key},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(f){for(var key in this._)f.call(this,d3_map_unescape(key))}});d3.behavior={};d3.rebind=function(target,source){var i=1,n=arguments.length,method;while(++i<n)target[method=arguments[i]]=d3_rebind(target,source,source[method]);return target};function d3_rebind(target,source,method){return function(){var value=method.apply(source,arguments);return value===source?target:value}}function d3_vendorSymbol(object,name){if(name in object)return name;name=name.charAt(0).toUpperCase()+name.slice(1);for(var i=0,n=d3_vendorPrefixes.length;i<n;++i){var prefixName=d3_vendorPrefixes[i]+name;if(prefixName in object)return prefixName}}var d3_vendorPrefixes=["webkit","ms","moz","Moz","o","O"];function d3_noop(){}d3.dispatch=function(){var dispatch=new d3_dispatch,i=-1,n=arguments.length;while(++i<n)dispatch[arguments[i]]=d3_dispatch_event(dispatch);return dispatch};function d3_dispatch(){}d3_dispatch.prototype.on=function(type,listener){var i=type.indexOf("."),name="";if(i>=0){name=type.slice(i+1);type=type.slice(0,i)}if(type)return arguments.length<2?this[type].on(name):this[type].on(name,listener);if(arguments.length===2){if(listener==null)for(type in this){if(this.hasOwnProperty(type))this[type].on(name,null)}return this}};function d3_dispatch_event(dispatch){var listeners=[],listenerByName=new d3_Map;function event(){var z=listeners,i=-1,n=z.length,l;while(++i<n)if(l=z[i].on)l.apply(this,arguments);return dispatch}event.on=function(name,listener){var l=listenerByName.get(name),i;if(arguments.length<2)return l&&l.on;if(l){l.on=null;listeners=listeners.slice(0,i=listeners.indexOf(l)).concat(listeners.slice(i+1));listenerByName.remove(name)}if(listener)listeners.push(listenerByName.set(name,{on:listener}));return dispatch};return event}d3.event=null;function d3_eventPreventDefault(){d3.event.preventDefault()}function d3_eventSource(){var e=d3.event,s;while(s=e.sourceEvent)e=s;return e}function d3_eventDispatch(target){var dispatch=new d3_dispatch,i=0,n=arguments.length;while(++i<n)dispatch[arguments[i]]=d3_dispatch_event(dispatch);dispatch.of=function(thiz,argumentz){return function(e1){try{var e0=e1.sourceEvent=d3.event;e1.target=target;d3.event=e1;dispatch[e1.type].apply(thiz,argumentz)}finally{d3.event=e0}}};return dispatch}d3.requote=function(s){return s.replace(d3_requote_re,"\\$&")};var d3_requote_re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var d3_subclass={}.__proto__?function(object,prototype){object.__proto__=prototype}:function(object,prototype){for(var property in prototype)object[property]=prototype[property]};function d3_selection(groups){d3_subclass(groups,d3_selectionPrototype);return groups}var d3_select=function(s,n){return n.querySelector(s)},d3_selectAll=function(s,n){return n.querySelectorAll(s)},d3_selectMatcher=d3_documentElement.matches||d3_documentElement[d3_vendorSymbol(d3_documentElement,"matchesSelector")],d3_selectMatches=function(n,s){return d3_selectMatcher.call(n,s)};if(typeof Sizzle==="function"){d3_select=function(s,n){return Sizzle(s,n)[0]||null};d3_selectAll=Sizzle;d3_selectMatches=Sizzle.matchesSelector}d3.selection=function(){return d3_selectionRoot};var d3_selectionPrototype=d3.selection.prototype=[];d3_selectionPrototype.select=function(selector){var subgroups=[],subgroup,subnode,group,node;selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);subgroup.parentNode=(group=this[j]).parentNode;for(var i=-1,n=group.length;++i<n;){if(node=group[i]){subgroup.push(subnode=selector.call(node,node.__data__,i,j));if(subnode&&"__data__"in node)subnode.__data__=node.__data__}else{subgroup.push(null)}}}return d3_selection(subgroups)};function d3_selection_selector(selector){return typeof selector==="function"?selector:function(){return d3_select(selector,this)}}d3_selectionPrototype.selectAll=function(selector){var subgroups=[],subgroup,node;selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;){for(var group=this[j],i=-1,n=group.length;++i<n;){if(node=group[i]){subgroups.push(subgroup=d3_array(selector.call(node,node.__data__,i,j)));subgroup.parentNode=node}}}return d3_selection(subgroups)};function d3_selection_selectorAll(selector){return typeof selector==="function"?selector:function(){return d3_selectAll(selector,this)}}var d3_nsPrefix={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:d3_nsPrefix,qualify:function(name){var i=name.indexOf(":"),prefix=name;if(i>=0){prefix=name.slice(0,i);name=name.slice(i+1)}return d3_nsPrefix.hasOwnProperty(prefix)?{space:d3_nsPrefix[prefix],local:name}:name}};d3_selectionPrototype.attr=function(name,value){if(arguments.length<2){if(typeof name==="string"){var node=this.node();name=d3.ns.qualify(name);return name.local?node.getAttributeNS(name.space,name.local):node.getAttribute(name)}for(value in name)this.each(d3_selection_attr(value,name[value]));return this}return this.each(d3_selection_attr(name,value))};function d3_selection_attr(name,value){name=d3.ns.qualify(name);function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrConstant(){this.setAttribute(name,value)}function attrConstantNS(){this.setAttributeNS(name.space,name.local,value)}function attrFunction(){var x=value.apply(this,arguments);if(x==null)this.removeAttribute(name);else this.setAttribute(name,x)}function attrFunctionNS(){var x=value.apply(this,arguments);if(x==null)this.removeAttributeNS(name.space,name.local);else this.setAttributeNS(name.space,name.local,x)}return value==null?name.local?attrNullNS:attrNull:typeof value==="function"?name.local?attrFunctionNS:attrFunction:name.local?attrConstantNS:attrConstant}function d3_collapse(s){return s.trim().replace(/\s+/g," ")}d3_selectionPrototype.classed=function(name,value){if(arguments.length<2){if(typeof name==="string"){var node=this.node(),n=(name=d3_selection_classes(name)).length,i=-1;if(value=node.classList){while(++i<n)if(!value.contains(name[i]))return false}else{value=node.getAttribute("class");while(++i<n)if(!d3_selection_classedRe(name[i]).test(value))return false}return true}for(value in name)this.each(d3_selection_classed(value,name[value]));return this}return this.each(d3_selection_classed(name,value))};function d3_selection_classedRe(name){return new RegExp("(?:^|\\s+)"+d3.requote(name)+"(?:\\s+|$)","g")}function d3_selection_classes(name){return(name+"").trim().split(/^|\s+/)}function d3_selection_classed(name,value){name=d3_selection_classes(name).map(d3_selection_classedName);var n=name.length;function classedConstant(){var i=-1;while(++i<n)name[i](this,value)}function classedFunction(){var i=-1,x=value.apply(this,arguments);while(++i<n)name[i](this,x)}return typeof value==="function"?classedFunction:classedConstant}function d3_selection_classedName(name){var re=d3_selection_classedRe(name);return function(node,value){if(c=node.classList)return value?c.add(name):c.remove(name);var c=node.getAttribute("class")||"";if(value){re.lastIndex=0;if(!re.test(c))node.setAttribute("class",d3_collapse(c+" "+name))}else{node.setAttribute("class",d3_collapse(c.replace(re," ")))}}}d3_selectionPrototype.style=function(name,value,priority){var n=arguments.length;if(n<3){if(typeof name!=="string"){if(n<2)value="";for(priority in name)this.each(d3_selection_style(priority,name[priority],value));return this}if(n<2)return d3_window.getComputedStyle(this.node(),null).getPropertyValue(name);priority=""}return this.each(d3_selection_style(name,value,priority))};function d3_selection_style(name,value,priority){function styleNull(){this.style.removeProperty(name)}function styleConstant(){this.style.setProperty(name,value,priority)}function styleFunction(){var x=value.apply(this,arguments);if(x==null)this.style.removeProperty(name);else this.style.setProperty(name,x,priority)}return value==null?styleNull:typeof value==="function"?styleFunction:styleConstant}d3_selectionPrototype.property=function(name,value){if(arguments.length<2){if(typeof name==="string")return this.node()[name];for(value in name)this.each(d3_selection_property(value,name[value]));return this}return this.each(d3_selection_property(name,value))};function d3_selection_property(name,value){function propertyNull(){delete this[name]}function propertyConstant(){this[name]=value}function propertyFunction(){var x=value.apply(this,arguments);if(x==null)delete this[name];else this[name]=x}return value==null?propertyNull:typeof value==="function"?propertyFunction:propertyConstant}d3_selectionPrototype.text=function(value){return arguments.length?this.each(typeof value==="function"?function(){var v=value.apply(this,arguments);this.textContent=v==null?"":v}:value==null?function(){this.textContent=""}:function(){this.textContent=value}):this.node().textContent};d3_selectionPrototype.html=function(value){return arguments.length?this.each(typeof value==="function"?function(){var v=value.apply(this,arguments);this.innerHTML=v==null?"":v}:value==null?function(){this.innerHTML=""}:function(){this.innerHTML=value}):this.node().innerHTML};d3_selectionPrototype.append=function(name){name=d3_selection_creator(name);return this.select(function(){return this.appendChild(name.apply(this,arguments))})};function d3_selection_creator(name){return typeof name==="function"?name:(name=d3.ns.qualify(name)).local?function(){return this.ownerDocument.createElementNS(name.space,name.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,name)}}d3_selectionPrototype.insert=function(name,before){name=d3_selection_creator(name);before=d3_selection_selector(before);return this.select(function(){return this.insertBefore(name.apply(this,arguments),before.apply(this,arguments)||null)})};d3_selectionPrototype.remove=function(){return this.each(function(){var parent=this.parentNode;if(parent)parent.removeChild(this)})};d3_selectionPrototype.data=function(value,key){var i=-1,n=this.length,group,node;if(!arguments.length){value=new Array(n=(group=this[0]).length);while(++i<n){if(node=group[i]){value[i]=node.__data__}}return value}function bind(group,groupData){var i,n=group.length,m=groupData.length,n0=Math.min(n,m),updateNodes=new Array(m),enterNodes=new Array(m),exitNodes=new Array(n),node,nodeData;if(key){var nodeByKeyValue=new d3_Map,keyValues=new Array(n),keyValue;for(i=-1;++i<n;){if(nodeByKeyValue.has(keyValue=key.call(node=group[i],node.__data__,i))){exitNodes[i]=node}else{nodeByKeyValue.set(keyValue,node)}keyValues[i]=keyValue}for(i=-1;++i<m;){if(!(node=nodeByKeyValue.get(keyValue=key.call(groupData,nodeData=groupData[i],i)))){enterNodes[i]=d3_selection_dataNode(nodeData)}else if(node!==true){updateNodes[i]=node;node.__data__=nodeData}nodeByKeyValue.set(keyValue,true)}for(i=-1;++i<n;){if(nodeByKeyValue.get(keyValues[i])!==true){exitNodes[i]=group[i]}}}else{for(i=-1;++i<n0;){node=group[i];nodeData=groupData[i];if(node){node.__data__=nodeData;updateNodes[i]=node}else{enterNodes[i]=d3_selection_dataNode(nodeData)}}for(;i<m;++i){enterNodes[i]=d3_selection_dataNode(groupData[i])}for(;i<n;++i){exitNodes[i]=group[i]}}enterNodes.update=updateNodes;enterNodes.parentNode=updateNodes.parentNode=exitNodes.parentNode=group.parentNode;enter.push(enterNodes);update.push(updateNodes);exit.push(exitNodes)}var enter=d3_selection_enter([]),update=d3_selection([]),exit=d3_selection([]);if(typeof value==="function"){while(++i<n){bind(group=this[i],value.call(group,group.parentNode.__data__,i))}}else{while(++i<n){bind(group=this[i],value)}}update.enter=function(){return enter};update.exit=function(){return exit};return update};function d3_selection_dataNode(data){return{__data__:data}}d3_selectionPrototype.datum=function(value){return arguments.length?this.property("__data__",value):this.property("__data__")};d3_selectionPrototype.filter=function(filter){var subgroups=[],subgroup,group,node;if(typeof filter!=="function")filter=d3_selection_filter(filter);for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);subgroup.parentNode=(group=this[j]).parentNode;for(var i=0,n=group.length;i<n;i++){if((node=group[i])&&filter.call(node,node.__data__,i,j)){subgroup.push(node)}}}return d3_selection(subgroups)};function d3_selection_filter(selector){return function(){return d3_selectMatches(this,selector)}}d3_selectionPrototype.order=function(){for(var j=-1,m=this.length;++j<m;){for(var group=this[j],i=group.length-1,next=group[i],node;--i>=0;){if(node=group[i]){if(next&&next!==node.nextSibling)next.parentNode.insertBefore(node,next);next=node}}}return this};d3_selectionPrototype.sort=function(comparator){comparator=d3_selection_sortComparator.apply(this,arguments);for(var j=-1,m=this.length;++j<m;)this[j].sort(comparator);return this.order()};function d3_selection_sortComparator(comparator){if(!arguments.length)comparator=d3_ascending;return function(a,b){return a&&b?comparator(a.__data__,b.__data__):!a-!b}}d3_selectionPrototype.each=function(callback){return d3_selection_each(this,function(node,i,j){callback.call(node,node.__data__,i,j)})};function d3_selection_each(groups,callback){for(var j=0,m=groups.length;j<m;j++){for(var group=groups[j],i=0,n=group.length,node;i<n;i++){if(node=group[i])callback(node,i,j)}}return groups}d3_selectionPrototype.call=function(callback){var args=d3_array(arguments);callback.apply(args[0]=this,args);return this};d3_selectionPrototype.empty=function(){return!this.node()};d3_selectionPrototype.node=function(){for(var j=0,m=this.length;j<m;j++){for(var group=this[j],i=0,n=group.length;i<n;i++){var node=group[i];if(node)return node}}return null};d3_selectionPrototype.size=function(){var n=0;d3_selection_each(this,function(){++n});return n};function d3_selection_enter(selection){d3_subclass(selection,d3_selection_enterPrototype);return selection}var d3_selection_enterPrototype=[];d3.selection.enter=d3_selection_enter;d3.selection.enter.prototype=d3_selection_enterPrototype;d3_selection_enterPrototype.append=d3_selectionPrototype.append;d3_selection_enterPrototype.empty=d3_selectionPrototype.empty;d3_selection_enterPrototype.node=d3_selectionPrototype.node;d3_selection_enterPrototype.call=d3_selectionPrototype.call;d3_selection_enterPrototype.size=d3_selectionPrototype.size;d3_selection_enterPrototype.select=function(selector){var subgroups=[],subgroup,subnode,upgroup,group,node;for(var j=-1,m=this.length;++j<m;){upgroup=(group=this[j]).update;subgroups.push(subgroup=[]);subgroup.parentNode=group.parentNode;for(var i=-1,n=group.length;++i<n;){if(node=group[i]){subgroup.push(upgroup[i]=subnode=selector.call(group.parentNode,node.__data__,i,j));subnode.__data__=node.__data__}else{subgroup.push(null)}}}return d3_selection(subgroups)};d3_selection_enterPrototype.insert=function(name,before){if(arguments.length<2)before=d3_selection_enterInsertBefore(this);return d3_selectionPrototype.insert.call(this,name,before)};function d3_selection_enterInsertBefore(enter){var i0,j0;return function(d,i,j){var group=enter[j].update,n=group.length,node;if(j!=j0)j0=j,i0=0;if(i>=i0)i0=i+1;while(!(node=group[i0])&&++i0<n);return node}}d3_selectionPrototype.transition=function(){var id=d3_transitionInheritId||++d3_transitionId,subgroups=[],subgroup,node,transition=d3_transitionInherit||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250};for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;){if(node=group[i])d3_transitionNode(node,i,id,transition);subgroup.push(node)}}return d3_transition(subgroups,id)};d3_selectionPrototype.interrupt=function(){return this.each(d3_selection_interrupt)};function d3_selection_interrupt(){var lock=this.__transition__;if(lock)++lock.active}d3.select=function(node){var group=[typeof node==="string"?d3_select(node,d3_document):node];group.parentNode=d3_documentElement;return d3_selection([group])};d3.selectAll=function(nodes){var group=d3_array(typeof nodes==="string"?d3_selectAll(nodes,d3_document):nodes);group.parentNode=d3_documentElement;return d3_selection([group])};var d3_selectionRoot=d3.select(d3_documentElement);d3_selectionPrototype.on=function(type,listener,capture){var n=arguments.length;if(n<3){if(typeof type!=="string"){if(n<2)listener=false;for(capture in type)this.each(d3_selection_on(capture,type[capture],listener));return this}if(n<2)return(n=this.node()["__on"+type])&&n._;capture=false}return this.each(d3_selection_on(type,listener,capture))};function d3_selection_on(type,listener,capture){var name="__on"+type,i=type.indexOf("."),wrap=d3_selection_onListener;if(i>0)type=type.slice(0,i);var filter=d3_selection_onFilters.get(type);if(filter)type=filter,wrap=d3_selection_onFilter;function onRemove(){var l=this[name];if(l){this.removeEventListener(type,l,l.$);delete this[name]}}function onAdd(){var l=wrap(listener,d3_array(arguments));onRemove.call(this);this.addEventListener(type,this[name]=l,l.$=capture);l._=listener}function removeAll(){var re=new RegExp("^__on([^.]+)"+d3.requote(type)+"$"),match;for(var name in this){if(match=name.match(re)){var l=this[name];this.removeEventListener(match[1],l,l.$);delete this[name]}}}return i?listener?onAdd:onRemove:listener?d3_noop:removeAll}var d3_selection_onFilters=d3.map({mouseenter:"mouseover",mouseleave:"mouseout"});d3_selection_onFilters.forEach(function(k){if("on"+k in d3_document)d3_selection_onFilters.remove(k)});function d3_selection_onListener(listener,argumentz){return function(e){var o=d3.event;d3.event=e;argumentz[0]=this.__data__;try{listener.apply(this,argumentz)}finally{d3.event=o}}}function d3_selection_onFilter(listener,argumentz){var l=d3_selection_onListener(listener,argumentz);return function(e){var target=this,related=e.relatedTarget;if(!related||related!==target&&!(related.compareDocumentPosition(target)&8)){l.call(target,e)}}}var d3_event_dragSelect="onselectstart"in d3_document?null:d3_vendorSymbol(d3_documentElement.style,"userSelect"),d3_event_dragId=0;function d3_event_dragSuppress(){var name=".dragsuppress-"+ ++d3_event_dragId,click="click"+name,w=d3.select(d3_window).on("touchmove"+name,d3_eventPreventDefault).on("dragstart"+name,d3_eventPreventDefault).on("selectstart"+name,d3_eventPreventDefault);if(d3_event_dragSelect){var style=d3_documentElement.style,select=style[d3_event_dragSelect];style[d3_event_dragSelect]="none"}return function(suppressClick){w.on(name,null);if(d3_event_dragSelect)style[d3_event_dragSelect]=select;if(suppressClick){function off(){w.on(click,null)}w.on(click,function(){d3_eventPreventDefault();off()},true);setTimeout(off,0)}}}d3.mouse=function(container){return d3_mousePoint(container,d3_eventSource())};var d3_mouse_bug44083=/WebKit/.test(d3_window.navigator.userAgent)?-1:0;function d3_mousePoint(container,e){if(e.changedTouches)e=e.changedTouches[0];var svg=container.ownerSVGElement||container;if(svg.createSVGPoint){var point=svg.createSVGPoint();if(d3_mouse_bug44083<0&&(d3_window.scrollX||d3_window.scrollY)){svg=d3.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ctm=svg[0][0].getScreenCTM();d3_mouse_bug44083=!(ctm.f||ctm.e);svg.remove()}if(d3_mouse_bug44083)point.x=e.pageX,point.y=e.pageY;else point.x=e.clientX,point.y=e.clientY;point=point.matrixTransform(container.getScreenCTM().inverse());return[point.x,point.y]}var rect=container.getBoundingClientRect();return[e.clientX-rect.left-container.clientLeft,e.clientY-rect.top-container.clientTop]}d3.touch=function(container,touches,identifier){if(arguments.length<3)identifier=touches,touches=d3_eventSource().changedTouches;if(touches)for(var i=0,n=touches.length,touch;i<n;++i){if((touch=touches[i]).identifier===identifier){return d3_mousePoint(container,touch)}}};d3.behavior.drag=function(){var event=d3_eventDispatch(drag,"drag","dragstart","dragend"),origin=null,mousedown=dragstart(d3_noop,d3.mouse,d3_behavior_dragMouseSubject,"mousemove","mouseup"),touchstart=dragstart(d3_behavior_dragTouchId,d3.touch,d3_behavior_dragTouchSubject,"touchmove","touchend");function drag(){this.on("mousedown.drag",mousedown).on("touchstart.drag",touchstart)}function dragstart(id,position,subject,move,end){return function(){var that=this,target=d3.event.target,parent=that.parentNode,dispatch=event.of(that,arguments),dragged=0,dragId=id(),dragName=".drag"+(dragId==null?"":"-"+dragId),dragOffset,dragSubject=d3.select(subject()).on(move+dragName,moved).on(end+dragName,ended),dragRestore=d3_event_dragSuppress(),position0=position(parent,dragId);if(origin){dragOffset=origin.apply(that,arguments);dragOffset=[dragOffset.x-position0[0],dragOffset.y-position0[1]]}else{dragOffset=[0,0]}dispatch({type:"dragstart"});function moved(){var position1=position(parent,dragId),dx,dy;if(!position1)return;dx=position1[0]-position0[0];dy=position1[1]-position0[1];dragged|=dx|dy;position0=position1;dispatch({type:"drag",x:position1[0]+dragOffset[0],y:position1[1]+dragOffset[1],dx:dx,dy:dy})}function ended(){if(!position(parent,dragId))return;dragSubject.on(move+dragName,null).on(end+dragName,null);dragRestore(dragged&&d3.event.target===target);dispatch({type:"dragend"})}}}drag.origin=function(x){if(!arguments.length)return origin;origin=x;return drag};return d3.rebind(drag,event,"on")};function d3_behavior_dragTouchId(){return d3.event.changedTouches[0].identifier}function d3_behavior_dragTouchSubject(){return d3.event.target}function d3_behavior_dragMouseSubject(){return d3_window}d3.touches=function(container,touches){if(arguments.length<2)touches=d3_eventSource().touches;return touches?d3_array(touches).map(function(touch){var point=d3_mousePoint(container,touch);point.identifier=touch.identifier;return point}):[]};var π=Math.PI,τ=2*π,halfπ=π/2,ε=1e-6,ε2=ε*ε,d3_radians=π/180,d3_degrees=180/π;function d3_sgn(x){return x>0?1:x<0?-1:0}function d3_cross2d(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function d3_acos(x){return x>1?0:x<-1?π:Math.acos(x)}function d3_asin(x){return x>1?halfπ:x<-1?-halfπ:Math.asin(x)}function d3_sinh(x){return((x=Math.exp(x))-1/x)/2}function d3_cosh(x){return((x=Math.exp(x))+1/x)/2}function d3_tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}function d3_haversin(x){return(x=Math.sin(x/2))*x}var ρ=Math.SQRT2,ρ2=2,ρ4=4;d3.interpolateZoom=function(p0,p1){var ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2];var dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy,d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+ρ4*d2)/(2*w0*ρ2*d1),b1=(w1*w1-w0*w0-ρ4*d2)/(2*w1*ρ2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1),dr=r1-r0,S=(dr||Math.log(w1/w0))/ρ;function interpolate(t){var s=t*S;if(dr){var coshr0=d3_cosh(r0),u=w0/(ρ2*d1)*(coshr0*d3_tanh(ρ*s+r0)-d3_sinh(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/d3_cosh(ρ*s+r0)]}return[ux0+t*dx,uy0+t*dy,w0*Math.exp(ρ*s)]}interpolate.duration=S*1e3;return interpolate};d3.behavior.zoom=function(){var view={x:0,y:0,k:1},translate0,center0,center,size=[960,500],scaleExtent=d3_behavior_zoomInfinity,mousedown="mousedown.zoom",mousemove="mousemove.zoom",mouseup="mouseup.zoom",mousewheelTimer,touchstart="touchstart.zoom",touchtime,event=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend"),x0,x1,y0,y1;function zoom(g){g.on(mousedown,mousedowned).on(d3_behavior_zoomWheel+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(touchstart,touchstarted)}zoom.event=function(g){g.each(function(){var dispatch=event.of(this,arguments),view1=view;if(d3_transitionInheritId){d3.select(this).transition().each("start.zoom",function(){view=this.__chart__||{x:0,y:0,k:1};zoomstarted(dispatch)}).tween("zoom:zoom",function(){var dx=size[0],dy=size[1],cx=dx/2,cy=dy/2,i=d3.interpolateZoom([(cx-view.x)/view.k,(cy-view.y)/view.k,dx/view.k],[(cx-view1.x)/view1.k,(cy-view1.y)/view1.k,dx/view1.k]);return function(t){var l=i(t),k=dx/l[2];this.__chart__=view={x:cx-l[0]*k,y:cy-l[1]*k,k:k};zoomed(dispatch)}}).each("end.zoom",function(){zoomended(dispatch)})}else{this.__chart__=view;zoomstarted(dispatch);zoomed(dispatch);zoomended(dispatch)}})};zoom.translate=function(_){if(!arguments.length)return[view.x,view.y];view={x:+_[0],y:+_[1],k:view.k};rescale();return zoom};zoom.scale=function(_){if(!arguments.length)return view.k;view={x:view.x,y:view.y,k:+_};rescale();return zoom};zoom.scaleExtent=function(_){if(!arguments.length)return scaleExtent;scaleExtent=_==null?d3_behavior_zoomInfinity:[+_[0],+_[1]];return zoom};zoom.center=function(_){if(!arguments.length)return center;center=_&&[+_[0],+_[1]];return zoom};zoom.size=function(_){if(!arguments.length)return size;size=_&&[+_[0],+_[1]];return zoom};zoom.x=function(z){if(!arguments.length)return x1;x1=z;x0=z.copy();view={x:0,y:0,k:1};return zoom};zoom.y=function(z){if(!arguments.length)return y1;y1=z;y0=z.copy();view={x:0,y:0,k:1};return zoom};function location(p){return[(p[0]-view.x)/view.k,(p[1]-view.y)/view.k]}function point(l){return[l[0]*view.k+view.x,l[1]*view.k+view.y]}function scaleTo(s){view.k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],s))}function translateTo(p,l){l=point(l);view.x+=p[0]-l[0];view.y+=p[1]-l[1]}function rescale(){if(x1)x1.domain(x0.range().map(function(x){return(x-view.x)/view.k}).map(x0.invert));if(y1)y1.domain(y0.range().map(function(y){return(y-view.y)/view.k}).map(y0.invert))}function zoomstarted(dispatch){dispatch({type:"zoomstart"})}function zoomed(dispatch){rescale();dispatch({type:"zoom",scale:view.k,translate:[view.x,view.y]})}function zoomended(dispatch){dispatch({type:"zoomend"})}function mousedowned(){var that=this,target=d3.event.target,dispatch=event.of(that,arguments),dragged=0,subject=d3.select(d3_window).on(mousemove,moved).on(mouseup,ended),location0=location(d3.mouse(that)),dragRestore=d3_event_dragSuppress();d3_selection_interrupt.call(that);zoomstarted(dispatch);function moved(){dragged=1;translateTo(d3.mouse(that),location0);zoomed(dispatch)}function ended(){subject.on(mousemove,null).on(mouseup,null);dragRestore(dragged&&d3.event.target===target);zoomended(dispatch)}}function touchstarted(){var that=this,dispatch=event.of(that,arguments),locations0={},distance0=0,scale0,zoomName=".zoom-"+d3.event.changedTouches[0].identifier,touchmove="touchmove"+zoomName,touchend="touchend"+zoomName,targets=[],subject=d3.select(that),dragRestore=d3_event_dragSuppress();d3_selection_interrupt.call(that);started();zoomstarted(dispatch);subject.on(mousedown,null).on(touchstart,started);function relocate(){var touches=d3.touches(that);scale0=view.k;touches.forEach(function(t){if(t.identifier in locations0)locations0[t.identifier]=location(t)});return touches}function started(){var target=d3.event.target;d3.select(target).on(touchmove,moved).on(touchend,ended);targets.push(target);var changed=d3.event.changedTouches;for(var i=0,n=changed.length;i<n;++i){locations0[changed[i].identifier]=null}var touches=relocate(),now=Date.now();if(touches.length===1){if(now-touchtime<500){var p=touches[0],l=locations0[p.identifier];scaleTo(view.k*2);translateTo(p,l);d3_eventPreventDefault();zoomed(dispatch)}touchtime=now}else if(touches.length>1){var p=touches[0],q=touches[1],dx=p[0]-q[0],dy=p[1]-q[1];distance0=dx*dx+dy*dy}}function moved(){var touches=d3.touches(that),p0,l0,p1,l1;for(var i=0,n=touches.length;i<n;++i,l1=null){p1=touches[i];if(l1=locations0[p1.identifier]){if(l0)break;p0=p1,l0=l1}}if(l1){var distance1=(distance1=p1[0]-p0[0])*distance1+(distance1=p1[1]-p0[1])*distance1,scale1=distance0&&Math.sqrt(distance1/distance0);p0=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2];l0=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2];scaleTo(scale1*scale0)}touchtime=null;translateTo(p0,l0);zoomed(dispatch)}function ended(){if(d3.event.touches.length){var changed=d3.event.changedTouches;for(var i=0,n=changed.length;i<n;++i){delete locations0[changed[i].identifier]}for(var identifier in locations0){return void relocate()}}d3.selectAll(targets).on(zoomName,null);subject.on(mousedown,mousedowned).on(touchstart,touchstarted);dragRestore();
zoomended(dispatch)}}function mousewheeled(){var dispatch=event.of(this,arguments);if(mousewheelTimer)clearTimeout(mousewheelTimer);else translate0=location(center0=center||d3.mouse(this)),d3_selection_interrupt.call(this),zoomstarted(dispatch);mousewheelTimer=setTimeout(function(){mousewheelTimer=null;zoomended(dispatch)},50);d3_eventPreventDefault();scaleTo(Math.pow(2,d3_behavior_zoomDelta()*.002)*view.k);translateTo(center0,translate0);zoomed(dispatch)}function dblclicked(){var dispatch=event.of(this,arguments),p=d3.mouse(this),l=location(p),k=Math.log(view.k)/Math.LN2;zoomstarted(dispatch);scaleTo(Math.pow(2,d3.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1));translateTo(p,l);zoomed(dispatch);zoomended(dispatch)}return d3.rebind(zoom,event,"on")};var d3_behavior_zoomInfinity=[0,Infinity];var d3_behavior_zoomDelta,d3_behavior_zoomWheel="onwheel"in d3_document?(d3_behavior_zoomDelta=function(){return-d3.event.deltaY*(d3.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d3_document?(d3_behavior_zoomDelta=function(){return d3.event.wheelDelta},"mousewheel"):(d3_behavior_zoomDelta=function(){return-d3.event.detail},"MozMousePixelScroll");d3.color=d3_color;function d3_color(){}d3_color.prototype.toString=function(){return this.rgb()+""};d3.hsl=d3_hsl;function d3_hsl(h,s,l){return this instanceof d3_hsl?void(this.h=+h,this.s=+s,this.l=+l):arguments.length<2?h instanceof d3_hsl?new d3_hsl(h.h,h.s,h.l):d3_rgb_parse(""+h,d3_rgb_hsl,d3_hsl):new d3_hsl(h,s,l)}var d3_hslPrototype=d3_hsl.prototype=new d3_color;d3_hslPrototype.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);return new d3_hsl(this.h,this.s,this.l/k)};d3_hslPrototype.darker=function(k){k=Math.pow(.7,arguments.length?k:1);return new d3_hsl(this.h,this.s,k*this.l)};d3_hslPrototype.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)};function d3_hsl_rgb(h,s,l){var m1,m2;h=isNaN(h)?0:(h%=360)<0?h+360:h;s=isNaN(s)?0:s<0?0:s>1?1:s;l=l<0?0:l>1?1:l;m2=l<=.5?l*(1+s):l+s-l*s;m1=2*l-m2;function v(h){if(h>360)h-=360;else if(h<0)h+=360;if(h<60)return m1+(m2-m1)*h/60;if(h<180)return m2;if(h<240)return m1+(m2-m1)*(240-h)/60;return m1}function vv(h){return Math.round(v(h)*255)}return new d3_rgb(vv(h+120),vv(h),vv(h-120))}d3.hcl=d3_hcl;function d3_hcl(h,c,l){return this instanceof d3_hcl?void(this.h=+h,this.c=+c,this.l=+l):arguments.length<2?h instanceof d3_hcl?new d3_hcl(h.h,h.c,h.l):h instanceof d3_lab?d3_lab_hcl(h.l,h.a,h.b):d3_lab_hcl((h=d3_rgb_lab((h=d3.rgb(h)).r,h.g,h.b)).l,h.a,h.b):new d3_hcl(h,c,l)}var d3_hclPrototype=d3_hcl.prototype=new d3_color;d3_hclPrototype.brighter=function(k){return new d3_hcl(this.h,this.c,Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)))};d3_hclPrototype.darker=function(k){return new d3_hcl(this.h,this.c,Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)))};d3_hclPrototype.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()};function d3_hcl_lab(h,c,l){if(isNaN(h))h=0;if(isNaN(c))c=0;return new d3_lab(l,Math.cos(h*=d3_radians)*c,Math.sin(h)*c)}d3.lab=d3_lab;function d3_lab(l,a,b){return this instanceof d3_lab?void(this.l=+l,this.a=+a,this.b=+b):arguments.length<2?l instanceof d3_lab?new d3_lab(l.l,l.a,l.b):l instanceof d3_hcl?d3_hcl_lab(l.h,l.c,l.l):d3_rgb_lab((l=d3_rgb(l)).r,l.g,l.b):new d3_lab(l,a,b)}var d3_lab_K=18;var d3_lab_X=.95047,d3_lab_Y=1,d3_lab_Z=1.08883;var d3_labPrototype=d3_lab.prototype=new d3_color;d3_labPrototype.brighter=function(k){return new d3_lab(Math.min(100,this.l+d3_lab_K*(arguments.length?k:1)),this.a,this.b)};d3_labPrototype.darker=function(k){return new d3_lab(Math.max(0,this.l-d3_lab_K*(arguments.length?k:1)),this.a,this.b)};d3_labPrototype.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)};function d3_lab_rgb(l,a,b){var y=(l+16)/116,x=y+a/500,z=y-b/200;x=d3_lab_xyz(x)*d3_lab_X;y=d3_lab_xyz(y)*d3_lab_Y;z=d3_lab_xyz(z)*d3_lab_Z;return new d3_rgb(d3_xyz_rgb(3.2404542*x-1.5371385*y-.4985314*z),d3_xyz_rgb(-.969266*x+1.8760108*y+.041556*z),d3_xyz_rgb(.0556434*x-.2040259*y+1.0572252*z))}function d3_lab_hcl(l,a,b){return l>0?new d3_hcl(Math.atan2(b,a)*d3_degrees,Math.sqrt(a*a+b*b),l):new d3_hcl(NaN,NaN,l)}function d3_lab_xyz(x){return x>.206893034?x*x*x:(x-4/29)/7.787037}function d3_xyz_lab(x){return x>.008856?Math.pow(x,1/3):7.787037*x+4/29}function d3_xyz_rgb(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055))}d3.rgb=d3_rgb;function d3_rgb(r,g,b){return this instanceof d3_rgb?void(this.r=~~r,this.g=~~g,this.b=~~b):arguments.length<2?r instanceof d3_rgb?new d3_rgb(r.r,r.g,r.b):d3_rgb_parse(""+r,d3_rgb,d3_hsl_rgb):new d3_rgb(r,g,b)}function d3_rgbNumber(value){return new d3_rgb(value>>16,value>>8&255,value&255)}function d3_rgbString(value){return d3_rgbNumber(value)+""}var d3_rgbPrototype=d3_rgb.prototype=new d3_color;d3_rgbPrototype.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var r=this.r,g=this.g,b=this.b,i=30;if(!r&&!g&&!b)return new d3_rgb(i,i,i);if(r&&r<i)r=i;if(g&&g<i)g=i;if(b&&b<i)b=i;return new d3_rgb(Math.min(255,r/k),Math.min(255,g/k),Math.min(255,b/k))};d3_rgbPrototype.darker=function(k){k=Math.pow(.7,arguments.length?k:1);return new d3_rgb(k*this.r,k*this.g,k*this.b)};d3_rgbPrototype.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)};d3_rgbPrototype.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};function d3_rgb_hex(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16)}function d3_rgb_parse(format,rgb,hsl){var r=0,g=0,b=0,m1,m2,color;m1=/([a-z]+)\((.*)\)/i.exec(format);if(m1){m2=m1[2].split(",");switch(m1[1]){case"hsl":{return hsl(parseFloat(m2[0]),parseFloat(m2[1])/100,parseFloat(m2[2])/100)}case"rgb":{return rgb(d3_rgb_parseNumber(m2[0]),d3_rgb_parseNumber(m2[1]),d3_rgb_parseNumber(m2[2]))}}}if(color=d3_rgb_names.get(format))return rgb(color.r,color.g,color.b);if(format!=null&&format.charAt(0)==="#"&&!isNaN(color=parseInt(format.slice(1),16))){if(format.length===4){r=(color&3840)>>4;r=r>>4|r;g=color&240;g=g>>4|g;b=color&15;b=b<<4|b}else if(format.length===7){r=(color&16711680)>>16;g=(color&65280)>>8;b=color&255}}return rgb(r,g,b)}function d3_rgb_hsl(r,g,b){var min=Math.min(r/=255,g/=255,b/=255),max=Math.max(r,g,b),d=max-min,h,s,l=(max+min)/2;if(d){s=l<.5?d/(max+min):d/(2-max-min);if(r==max)h=(g-b)/d+(g<b?6:0);else if(g==max)h=(b-r)/d+2;else h=(r-g)/d+4;h*=60}else{h=NaN;s=l>0&&l<1?0:h}return new d3_hsl(h,s,l)}function d3_rgb_lab(r,g,b){r=d3_rgb_xyz(r);g=d3_rgb_xyz(g);b=d3_rgb_xyz(b);var x=d3_xyz_lab((.4124564*r+.3575761*g+.1804375*b)/d3_lab_X),y=d3_xyz_lab((.2126729*r+.7151522*g+.072175*b)/d3_lab_Y),z=d3_xyz_lab((.0193339*r+.119192*g+.9503041*b)/d3_lab_Z);return d3_lab(116*y-16,500*(x-y),200*(y-z))}function d3_rgb_xyz(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function d3_rgb_parseNumber(c){var f=parseFloat(c);return c.charAt(c.length-1)==="%"?Math.round(f*2.55):f}var d3_rgb_names=d3.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});d3_rgb_names.forEach(function(key,value){d3_rgb_names.set(key,d3_rgbNumber(value))});function d3_functor(v){return typeof v==="function"?v:function(){return v}}d3.functor=d3_functor;function d3_identity(d){return d}d3.xhr=d3_xhrType(d3_identity);function d3_xhrType(response){return function(url,mimeType,callback){if(arguments.length===2&&typeof mimeType==="function")callback=mimeType,mimeType=null;return d3_xhr(url,mimeType,response,callback)}}function d3_xhr(url,mimeType,response,callback){var xhr={},dispatch=d3.dispatch("beforesend","progress","load","error"),headers={},request=new XMLHttpRequest,responseType=null;if(d3_window.XDomainRequest&&!("withCredentials"in request)&&/^(http(s)?:)?\/\//.test(url))request=new XDomainRequest;"onload"in request?request.onload=request.onerror=respond:request.onreadystatechange=function(){request.readyState>3&&respond()};function respond(){var status=request.status,result;if(!status&&d3_xhrHasResponse(request)||status>=200&&status<300||status===304){try{result=response.call(xhr,request)}catch(e){dispatch.error.call(xhr,e);return}dispatch.load.call(xhr,result)}else{dispatch.error.call(xhr,request)}}request.onprogress=function(event){var o=d3.event;d3.event=event;try{dispatch.progress.call(xhr,request)}finally{d3.event=o}};xhr.header=function(name,value){name=(name+"").toLowerCase();if(arguments.length<2)return headers[name];if(value==null)delete headers[name];else headers[name]=value+"";return xhr};xhr.mimeType=function(value){if(!arguments.length)return mimeType;mimeType=value==null?null:value+"";return xhr};xhr.responseType=function(value){if(!arguments.length)return responseType;responseType=value;return xhr};xhr.response=function(value){response=value;return xhr};["get","post"].forEach(function(method){xhr[method]=function(){return xhr.send.apply(xhr,[method].concat(d3_array(arguments)))}});xhr.send=function(method,data,callback){if(arguments.length===2&&typeof data==="function")callback=data,data=null;request.open(method,url,true);if(mimeType!=null&&!("accept"in headers))headers["accept"]=mimeType+",*/*";if(request.setRequestHeader)for(var name in headers)request.setRequestHeader(name,headers[name]);if(mimeType!=null&&request.overrideMimeType)request.overrideMimeType(mimeType);if(responseType!=null)request.responseType=responseType;if(callback!=null)xhr.on("error",callback).on("load",function(request){callback(null,request)});dispatch.beforesend.call(xhr,request);request.send(data==null?null:data);return xhr};xhr.abort=function(){request.abort();return xhr};d3.rebind(xhr,dispatch,"on");return callback==null?xhr:xhr.get(d3_xhr_fixCallback(callback))}function d3_xhr_fixCallback(callback){return callback.length===1?function(error,request){callback(error==null?request:null)}:callback}function d3_xhrHasResponse(request){var type=request.responseType;return type&&type!=="text"?request.response:request.responseText}d3.dsv=function(delimiter,mimeType){var reFormat=new RegExp('["'+delimiter+"\n]"),delimiterCode=delimiter.charCodeAt(0);function dsv(url,row,callback){if(arguments.length<3)callback=row,row=null;var xhr=d3_xhr(url,mimeType,row==null?response:typedResponse(row),callback);xhr.row=function(_){return arguments.length?xhr.response((row=_)==null?response:typedResponse(_)):row};return xhr}function response(request){return dsv.parse(request.responseText)}function typedResponse(f){return function(request){return dsv.parse(request.responseText,f)}}dsv.parse=function(text,f){var o;return dsv.parseRows(text,function(row,i){if(o)return o(row,i-1);var a=new Function("d","return {"+row.map(function(name,i){return JSON.stringify(name)+": d["+i+"]"}).join(",")+"}");o=f?function(row,i){return f(a(row),i)}:a})};dsv.parseRows=function(text,f){var EOL={},EOF={},rows=[],N=text.length,I=0,n=0,t,eol;function token(){if(I>=N)return EOF;if(eol)return eol=false,EOL;var j=I;if(text.charCodeAt(j)===34){var i=j;while(i++<N){if(text.charCodeAt(i)===34){if(text.charCodeAt(i+1)!==34)break;++i}}I=i+2;var c=text.charCodeAt(i+1);if(c===13){eol=true;if(text.charCodeAt(i+2)===10)++I}else if(c===10){eol=true}return text.slice(j+1,i).replace(/""/g,'"')}while(I<N){var c=text.charCodeAt(I++),k=1;if(c===10)eol=true;else if(c===13){eol=true;if(text.charCodeAt(I)===10)++I,++k}else if(c!==delimiterCode)continue;return text.slice(j,I-k)}return text.slice(j)}while((t=token())!==EOF){var a=[];while(t!==EOL&&t!==EOF){a.push(t);t=token()}if(f&&(a=f(a,n++))==null)continue;rows.push(a)}return rows};dsv.format=function(rows){if(Array.isArray(rows[0]))return dsv.formatRows(rows);var fieldSet=new d3_Set,fields=[];rows.forEach(function(row){for(var field in row){if(!fieldSet.has(field)){fields.push(fieldSet.add(field))}}});return[fields.map(formatValue).join(delimiter)].concat(rows.map(function(row){return fields.map(function(field){return formatValue(row[field])}).join(delimiter)})).join("\n")};dsv.formatRows=function(rows){return rows.map(formatRow).join("\n")};function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(text){return reFormat.test(text)?'"'+text.replace(/\"/g,'""')+'"':text}return dsv};d3.csv=d3.dsv(",","text/csv");d3.tsv=d3.dsv("	","text/tab-separated-values");var d3_timer_queueHead,d3_timer_queueTail,d3_timer_interval,d3_timer_timeout,d3_timer_active,d3_timer_frame=d3_window[d3_vendorSymbol(d3_window,"requestAnimationFrame")]||function(callback){setTimeout(callback,17)};d3.timer=function(callback,delay,then){var n=arguments.length;if(n<2)delay=0;if(n<3)then=Date.now();var time=then+delay,timer={c:callback,t:time,f:false,n:null};if(d3_timer_queueTail)d3_timer_queueTail.n=timer;else d3_timer_queueHead=timer;d3_timer_queueTail=timer;if(!d3_timer_interval){d3_timer_timeout=clearTimeout(d3_timer_timeout);d3_timer_interval=1;d3_timer_frame(d3_timer_step)}};function d3_timer_step(){var now=d3_timer_mark(),delay=d3_timer_sweep()-now;if(delay>24){if(isFinite(delay)){clearTimeout(d3_timer_timeout);d3_timer_timeout=setTimeout(d3_timer_step,delay)}d3_timer_interval=0}else{d3_timer_interval=1;d3_timer_frame(d3_timer_step)}}d3.timer.flush=function(){d3_timer_mark();d3_timer_sweep()};function d3_timer_mark(){var now=Date.now();d3_timer_active=d3_timer_queueHead;while(d3_timer_active){if(now>=d3_timer_active.t)d3_timer_active.f=d3_timer_active.c(now-d3_timer_active.t);d3_timer_active=d3_timer_active.n}return now}function d3_timer_sweep(){var t0,t1=d3_timer_queueHead,time=Infinity;while(t1){if(t1.f){t1=t0?t0.n=t1.n:d3_timer_queueHead=t1.n}else{if(t1.t<time)time=t1.t;t1=(t0=t1).n}}d3_timer_queueTail=t0;return time}function d3_format_precision(x,p){return p-(x?Math.ceil(Math.log(x)/Math.LN10):1)}d3.round=function(x,n){return n?Math.round(x*(n=Math.pow(10,n)))/n:Math.round(x)};var d3_formatPrefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);d3.formatPrefix=function(value,precision){var i=0;if(value){if(value<0)value*=-1;if(precision)value=d3.round(value,d3_format_precision(value,precision));i=1+Math.floor(1e-12+Math.log(value)/Math.LN10);i=Math.max(-24,Math.min(24,Math.floor((i-1)/3)*3))}return d3_formatPrefixes[8+i/3]};function d3_formatPrefix(d,i){var k=Math.pow(10,abs(8-i)*3);return{scale:i>8?function(d){return d/k}:function(d){return d*k},symbol:d}}function d3_locale_numberFormat(locale){var locale_decimal=locale.decimal,locale_thousands=locale.thousands,locale_grouping=locale.grouping,locale_currency=locale.currency,formatGroup=locale_grouping&&locale_thousands?function(value,width){var i=value.length,t=[],j=0,g=locale_grouping[0],length=0;while(i>0&&g>0){if(length+g+1>width)g=Math.max(1,width-length);t.push(value.substring(i-=g,i+g));if((length+=g+1)>width)break;g=locale_grouping[j=(j+1)%locale_grouping.length]}return t.reverse().join(locale_thousands)}:d3_identity;return function(specifier){var match=d3_format_re.exec(specifier),fill=match[1]||" ",align=match[2]||">",sign=match[3]||"-",symbol=match[4]||"",zfill=match[5],width=+match[6],comma=match[7],precision=match[8],type=match[9],scale=1,prefix="",suffix="",integer=false,exponent=true;if(precision)precision=+precision.substring(1);if(zfill||fill==="0"&&align==="="){zfill=fill="0";align="="}switch(type){case"n":comma=true;type="g";break;case"%":scale=100;suffix="%";type="f";break;case"p":scale=100;suffix="%";type="r";break;case"b":case"o":case"x":case"X":if(symbol==="#")prefix="0"+type.toLowerCase();case"c":exponent=false;case"d":integer=true;precision=0;break;case"s":scale=-1;type="r";break}if(symbol==="$")prefix=locale_currency[0],suffix=locale_currency[1];if(type=="r"&&!precision)type="g";if(precision!=null){if(type=="g")precision=Math.max(1,Math.min(21,precision));else if(type=="e"||type=="f")precision=Math.max(0,Math.min(20,precision))}type=d3_format_types.get(type)||d3_format_typeDefault;var zcomma=zfill&&comma;return function(value){var fullSuffix=suffix;if(integer&&value%1)return"";var negative=value<0||value===0&&1/value<0?(value=-value,"-"):sign==="-"?"":sign;if(scale<0){var unit=d3.formatPrefix(value,precision);value=unit.scale(value);fullSuffix=unit.symbol+suffix}else{value*=scale}value=type(value,precision);var i=value.lastIndexOf("."),before,after;if(i<0){var j=exponent?value.lastIndexOf("e"):-1;if(j<0)before=value,after="";else before=value.substring(0,j),after=value.substring(j)}else{before=value.substring(0,i);after=locale_decimal+value.substring(i+1)}if(!zfill&&comma)before=formatGroup(before,Infinity);var length=prefix.length+before.length+after.length+(zcomma?0:negative.length),padding=length<width?new Array(length=width-length+1).join(fill):"";if(zcomma)before=formatGroup(padding+before,padding.length?width-after.length:Infinity);negative+=prefix;value=before+after;return(align==="<"?negative+value+padding:align===">"?padding+negative+value:align==="^"?padding.substring(0,length>>=1)+negative+value+padding.substring(length):negative+(zcomma?value:padding+value))+fullSuffix}}}var d3_format_re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var d3_format_types=d3.map({b:function(x){return x.toString(2)},c:function(x){return String.fromCharCode(x)},o:function(x){return x.toString(8)},x:function(x){return x.toString(16)},X:function(x){return x.toString(16).toUpperCase()},g:function(x,p){return x.toPrecision(p)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},r:function(x,p){return(x=d3.round(x,d3_format_precision(x,p))).toFixed(Math.max(0,Math.min(20,d3_format_precision(x*(1+1e-15),p))))}});function d3_format_typeDefault(x){return x+""}var d3_time=d3.time={},d3_date=Date;function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){d3_time_prototype.setUTCDate.apply(this._,arguments)},setDay:function(){d3_time_prototype.setUTCDay.apply(this._,arguments)},setFullYear:function(){d3_time_prototype.setUTCFullYear.apply(this._,arguments)},setHours:function(){d3_time_prototype.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){d3_time_prototype.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){d3_time_prototype.setUTCMinutes.apply(this._,arguments)},setMonth:function(){d3_time_prototype.setUTCMonth.apply(this._,arguments)},setSeconds:function(){d3_time_prototype.setUTCSeconds.apply(this._,arguments)},setTime:function(){d3_time_prototype.setTime.apply(this._,arguments)}};var d3_time_prototype=Date.prototype;function d3_time_interval(local,step,number){function round(date){var d0=local(date),d1=offset(d0,1);return date-d0<d1-date?d0:d1}function ceil(date){step(date=local(new d3_date(date-1)),1);return date}function offset(date,k){step(date=new d3_date(+date),k);return date}function range(t0,t1,dt){var time=ceil(t0),times=[];if(dt>1){while(time<t1){if(!(number(time)%dt))times.push(new Date(+time));step(time,1)}}else{while(time<t1)times.push(new Date(+time)),step(time,1)}return times}function range_utc(t0,t1,dt){try{d3_date=d3_date_utc;var utc=new d3_date_utc;utc._=t0;return range(utc,t1,dt)}finally{d3_date=Date}}local.floor=local;local.round=round;local.ceil=ceil;local.offset=offset;local.range=range;var utc=local.utc=d3_time_interval_utc(local);utc.floor=utc;utc.round=d3_time_interval_utc(round);utc.ceil=d3_time_interval_utc(ceil);utc.offset=d3_time_interval_utc(offset);utc.range=range_utc;return local}function d3_time_interval_utc(method){return function(date,k){try{d3_date=d3_date_utc;var utc=new d3_date_utc;utc._=date;return method(utc,k)._}finally{d3_date=Date}}}d3_time.year=d3_time_interval(function(date){date=d3_time.day(date);date.setMonth(0,1);return date},function(date,offset){date.setFullYear(date.getFullYear()+offset)},function(date){return date.getFullYear()});d3_time.years=d3_time.year.range;d3_time.years.utc=d3_time.year.utc.range;d3_time.day=d3_time_interval(function(date){var day=new d3_date(2e3,0);day.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());return day},function(date,offset){date.setDate(date.getDate()+offset)},function(date){return date.getDate()-1});d3_time.days=d3_time.day.range;d3_time.days.utc=d3_time.day.utc.range;d3_time.dayOfYear=function(date){var year=d3_time.year(date);return Math.floor((date-year-(date.getTimezoneOffset()-year.getTimezoneOffset())*6e4)/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(day,i){i=7-i;var interval=d3_time[day]=d3_time_interval(function(date){(date=d3_time.day(date)).setDate(date.getDate()-(date.getDay()+i)%7);return date},function(date,offset){date.setDate(date.getDate()+Math.floor(offset)*7)},function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)-(day!==i)});d3_time[day+"s"]=interval.range;d3_time[day+"s"].utc=interval.utc.range;d3_time[day+"OfYear"]=function(date){var day=d3_time.year(date).getDay();return Math.floor((d3_time.dayOfYear(date)+(day+i)%7)/7)}});d3_time.week=d3_time.sunday;d3_time.weeks=d3_time.sunday.range;d3_time.weeks.utc=d3_time.sunday.utc.range;d3_time.weekOfYear=d3_time.sundayOfYear;function d3_locale_timeFormat(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_days=locale.days,locale_shortDays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths;function d3_time_format(template){var n=template.length;function format(date){var string=[],i=-1,j=0,c,p,f;while(++i<n){if(template.charCodeAt(i)===37){string.push(template.slice(j,i));if((p=d3_time_formatPads[c=template.charAt(++i)])!=null)c=template.charAt(++i);if(f=d3_time_formats[c])c=f(date,p==null?c==="e"?" ":"0":p);string.push(c);j=i+1}}string.push(template.slice(j,i));return string.join("")}format.parse=function(string){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=d3_time_parse(d,template,string,0);if(i!=string.length)return null;if("p"in d)d.H=d.H%12+d.p*12;var localZ=d.Z!=null&&d3_date!==d3_date_utc,date=new(localZ?d3_date_utc:d3_date);if("j"in d)date.setFullYear(d.y,0,d.j);else if("w"in d&&("W"in d||"U"in d)){date.setFullYear(d.y,0,1);date.setFullYear(d.y,0,"W"in d?(d.w+6)%7+d.W*7-(date.getDay()+5)%7:d.w+d.U*7-(date.getDay()+6)%7)}else date.setFullYear(d.y,d.m,d.d);date.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L);return localZ?date._:date};format.toString=function(){return template};return format}function d3_time_parse(date,template,string,j){var c,p,t,i=0,n=template.length,m=string.length;while(i<n){if(j>=m)return-1;c=template.charCodeAt(i++);if(c===37){t=template.charAt(i++);p=d3_time_parsers[t in d3_time_formatPads?template.charAt(i++):t];if(!p||(j=p(date,string,j))<0)return-1}else if(c!=string.charCodeAt(j++)){return-1}}return j}d3_time_format.utc=function(template){var local=d3_time_format(template);function format(date){try{d3_date=d3_date_utc;var utc=new d3_date;utc._=date;return local(utc)}finally{d3_date=Date}}format.parse=function(string){try{d3_date=d3_date_utc;var date=local.parse(string);return date&&date._}finally{d3_date=Date}};format.toString=local.toString;return format};d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var d3_time_periodLookup=d3.map(),d3_time_dayRe=d3_time_formatRe(locale_days),d3_time_dayLookup=d3_time_formatLookup(locale_days),d3_time_dayAbbrevRe=d3_time_formatRe(locale_shortDays),d3_time_dayAbbrevLookup=d3_time_formatLookup(locale_shortDays),d3_time_monthRe=d3_time_formatRe(locale_months),d3_time_monthLookup=d3_time_formatLookup(locale_months),d3_time_monthAbbrevRe=d3_time_formatRe(locale_shortMonths),d3_time_monthAbbrevLookup=d3_time_formatLookup(locale_shortMonths);locale_periods.forEach(function(p,i){d3_time_periodLookup.set(p.toLowerCase(),i)});var d3_time_formats={a:function(d){return locale_shortDays[d.getDay()]},A:function(d){return locale_days[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},c:d3_time_format(locale_dateTime),d:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},e:function(d,p){return d3_time_formatPad(d.getDate(),p,2)},H:function(d,p){return d3_time_formatPad(d.getHours(),p,2)},I:function(d,p){return d3_time_formatPad(d.getHours()%12||12,p,2)},j:function(d,p){return d3_time_formatPad(1+d3_time.dayOfYear(d),p,3)},L:function(d,p){return d3_time_formatPad(d.getMilliseconds(),p,3)},m:function(d,p){return d3_time_formatPad(d.getMonth()+1,p,2)},M:function(d,p){return d3_time_formatPad(d.getMinutes(),p,2)},p:function(d){return locale_periods[+(d.getHours()>=12)]},S:function(d,p){return d3_time_formatPad(d.getSeconds(),p,2)},U:function(d,p){return d3_time_formatPad(d3_time.sundayOfYear(d),p,2)},w:function(d){return d.getDay()},W:function(d,p){return d3_time_formatPad(d3_time.mondayOfYear(d),p,2)},x:d3_time_format(locale_date),X:d3_time_format(locale_time),y:function(d,p){return d3_time_formatPad(d.getFullYear()%100,p,2)},Y:function(d,p){return d3_time_formatPad(d.getFullYear()%1e4,p,4)},Z:d3_time_zone,"%":function(){return"%"}};var d3_time_parsers={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};function d3_time_parseWeekdayAbbrev(date,string,i){d3_time_dayAbbrevRe.lastIndex=0;var n=d3_time_dayAbbrevRe.exec(string.slice(i));return n?(date.w=d3_time_dayAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseWeekday(date,string,i){d3_time_dayRe.lastIndex=0;var n=d3_time_dayRe.exec(string.slice(i));return n?(date.w=d3_time_dayLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonthAbbrev(date,string,i){d3_time_monthAbbrevRe.lastIndex=0;var n=d3_time_monthAbbrevRe.exec(string.slice(i));return n?(date.m=d3_time_monthAbbrevLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseMonth(date,string,i){d3_time_monthRe.lastIndex=0;var n=d3_time_monthRe.exec(string.slice(i));return n?(date.m=d3_time_monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1}function d3_time_parseLocaleFull(date,string,i){return d3_time_parse(date,d3_time_formats.c.toString(),string,i)}function d3_time_parseLocaleDate(date,string,i){return d3_time_parse(date,d3_time_formats.x.toString(),string,i)}function d3_time_parseLocaleTime(date,string,i){return d3_time_parse(date,d3_time_formats.X.toString(),string,i)}function d3_time_parseAmPm(date,string,i){var n=d3_time_periodLookup.get(string.slice(i,i+=2).toLowerCase());return n==null?-1:(date.p=n,i)}return d3_time_format}var d3_time_formatPads={"-":"",_:" ",0:"0"},d3_time_numberRe=/^\s*\d+/,d3_time_percentRe=/^%/;function d3_time_formatPad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function d3_time_formatRe(names){return new RegExp("^(?:"+names.map(d3.requote).join("|")+")","i")}function d3_time_formatLookup(names){var map=new d3_Map,i=-1,n=names.length;while(++i<n)map.set(names[i].toLowerCase(),i);return map}function d3_time_parseWeekdayNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+1));return n?(date.w=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberSunday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.U=+n[0],i+n[0].length):-1}function d3_time_parseWeekNumberMonday(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i));return n?(date.W=+n[0],i+n[0].length):-1}function d3_time_parseFullYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+4));return n?(date.y=+n[0],i+n[0].length):-1}function d3_time_parseYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.y=d3_time_expandYear(+n[0]),i+n[0].length):-1}function d3_time_parseZone(date,string,i){return/^[+-]\d{4}$/.test(string=string.slice(i,i+5))?(date.Z=-string,i+5):-1}function d3_time_expandYear(d){return d+(d>68?1900:2e3)}function d3_time_parseMonthNumber(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.m=n[0]-1,i+n[0].length):-1}function d3_time_parseDay(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.d=+n[0],i+n[0].length):-1}function d3_time_parseDayOfYear(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));
return n?(date.j=+n[0],i+n[0].length):-1}function d3_time_parseHour24(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.H=+n[0],i+n[0].length):-1}function d3_time_parseMinutes(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.M=+n[0],i+n[0].length):-1}function d3_time_parseSeconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+2));return n?(date.S=+n[0],i+n[0].length):-1}function d3_time_parseMilliseconds(date,string,i){d3_time_numberRe.lastIndex=0;var n=d3_time_numberRe.exec(string.slice(i,i+3));return n?(date.L=+n[0],i+n[0].length):-1}function d3_time_zone(d){var z=d.getTimezoneOffset(),zs=z>0?"-":"+",zh=abs(z)/60|0,zm=abs(z)%60;return zs+d3_time_formatPad(zh,"0",2)+d3_time_formatPad(zm,"0",2)}function d3_time_parseLiteralPercent(date,string,i){d3_time_percentRe.lastIndex=0;var n=d3_time_percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function d3_time_formatMulti(formats){var n=formats.length,i=-1;while(++i<n)formats[i][0]=this(formats[i][0]);return function(date){var i=0,f=formats[i];while(!f[1](date))f=formats[++i];return f[0](date)}}d3.locale=function(locale){return{numberFormat:d3_locale_numberFormat(locale),timeFormat:d3_locale_timeFormat(locale)}};var d3_locale_enUS=d3.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});d3.format=d3_locale_enUS.numberFormat;d3.geo={};function d3_adder(){}d3_adder.prototype={s:0,t:0,add:function(y){d3_adderSum(y,this.t,d3_adderTemp);d3_adderSum(d3_adderTemp.s,this.s,this);if(this.s)this.t+=d3_adderTemp.t;else this.s=d3_adderTemp.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var d3_adderTemp=new d3_adder;function d3_adderSum(a,b,o){var x=o.s=a+b,bv=x-a,av=x-bv;o.t=a-av+(b-bv)}d3.geo.stream=function(object,listener){if(object&&d3_geo_streamObjectType.hasOwnProperty(object.type)){d3_geo_streamObjectType[object.type](object,listener)}else{d3_geo_streamGeometry(object,listener)}};function d3_geo_streamGeometry(geometry,listener){if(geometry&&d3_geo_streamGeometryType.hasOwnProperty(geometry.type)){d3_geo_streamGeometryType[geometry.type](geometry,listener)}}var d3_geo_streamObjectType={Feature:function(feature,listener){d3_geo_streamGeometry(feature.geometry,listener)},FeatureCollection:function(object,listener){var features=object.features,i=-1,n=features.length;while(++i<n)d3_geo_streamGeometry(features[i].geometry,listener)}};var d3_geo_streamGeometryType={Sphere:function(object,listener){listener.sphere()},Point:function(object,listener){object=object.coordinates;listener.point(object[0],object[1],object[2])},MultiPoint:function(object,listener){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)object=coordinates[i],listener.point(object[0],object[1],object[2])},LineString:function(object,listener){d3_geo_streamLine(object.coordinates,listener,0)},MultiLineString:function(object,listener){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)d3_geo_streamLine(coordinates[i],listener,0)},Polygon:function(object,listener){d3_geo_streamPolygon(object.coordinates,listener)},MultiPolygon:function(object,listener){var coordinates=object.coordinates,i=-1,n=coordinates.length;while(++i<n)d3_geo_streamPolygon(coordinates[i],listener)},GeometryCollection:function(object,listener){var geometries=object.geometries,i=-1,n=geometries.length;while(++i<n)d3_geo_streamGeometry(geometries[i],listener)}};function d3_geo_streamLine(coordinates,listener,closed){var i=-1,n=coordinates.length-closed,coordinate;listener.lineStart();while(++i<n)coordinate=coordinates[i],listener.point(coordinate[0],coordinate[1],coordinate[2]);listener.lineEnd()}function d3_geo_streamPolygon(coordinates,listener){var i=-1,n=coordinates.length;listener.polygonStart();while(++i<n)d3_geo_streamLine(coordinates[i],listener,1);listener.polygonEnd()}d3.geo.area=function(object){d3_geo_areaSum=0;d3.geo.stream(object,d3_geo_area);return d3_geo_areaSum};var d3_geo_areaSum,d3_geo_areaRingSum=new d3_adder;var d3_geo_area={sphere:function(){d3_geo_areaSum+=4*π},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_areaRingSum.reset();d3_geo_area.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var area=2*d3_geo_areaRingSum;d3_geo_areaSum+=area<0?4*π+area:area;d3_geo_area.lineStart=d3_geo_area.lineEnd=d3_geo_area.point=d3_noop}};function d3_geo_areaRingStart(){var λ00,φ00,λ0,cosφ0,sinφ0;d3_geo_area.point=function(λ,φ){d3_geo_area.point=nextPoint;λ0=(λ00=λ)*d3_radians,cosφ0=Math.cos(φ=(φ00=φ)*d3_radians/2+π/4),sinφ0=Math.sin(φ)};function nextPoint(λ,φ){λ*=d3_radians;φ=φ*d3_radians/2+π/4;var dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,cosφ=Math.cos(φ),sinφ=Math.sin(φ),k=sinφ0*sinφ,u=cosφ0*cosφ+k*Math.cos(adλ),v=k*sdλ*Math.sin(adλ);d3_geo_areaRingSum.add(Math.atan2(v,u));λ0=λ,cosφ0=cosφ,sinφ0=sinφ}d3_geo_area.lineEnd=function(){nextPoint(λ00,φ00)}}function d3_geo_cartesian(spherical){var λ=spherical[0],φ=spherical[1],cosφ=Math.cos(φ);return[cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ)]}function d3_geo_cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function d3_geo_cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function d3_geo_cartesianAdd(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function d3_geo_cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function d3_geo_cartesianNormalize(d){var l=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l;d[1]/=l;d[2]/=l}function d3_geo_spherical(cartesian){return[Math.atan2(cartesian[1],cartesian[0]),d3_asin(cartesian[2])]}function d3_geo_sphericalEqual(a,b){return abs(a[0]-b[0])<ε&&abs(a[1]-b[1])<ε}d3.geo.bounds=function(){var λ0,φ0,λ1,φ1,λ_,λ__,φ__,p0,dλSum,ranges,range;var bound={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){bound.point=ringPoint;bound.lineStart=ringStart;bound.lineEnd=ringEnd;dλSum=0;d3_geo_area.polygonStart()},polygonEnd:function(){d3_geo_area.polygonEnd();bound.point=point;bound.lineStart=lineStart;bound.lineEnd=lineEnd;if(d3_geo_areaRingSum<0)λ0=-(λ1=180),φ0=-(φ1=90);else if(dλSum>ε)φ1=90;else if(dλSum<-ε)φ0=-90;range[0]=λ0,range[1]=λ1}};function point(λ,φ){ranges.push(range=[λ0=λ,λ1=λ]);if(φ<φ0)φ0=φ;if(φ>φ1)φ1=φ}function linePoint(λ,φ){var p=d3_geo_cartesian([λ*d3_radians,φ*d3_radians]);if(p0){var normal=d3_geo_cartesianCross(p0,p),equatorial=[normal[1],-normal[0],0],inflection=d3_geo_cartesianCross(equatorial,normal);d3_geo_cartesianNormalize(inflection);inflection=d3_geo_spherical(inflection);var dλ=λ-λ_,s=dλ>0?1:-1,λi=inflection[0]*d3_degrees*s,antimeridian=abs(dλ)>180;if(antimeridian^(s*λ_<λi&&λi<s*λ)){var φi=inflection[1]*d3_degrees;if(φi>φ1)φ1=φi}else if(λi=(λi+360)%360-180,antimeridian^(s*λ_<λi&&λi<s*λ)){var φi=-inflection[1]*d3_degrees;if(φi<φ0)φ0=φi}else{if(φ<φ0)φ0=φ;if(φ>φ1)φ1=φ}if(antimeridian){if(λ<λ_){if(angle(λ0,λ)>angle(λ0,λ1))λ1=λ}else{if(angle(λ,λ1)>angle(λ0,λ1))λ0=λ}}else{if(λ1>=λ0){if(λ<λ0)λ0=λ;if(λ>λ1)λ1=λ}else{if(λ>λ_){if(angle(λ0,λ)>angle(λ0,λ1))λ1=λ}else{if(angle(λ,λ1)>angle(λ0,λ1))λ0=λ}}}}else{point(λ,φ)}p0=p,λ_=λ}function lineStart(){bound.point=linePoint}function lineEnd(){range[0]=λ0,range[1]=λ1;bound.point=point;p0=null}function ringPoint(λ,φ){if(p0){var dλ=λ-λ_;dλSum+=abs(dλ)>180?dλ+(dλ>0?360:-360):dλ}else λ__=λ,φ__=φ;d3_geo_area.point(λ,φ);linePoint(λ,φ)}function ringStart(){d3_geo_area.lineStart()}function ringEnd(){ringPoint(λ__,φ__);d3_geo_area.lineEnd();if(abs(dλSum)>ε)λ0=-(λ1=180);range[0]=λ0,range[1]=λ1;p0=null}function angle(λ0,λ1){return(λ1-=λ0)<0?λ1+360:λ1}function compareRanges(a,b){return a[0]-b[0]}function withinRange(x,range){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}return function(feature){φ1=λ1=-(λ0=φ0=Infinity);ranges=[];d3.geo.stream(feature,bound);var n=ranges.length;if(n){ranges.sort(compareRanges);for(var i=1,a=ranges[0],b,merged=[a];i<n;++i){b=ranges[i];if(withinRange(b[0],a)||withinRange(b[1],a)){if(angle(a[0],b[1])>angle(a[0],a[1]))a[1]=b[1];if(angle(b[0],a[1])>angle(a[0],a[1]))a[0]=b[0]}else{merged.push(a=b)}}var best=-Infinity,dλ;for(var n=merged.length-1,i=0,a=merged[n],b;i<=n;a=b,++i){b=merged[i];if((dλ=angle(a[1],b[0]))>best)best=dλ,λ0=b[0],λ1=a[1]}}ranges=range=null;return λ0===Infinity||φ0===Infinity?[[NaN,NaN],[NaN,NaN]]:[[λ0,φ0],[λ1,φ1]]}}();d3.geo.centroid=function(object){d3_geo_centroidW0=d3_geo_centroidW1=d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0;d3.geo.stream(object,d3_geo_centroid);var x=d3_geo_centroidX2,y=d3_geo_centroidY2,z=d3_geo_centroidZ2,m=x*x+y*y+z*z;if(m<ε2){x=d3_geo_centroidX1,y=d3_geo_centroidY1,z=d3_geo_centroidZ1;if(d3_geo_centroidW1<ε)x=d3_geo_centroidX0,y=d3_geo_centroidY0,z=d3_geo_centroidZ0;m=x*x+y*y+z*z;if(m<ε2)return[NaN,NaN]}return[Math.atan2(y,x)*d3_degrees,d3_asin(z/Math.sqrt(m))*d3_degrees]};var d3_geo_centroidW0,d3_geo_centroidW1,d3_geo_centroidX0,d3_geo_centroidY0,d3_geo_centroidZ0,d3_geo_centroidX1,d3_geo_centroidY1,d3_geo_centroidZ1,d3_geo_centroidX2,d3_geo_centroidY2,d3_geo_centroidZ2;var d3_geo_centroid={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){d3_geo_centroid.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){d3_geo_centroid.lineStart=d3_geo_centroidLineStart}};function d3_geo_centroidPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);d3_geo_centroidPointXYZ(cosφ*Math.cos(λ),cosφ*Math.sin(λ),Math.sin(φ))}function d3_geo_centroidPointXYZ(x,y,z){++d3_geo_centroidW0;d3_geo_centroidX0+=(x-d3_geo_centroidX0)/d3_geo_centroidW0;d3_geo_centroidY0+=(y-d3_geo_centroidY0)/d3_geo_centroidW0;d3_geo_centroidZ0+=(z-d3_geo_centroidZ0)/d3_geo_centroidW0}function d3_geo_centroidLineStart(){var x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ);y0=cosφ*Math.sin(λ);z0=Math.sin(φ);d3_geo_centroid.point=nextPoint;d3_geo_centroidPointXYZ(x0,y0,z0)};function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),w=Math.atan2(Math.sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);d3_geo_centroidW1+=w;d3_geo_centroidX1+=w*(x0+(x0=x));d3_geo_centroidY1+=w*(y0+(y0=y));d3_geo_centroidZ1+=w*(z0+(z0=z));d3_geo_centroidPointXYZ(x0,y0,z0)}}function d3_geo_centroidLineEnd(){d3_geo_centroid.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){var λ00,φ00,x0,y0,z0;d3_geo_centroid.point=function(λ,φ){λ00=λ,φ00=φ;d3_geo_centroid.point=nextPoint;λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians);x0=cosφ*Math.cos(λ);y0=cosφ*Math.sin(λ);z0=Math.sin(φ);d3_geo_centroidPointXYZ(x0,y0,z0)};d3_geo_centroid.lineEnd=function(){nextPoint(λ00,φ00);d3_geo_centroid.lineEnd=d3_geo_centroidLineEnd;d3_geo_centroid.point=d3_geo_centroidPoint};function nextPoint(λ,φ){λ*=d3_radians;var cosφ=Math.cos(φ*=d3_radians),x=cosφ*Math.cos(λ),y=cosφ*Math.sin(λ),z=Math.sin(φ),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=Math.sqrt(cx*cx+cy*cy+cz*cz),u=x0*x+y0*y+z0*z,v=m&&-d3_acos(u)/m,w=Math.atan2(m,u);d3_geo_centroidX2+=v*cx;d3_geo_centroidY2+=v*cy;d3_geo_centroidZ2+=v*cz;d3_geo_centroidW1+=w;d3_geo_centroidX1+=w*(x0+(x0=x));d3_geo_centroidY1+=w*(y0+(y0=y));d3_geo_centroidZ1+=w*(z0+(z0=z));d3_geo_centroidPointXYZ(x0,y0,z0)}}function d3_true(){return true}function d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener){var subject=[],clip=[];segments.forEach(function(segment){if((n=segment.length-1)<=0)return;var n,p0=segment[0],p1=segment[n];if(d3_geo_sphericalEqual(p0,p1)){listener.lineStart();for(var i=0;i<n;++i)listener.point((p0=segment[i])[0],p0[1]);listener.lineEnd();return}var a=new d3_geo_clipPolygonIntersection(p0,segment,null,true),b=new d3_geo_clipPolygonIntersection(p0,null,a,false);a.o=b;subject.push(a);clip.push(b);a=new d3_geo_clipPolygonIntersection(p1,segment,null,false);b=new d3_geo_clipPolygonIntersection(p1,null,a,true);a.o=b;subject.push(a);clip.push(b)});clip.sort(compare);d3_geo_clipPolygonLinkCircular(subject);d3_geo_clipPolygonLinkCircular(clip);if(!subject.length)return;for(var i=0,entry=clipStartInside,n=clip.length;i<n;++i){clip[i].e=entry=!entry}var start=subject[0],points,point;while(1){var current=start,isSubject=true;while(current.v)if((current=current.n)===start)return;points=current.z;listener.lineStart();do{current.v=current.o.v=true;if(current.e){if(isSubject){for(var i=0,n=points.length;i<n;++i)listener.point((point=points[i])[0],point[1])}else{interpolate(current.x,current.n.x,1,listener)}current=current.n}else{if(isSubject){points=current.p.z;for(var i=points.length-1;i>=0;--i)listener.point((point=points[i])[0],point[1])}else{interpolate(current.x,current.p.x,-1,listener)}current=current.p}current=current.o;points=current.z;isSubject=!isSubject}while(!current.v);listener.lineEnd()}}function d3_geo_clipPolygonLinkCircular(array){if(!(n=array.length))return;var n,i=0,a=array[0],b;while(++i<n){a.n=b=array[i];b.p=a;a=b}a.n=b=array[0];b.p=a}function d3_geo_clipPolygonIntersection(point,points,other,entry){this.x=point;this.z=points;this.o=other;this.e=entry;this.v=false;this.n=this.p=null}function d3_geo_clip(pointVisible,clipLine,interpolate,clipStart){return function(rotate,listener){var line=clipLine(listener),rotatedClipStart=rotate.invert(clipStart[0],clipStart[1]);var clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing;clip.lineStart=ringStart;clip.lineEnd=ringEnd;segments=[];polygon=[]},polygonEnd:function(){clip.point=point;clip.lineStart=lineStart;clip.lineEnd=lineEnd;segments=d3.merge(segments);var clipStartInside=d3_geo_pointInPolygon(rotatedClipStart,polygon);if(segments.length){if(!polygonStarted)listener.polygonStart(),polygonStarted=true;d3_geo_clipPolygon(segments,d3_geo_clipSort,clipStartInside,interpolate,listener)}else if(clipStartInside){if(!polygonStarted)listener.polygonStart(),polygonStarted=true;listener.lineStart();interpolate(null,null,1,listener);listener.lineEnd()}if(polygonStarted)listener.polygonEnd(),polygonStarted=false;segments=polygon=null},sphere:function(){listener.polygonStart();listener.lineStart();interpolate(null,null,1,listener);listener.lineEnd();listener.polygonEnd()}};function point(λ,φ){var point=rotate(λ,φ);if(pointVisible(λ=point[0],φ=point[1]))listener.point(λ,φ)}function pointLine(λ,φ){var point=rotate(λ,φ);line.point(point[0],point[1])}function lineStart(){clip.point=pointLine;line.lineStart()}function lineEnd(){clip.point=point;line.lineEnd()}var segments;var buffer=d3_geo_clipBufferListener(),ringListener=clipLine(buffer),polygonStarted=false,polygon,ring;function pointRing(λ,φ){ring.push([λ,φ]);var point=rotate(λ,φ);ringListener.point(point[0],point[1])}function ringStart(){ringListener.lineStart();ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]);ringListener.lineEnd();var clean=ringListener.clean(),ringSegments=buffer.buffer(),segment,n=ringSegments.length;ring.pop();polygon.push(ring);ring=null;if(!n)return;if(clean&1){segment=ringSegments[0];var n=segment.length-1,i=-1,point;if(n>0){if(!polygonStarted)listener.polygonStart(),polygonStarted=true;listener.lineStart();while(++i<n)listener.point((point=segment[i])[0],point[1]);listener.lineEnd()}return}if(n>1&&clean&2)ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));segments.push(ringSegments.filter(d3_geo_clipSegmentLength1))}return clip}}function d3_geo_clipSegmentLength1(segment){return segment.length>1}function d3_geo_clipBufferListener(){var lines=[],line;return{lineStart:function(){lines.push(line=[])},point:function(λ,φ){line.push([λ,φ])},lineEnd:d3_noop,buffer:function(){var buffer=lines;lines=[];line=null;return buffer},rejoin:function(){if(lines.length>1)lines.push(lines.pop().concat(lines.shift()))}}}function d3_geo_clipSort(a,b){return((a=a.x)[0]<0?a[1]-halfπ-ε:halfπ-a[1])-((b=b.x)[0]<0?b[1]-halfπ-ε:halfπ-b[1])}var d3_geo_clipAntimeridian=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-π,-π/2]);function d3_geo_clipAntimeridianLine(listener){var λ0=NaN,φ0=NaN,sλ0=NaN,clean;return{lineStart:function(){listener.lineStart();clean=1},point:function(λ1,φ1){var sλ1=λ1>0?π:-π,dλ=abs(λ1-λ0);if(abs(dλ-π)<ε){listener.point(λ0,φ0=(φ0+φ1)/2>0?halfπ:-halfπ);listener.point(sλ0,φ0);listener.lineEnd();listener.lineStart();listener.point(sλ1,φ0);listener.point(λ1,φ0);clean=0}else if(sλ0!==sλ1&&dλ>=π){if(abs(λ0-sλ0)<ε)λ0-=sλ0*ε;if(abs(λ1-sλ1)<ε)λ1-=sλ1*ε;φ0=d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1);listener.point(sλ0,φ0);listener.lineEnd();listener.lineStart();listener.point(sλ1,φ0);clean=0}listener.point(λ0=λ1,φ0=φ1);sλ0=sλ1},lineEnd:function(){listener.lineEnd();λ0=φ0=NaN},clean:function(){return 2-clean}}}function d3_geo_clipAntimeridianIntersect(λ0,φ0,λ1,φ1){var cosφ0,cosφ1,sinλ0_λ1=Math.sin(λ0-λ1);return abs(sinλ0_λ1)>ε?Math.atan((Math.sin(φ0)*(cosφ1=Math.cos(φ1))*Math.sin(λ1)-Math.sin(φ1)*(cosφ0=Math.cos(φ0))*Math.sin(λ0))/(cosφ0*cosφ1*sinλ0_λ1)):(φ0+φ1)/2}function d3_geo_clipAntimeridianInterpolate(from,to,direction,listener){var φ;if(from==null){φ=direction*halfπ;listener.point(-π,φ);listener.point(0,φ);listener.point(π,φ);listener.point(π,0);listener.point(π,-φ);listener.point(0,-φ);listener.point(-π,-φ);listener.point(-π,0);listener.point(-π,φ)}else if(abs(from[0]-to[0])>ε){var s=from[0]<to[0]?π:-π;φ=direction*s/2;listener.point(-s,φ);listener.point(0,φ);listener.point(s,φ)}else{listener.point(to[0],to[1])}}function d3_geo_pointInPolygon(point,polygon){var meridian=point[0],parallel=point[1],meridianNormal=[Math.sin(meridian),-Math.cos(meridian),0],polarAngle=0,winding=0;d3_geo_areaRingSum.reset();for(var i=0,n=polygon.length;i<n;++i){var ring=polygon[i],m=ring.length;if(!m)continue;var point0=ring[0],λ0=point0[0],φ0=point0[1]/2+π/4,sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),j=1;while(true){if(j===m)j=0;point=ring[j];var λ=point[0],φ=point[1]/2+π/4,sinφ=Math.sin(φ),cosφ=Math.cos(φ),dλ=λ-λ0,sdλ=dλ>=0?1:-1,adλ=sdλ*dλ,antimeridian=adλ>π,k=sinφ0*sinφ;d3_geo_areaRingSum.add(Math.atan2(k*sdλ*Math.sin(adλ),cosφ0*cosφ+k*Math.cos(adλ)));polarAngle+=antimeridian?dλ+sdλ*τ:dλ;if(antimeridian^λ0>=meridian^λ>=meridian){var arc=d3_geo_cartesianCross(d3_geo_cartesian(point0),d3_geo_cartesian(point));d3_geo_cartesianNormalize(arc);var intersection=d3_geo_cartesianCross(meridianNormal,arc);d3_geo_cartesianNormalize(intersection);var φarc=(antimeridian^dλ>=0?-1:1)*d3_asin(intersection[2]);if(parallel>φarc||parallel===φarc&&(arc[0]||arc[1])){winding+=antimeridian^dλ>=0?1:-1}}if(!j++)break;λ0=λ,sinφ0=sinφ,cosφ0=cosφ,point0=point}}return(polarAngle<-ε||polarAngle<ε&&d3_geo_areaRingSum<0)^winding&1}function d3_geo_clipCircle(radius){var cr=Math.cos(radius),smallRadius=cr>0,notHemisphere=abs(cr)>ε,interpolate=d3_geo_circleInterpolate(radius,6*d3_radians);return d3_geo_clip(visible,clipLine,interpolate,smallRadius?[0,-radius]:[-π,radius-π]);function visible(λ,φ){return Math.cos(λ)*Math.cos(φ)>cr}function clipLine(listener){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=false;clean=1},point:function(λ,φ){var point1=[λ,φ],point2,v=visible(λ,φ),c=smallRadius?v?0:code(λ,φ):v?code(λ+(λ<0?π:-π),φ):0;if(!point0&&(v00=v0=v))listener.lineStart();if(v!==v0){point2=intersect(point0,point1);if(d3_geo_sphericalEqual(point0,point2)||d3_geo_sphericalEqual(point1,point2)){point1[0]+=ε;point1[1]+=ε;v=visible(point1[0],point1[1])}}if(v!==v0){clean=0;if(v){listener.lineStart();point2=intersect(point1,point0);listener.point(point2[0],point2[1])}else{point2=intersect(point0,point1);listener.point(point2[0],point2[1]);listener.lineEnd()}point0=point2}else if(notHemisphere&&point0&&smallRadius^v){var t;if(!(c&c0)&&(t=intersect(point1,point0,true))){clean=0;if(smallRadius){listener.lineStart();listener.point(t[0][0],t[0][1]);listener.point(t[1][0],t[1][1]);listener.lineEnd()}else{listener.point(t[1][0],t[1][1]);listener.lineEnd();listener.lineStart();listener.point(t[0][0],t[0][1])}}}if(v&&(!point0||!d3_geo_sphericalEqual(point0,point1))){listener.point(point1[0],point1[1])}point0=point1,v0=v,c0=c},lineEnd:function(){if(v0)listener.lineEnd();point0=null},clean:function(){return clean|(v00&&v0)<<1}}}function intersect(a,b,two){var pa=d3_geo_cartesian(a),pb=d3_geo_cartesian(b);var n1=[1,0,0],n2=d3_geo_cartesianCross(pa,pb),n2n2=d3_geo_cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=d3_geo_cartesianCross(n1,n2),A=d3_geo_cartesianScale(n1,c1),B=d3_geo_cartesianScale(n2,c2);d3_geo_cartesianAdd(A,B);var u=n1xn2,w=d3_geo_cartesianDot(A,u),uu=d3_geo_cartesianDot(u,u),t2=w*w-uu*(d3_geo_cartesianDot(A,A)-1);if(t2<0)return;var t=Math.sqrt(t2),q=d3_geo_cartesianScale(u,(-w-t)/uu);d3_geo_cartesianAdd(q,A);q=d3_geo_spherical(q);if(!two)return q;var λ0=a[0],λ1=b[0],φ0=a[1],φ1=b[1],z;if(λ1<λ0)z=λ0,λ0=λ1,λ1=z;var δλ=λ1-λ0,polar=abs(δλ-π)<ε,meridian=polar||δλ<ε;if(!polar&&φ1<φ0)z=φ0,φ0=φ1,φ1=z;if(meridian?polar?φ0+φ1>0^q[1]<(abs(q[0]-λ0)<ε?φ0:φ1):φ0<=q[1]&&q[1]<=φ1:δλ>π^(λ0<=q[0]&&q[0]<=λ1)){var q1=d3_geo_cartesianScale(u,(-w+t)/uu);d3_geo_cartesianAdd(q1,A);return[q,d3_geo_spherical(q1)]}}function code(λ,φ){var r=smallRadius?radius:π-radius,code=0;if(λ<-r)code|=1;else if(λ>r)code|=2;if(φ<-r)code|=4;else if(φ>r)code|=8;return code}}function d3_geom_clipLine(x0,y0,x1,y1){return function(line){var a=line.a,b=line.b,ax=a.x,ay=a.y,bx=b.x,by=b.y,t0=0,t1=1,dx=bx-ax,dy=by-ay,r;r=x0-ax;if(!dx&&r>0)return;r/=dx;if(dx<0){if(r<t0)return;if(r<t1)t1=r}else if(dx>0){if(r>t1)return;if(r>t0)t0=r}r=x1-ax;if(!dx&&r<0)return;r/=dx;if(dx<0){if(r>t1)return;if(r>t0)t0=r}else if(dx>0){if(r<t0)return;if(r<t1)t1=r}r=y0-ay;if(!dy&&r>0)return;r/=dy;if(dy<0){if(r<t0)return;if(r<t1)t1=r}else if(dy>0){if(r>t1)return;if(r>t0)t0=r}r=y1-ay;if(!dy&&r<0)return;r/=dy;if(dy<0){if(r>t1)return;if(r>t0)t0=r}else if(dy>0){if(r<t0)return;if(r<t1)t1=r}if(t0>0)line.a={x:ax+t0*dx,y:ay+t0*dy};if(t1<1)line.b={x:ax+t1*dx,y:ay+t1*dy};return line}}var d3_geo_clipExtentMAX=1e9;d3.geo.clipExtent=function(){var x0,y0,x1,y1,stream,clip,clipExtent={stream:function(output){if(stream)stream.valid=false;stream=clip(output);stream.valid=true;return stream},extent:function(_){if(!arguments.length)return[[x0,y0],[x1,y1]];clip=d3_geo_clipExtent(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]);if(stream)stream.valid=false,stream=null;return clipExtent}};return clipExtent.extent([[0,0],[960,500]])};function d3_geo_clipExtent(x0,y0,x1,y1){return function(listener){var listener_=listener,bufferListener=d3_geo_clipBufferListener(),clipLine=d3_geom_clipLine(x0,y0,x1,y1),segments,polygon,ring;var clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){listener=bufferListener;segments=[];polygon=[];clean=true},polygonEnd:function(){listener=listener_;segments=d3.merge(segments);var clipStartInside=insidePolygon([x0,y1]),inside=clean&&clipStartInside,visible=segments.length;if(inside||visible){listener.polygonStart();if(inside){listener.lineStart();interpolate(null,null,1,listener);listener.lineEnd()}if(visible){d3_geo_clipPolygon(segments,compare,clipStartInside,interpolate,listener)}listener.polygonEnd()}segments=polygon=ring=null}};function insidePolygon(p){var wn=0,n=polygon.length,y=p[1];for(var i=0;i<n;++i){for(var j=1,v=polygon[i],m=v.length,a=v[0],b;j<m;++j){b=v[j];if(a[1]<=y){if(b[1]>y&&d3_cross2d(a,b,p)>0)++wn}else{if(b[1]<=y&&d3_cross2d(a,b,p)<0)--wn}a=b}}return wn!==0}function interpolate(from,to,direction,listener){var a=0,a1=0;if(from==null||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoints(from,to)<0^direction>0){do{listener.point(a===0||a===3?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1)}else{listener.point(to[0],to[1])}}function pointVisible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function point(x,y){if(pointVisible(x,y))listener.point(x,y)}var x__,y__,v__,x_,y_,v_,first,clean;function lineStart(){clip.point=linePoint;if(polygon)polygon.push(ring=[]);first=true;v_=false;x_=y_=NaN}function lineEnd(){if(segments){linePoint(x__,y__);if(v__&&v_)bufferListener.rejoin();segments.push(bufferListener.buffer())}clip.point=point;if(v_)listener.lineEnd()}function linePoint(x,y){x=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,x));y=Math.max(-d3_geo_clipExtentMAX,Math.min(d3_geo_clipExtentMAX,y));var v=pointVisible(x,y);if(polygon)ring.push([x,y]);if(first){x__=x,y__=y,v__=v;first=false;if(v){listener.lineStart();listener.point(x,y)}}else{if(v&&v_)listener.point(x,y);else{var l={a:{x:x_,y:y_},b:{x:x,y:y}};if(clipLine(l)){if(!v_){listener.lineStart();listener.point(l.a.x,l.a.y)}listener.point(l.b.x,l.b.y);if(!v)listener.lineEnd();clean=false}else if(v){listener.lineStart();listener.point(x,y);clean=false}}}x_=x,y_=y,v_=v}return clip};function corner(p,direction){return abs(p[0]-x0)<ε?direction>0?0:3:abs(p[0]-x1)<ε?direction>0?2:1:abs(p[1]-y0)<ε?direction>0?1:0:direction>0?3:2}function compare(a,b){return comparePoints(a.x,b.x)}function comparePoints(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:ca===0?b[1]-a[1]:ca===1?a[0]-b[0]:ca===2?a[1]-b[1]:b[0]-a[0]}}function d3_geo_compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}if(a.invert&&b.invert)compose.invert=function(x,y){return x=b.invert(x,y),x&&a.invert(x[0],x[1])};return compose}function d3_geo_conic(projectAt){var φ0=0,φ1=π/3,m=d3_geo_projectionMutator(projectAt),p=m(φ0,φ1);p.parallels=function(_){if(!arguments.length)return[φ0/π*180,φ1/π*180];return m(φ0=_[0]*π/180,φ1=_[1]*π/180)};return p}function d3_geo_conicEqualArea(φ0,φ1){var sinφ0=Math.sin(φ0),n=(sinφ0+Math.sin(φ1))/2,C=1+sinφ0*(2*n-sinφ0),ρ0=Math.sqrt(C)/n;function forward(λ,φ){var ρ=Math.sqrt(C-2*n*Math.sin(φ))/n;return[ρ*Math.sin(λ*=n),ρ0-ρ*Math.cos(λ)]}forward.invert=function(x,y){var ρ0_y=ρ0-y;return[Math.atan2(x,ρ0_y)/n,d3_asin((C-(x*x+ρ0_y*ρ0_y)*n*n)/(2*n))]};return forward}(d3.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea;d3.geo.albers=function(){return d3.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};d3.geo.albersUsa=function(){var lower48=d3.geo.albers();var alaska=d3.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var hawaii=d3.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var point,pointStream={point:function(x,y){point=[x,y]}},lower48Point,alaskaPoint,hawaiiPoint;function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];point=null;(lower48Point(x,y),point)||(alaskaPoint(x,y),point)||hawaiiPoint(x,y);return point}albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)};albersUsa.stream=function(stream){var lower48Stream=lower48.stream(stream),alaskaStream=alaska.stream(stream),hawaiiStream=hawaii.stream(stream);return{point:function(x,y){lower48Stream.point(x,y);alaskaStream.point(x,y);hawaiiStream.point(x,y)},sphere:function(){lower48Stream.sphere();alaskaStream.sphere();hawaiiStream.sphere()},lineStart:function(){lower48Stream.lineStart();alaskaStream.lineStart();hawaiiStream.lineStart()},lineEnd:function(){lower48Stream.lineEnd();alaskaStream.lineEnd();hawaiiStream.lineEnd()},polygonStart:function(){lower48Stream.polygonStart();alaskaStream.polygonStart();hawaiiStream.polygonStart()},polygonEnd:function(){lower48Stream.polygonEnd();alaskaStream.polygonEnd();hawaiiStream.polygonEnd()}}};albersUsa.precision=function(_){if(!arguments.length)return lower48.precision();lower48.precision(_);alaska.precision(_);hawaii.precision(_);return albersUsa};albersUsa.scale=function(_){if(!arguments.length)return lower48.scale();lower48.scale(_);alaska.scale(_*.35);hawaii.scale(_);return albersUsa.translate(lower48.translate())};albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream).point;alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+ε,y+.12*k+ε],[x-.214*k-ε,y+.234*k-ε]]).stream(pointStream).point;hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+ε,y+.166*k+ε],[x-.115*k-ε,y+.234*k-ε]]).stream(pointStream).point;return albersUsa};return albersUsa.scale(1070)};var d3_geo_pathAreaSum,d3_geo_pathAreaPolygon,d3_geo_pathArea={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){d3_geo_pathAreaPolygon=0;d3_geo_pathArea.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){d3_geo_pathArea.lineStart=d3_geo_pathArea.lineEnd=d3_geo_pathArea.point=d3_noop;d3_geo_pathAreaSum+=abs(d3_geo_pathAreaPolygon/2)}};function d3_geo_pathAreaRingStart(){var x00,y00,x0,y0;d3_geo_pathArea.point=function(x,y){d3_geo_pathArea.point=nextPoint;x00=x0=x,y00=y0=y};function nextPoint(x,y){d3_geo_pathAreaPolygon+=y0*x-x0*y;x0=x,y0=y}d3_geo_pathArea.lineEnd=function(){nextPoint(x00,y00)}}var d3_geo_pathBoundsX0,d3_geo_pathBoundsY0,d3_geo_pathBoundsX1,d3_geo_pathBoundsY1;var d3_geo_pathBounds={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_pathBoundsPoint(x,y){if(x<d3_geo_pathBoundsX0)d3_geo_pathBoundsX0=x;if(x>d3_geo_pathBoundsX1)d3_geo_pathBoundsX1=x;if(y<d3_geo_pathBoundsY0)d3_geo_pathBoundsY0=y;if(y>d3_geo_pathBoundsY1)d3_geo_pathBoundsY1=y}function d3_geo_pathBuffer(){var pointCircle=d3_geo_pathBufferCircle(4.5),buffer=[];var stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd;stream.point=point},pointRadius:function(_){pointCircle=d3_geo_pathBufferCircle(_);return stream},result:function(){if(buffer.length){var result=buffer.join("");buffer=[];return result}}};function point(x,y){buffer.push("M",x,",",y,pointCircle)}function pointLineStart(x,y){buffer.push("M",x,",",y);stream.point=pointLine}function pointLine(x,y){buffer.push("L",x,",",y)}function lineEnd(){stream.point=point}function lineEndPolygon(){buffer.push("Z")}return stream}function d3_geo_pathBufferCircle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}var d3_geo_pathCentroid={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint;d3_geo_pathCentroid.lineStart=d3_geo_pathCentroidLineStart;d3_geo_pathCentroid.lineEnd=d3_geo_pathCentroidLineEnd}};function d3_geo_pathCentroidPoint(x,y){d3_geo_centroidX0+=x;d3_geo_centroidY0+=y;++d3_geo_centroidZ0}function d3_geo_pathCentroidLineStart(){var x0,y0;d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint;d3_geo_pathCentroidPoint(x0=x,y0=y)};function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2;d3_geo_centroidY1+=z*(y0+y)/2;d3_geo_centroidZ1+=z;d3_geo_pathCentroidPoint(x0=x,y0=y)}}function d3_geo_pathCentroidLineEnd(){d3_geo_pathCentroid.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){var x00,y00,x0,y0;
d3_geo_pathCentroid.point=function(x,y){d3_geo_pathCentroid.point=nextPoint;d3_geo_pathCentroidPoint(x00=x0=x,y00=y0=y)};function nextPoint(x,y){var dx=x-x0,dy=y-y0,z=Math.sqrt(dx*dx+dy*dy);d3_geo_centroidX1+=z*(x0+x)/2;d3_geo_centroidY1+=z*(y0+y)/2;d3_geo_centroidZ1+=z;z=y0*x-x0*y;d3_geo_centroidX2+=z*(x0+x);d3_geo_centroidY2+=z*(y0+y);d3_geo_centroidZ2+=z*3;d3_geo_pathCentroidPoint(x0=x,y0=y)}d3_geo_pathCentroid.lineEnd=function(){nextPoint(x00,y00)}}function d3_geo_pathContext(context){var pointRadius=4.5;var stream={point:point,lineStart:function(){stream.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){stream.lineEnd=lineEndPolygon},polygonEnd:function(){stream.lineEnd=lineEnd;stream.point=point},pointRadius:function(_){pointRadius=_;return stream},result:d3_noop};function point(x,y){context.moveTo(x,y);context.arc(x,y,pointRadius,0,τ)}function pointLineStart(x,y){context.moveTo(x,y);stream.point=pointLine}function pointLine(x,y){context.lineTo(x,y)}function lineEnd(){stream.point=point}function lineEndPolygon(){context.closePath()}return stream}function d3_geo_resample(project){var δ2=.5,cosMinDistance=Math.cos(30*d3_radians),maxDepth=16;function resample(stream){return(maxDepth?resampleRecursive:resampleNone)(stream)}function resampleNone(stream){return d3_geo_transformPoint(stream,function(x,y){x=project(x,y);stream.point(x[0],x[1])})}function resampleRecursive(stream){var λ00,φ00,x00,y00,a00,b00,c00,λ0,x0,y0,a0,b0,c0;var resample={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart();resample.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd();resample.lineStart=lineStart}};function point(x,y){x=project(x,y);stream.point(x[0],x[1])}function lineStart(){x0=NaN;resample.point=linePoint;stream.lineStart()}function linePoint(λ,φ){var c=d3_geo_cartesian([λ,φ]),p=project(λ,φ);resampleLineTo(x0,y0,λ0,a0,b0,c0,x0=p[0],y0=p[1],λ0=λ,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream);stream.point(x0,y0)}function lineEnd(){resample.point=point;stream.lineEnd()}function ringStart(){lineStart();resample.point=ringPoint;resample.lineEnd=ringEnd}function ringPoint(λ,φ){linePoint(λ00=λ,φ00=φ),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0;resample.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,λ0,a0,b0,c0,x00,y00,λ00,a00,b00,c00,maxDepth,stream);resample.lineEnd=lineEnd;lineEnd()}return resample}function resampleLineTo(x0,y0,λ0,a0,b0,c0,x1,y1,λ1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*δ2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=Math.sqrt(a*a+b*b+c*c),φ2=Math.asin(c/=m),λ2=abs(abs(c)-1)<ε||abs(λ0-λ1)<ε?(λ0+λ1)/2:Math.atan2(b,a),p=project(λ2,φ2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;if(dz*dz/d2>δ2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance){resampleLineTo(x0,y0,λ0,a0,b0,c0,x2,y2,λ2,a/=m,b/=m,c,depth,stream);stream.point(x2,y2);resampleLineTo(x2,y2,λ2,a,b,c,x1,y1,λ1,a1,b1,c1,depth,stream)}}}resample.precision=function(_){if(!arguments.length)return Math.sqrt(δ2);maxDepth=(δ2=_*_)>0&&16;return resample};return resample}d3.geo.path=function(){var pointRadius=4.5,projection,context,projectStream,contextStream,cacheStream;function path(object){if(object){if(typeof pointRadius==="function")contextStream.pointRadius(+pointRadius.apply(this,arguments));if(!cacheStream||!cacheStream.valid)cacheStream=projectStream(contextStream);d3.geo.stream(object,cacheStream)}return contextStream.result()}path.area=function(object){d3_geo_pathAreaSum=0;d3.geo.stream(object,projectStream(d3_geo_pathArea));return d3_geo_pathAreaSum};path.centroid=function(object){d3_geo_centroidX0=d3_geo_centroidY0=d3_geo_centroidZ0=d3_geo_centroidX1=d3_geo_centroidY1=d3_geo_centroidZ1=d3_geo_centroidX2=d3_geo_centroidY2=d3_geo_centroidZ2=0;d3.geo.stream(object,projectStream(d3_geo_pathCentroid));return d3_geo_centroidZ2?[d3_geo_centroidX2/d3_geo_centroidZ2,d3_geo_centroidY2/d3_geo_centroidZ2]:d3_geo_centroidZ1?[d3_geo_centroidX1/d3_geo_centroidZ1,d3_geo_centroidY1/d3_geo_centroidZ1]:d3_geo_centroidZ0?[d3_geo_centroidX0/d3_geo_centroidZ0,d3_geo_centroidY0/d3_geo_centroidZ0]:[NaN,NaN]};path.bounds=function(object){d3_geo_pathBoundsX1=d3_geo_pathBoundsY1=-(d3_geo_pathBoundsX0=d3_geo_pathBoundsY0=Infinity);d3.geo.stream(object,projectStream(d3_geo_pathBounds));return[[d3_geo_pathBoundsX0,d3_geo_pathBoundsY0],[d3_geo_pathBoundsX1,d3_geo_pathBoundsY1]]};path.projection=function(_){if(!arguments.length)return projection;projectStream=(projection=_)?_.stream||d3_geo_pathProjectStream(_):d3_identity;return reset()};path.context=function(_){if(!arguments.length)return context;contextStream=(context=_)==null?new d3_geo_pathBuffer:new d3_geo_pathContext(_);if(typeof pointRadius!=="function")contextStream.pointRadius(pointRadius);return reset()};path.pointRadius=function(_){if(!arguments.length)return pointRadius;pointRadius=typeof _==="function"?_:(contextStream.pointRadius(+_),+_);return path};function reset(){cacheStream=null;return path}return path.projection(d3.geo.albersUsa()).context(null)};function d3_geo_pathProjectStream(project){var resample=d3_geo_resample(function(x,y){return project([x*d3_degrees,y*d3_degrees])});return function(stream){return d3_geo_projectionRadians(resample(stream))}}d3.geo.transform=function(methods){return{stream:function(stream){var transform=new d3_geo_transform(stream);for(var k in methods)transform[k]=methods[k];return transform}}};function d3_geo_transform(stream){this.stream=stream}d3_geo_transform.prototype={point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function d3_geo_transformPoint(stream,point){return{point:point,sphere:function(){stream.sphere()},lineStart:function(){stream.lineStart()},lineEnd:function(){stream.lineEnd()},polygonStart:function(){stream.polygonStart()},polygonEnd:function(){stream.polygonEnd()}}}d3.geo.projection=d3_geo_projection;d3.geo.projectionMutator=d3_geo_projectionMutator;function d3_geo_projection(project){return d3_geo_projectionMutator(function(){return project})()}function d3_geo_projectionMutator(projectAt){var project,rotate,projectRotate,projectResample=d3_geo_resample(function(x,y){x=project(x,y);return[x[0]*k+δx,δy-x[1]*k]}),k=150,x=480,y=250,λ=0,φ=0,δλ=0,δφ=0,δγ=0,δx,δy,preclip=d3_geo_clipAntimeridian,postclip=d3_identity,clipAngle=null,clipExtent=null,stream;function projection(point){point=projectRotate(point[0]*d3_radians,point[1]*d3_radians);return[point[0]*k+δx,δy-point[1]*k]}function invert(point){point=projectRotate.invert((point[0]-δx)/k,(δy-point[1])/k);return point&&[point[0]*d3_degrees,point[1]*d3_degrees]}projection.stream=function(output){if(stream)stream.valid=false;stream=d3_geo_projectionRadians(preclip(rotate,projectResample(postclip(output))));stream.valid=true;return stream};projection.clipAngle=function(_){if(!arguments.length)return clipAngle;preclip=_==null?(clipAngle=_,d3_geo_clipAntimeridian):d3_geo_clipCircle((clipAngle=+_)*d3_radians);return invalidate()};projection.clipExtent=function(_){if(!arguments.length)return clipExtent;clipExtent=_;postclip=_?d3_geo_clipExtent(_[0][0],_[0][1],_[1][0],_[1][1]):d3_identity;return invalidate()};projection.scale=function(_){if(!arguments.length)return k;k=+_;return reset()};projection.translate=function(_){if(!arguments.length)return[x,y];x=+_[0];y=+_[1];return reset()};projection.center=function(_){if(!arguments.length)return[λ*d3_degrees,φ*d3_degrees];λ=_[0]%360*d3_radians;φ=_[1]%360*d3_radians;return reset()};projection.rotate=function(_){if(!arguments.length)return[δλ*d3_degrees,δφ*d3_degrees,δγ*d3_degrees];δλ=_[0]%360*d3_radians;δφ=_[1]%360*d3_radians;δγ=_.length>2?_[2]%360*d3_radians:0;return reset()};d3.rebind(projection,projectResample,"precision");function reset(){projectRotate=d3_geo_compose(rotate=d3_geo_rotation(δλ,δφ,δγ),project);var center=project(λ,φ);δx=x-center[0]*k;δy=y+center[1]*k;return invalidate()}function invalidate(){if(stream)stream.valid=false,stream=null;return projection}return function(){project=projectAt.apply(this,arguments);projection.invert=project.invert&&invert;return reset()}}function d3_geo_projectionRadians(stream){return d3_geo_transformPoint(stream,function(x,y){stream.point(x*d3_radians,y*d3_radians)})}function d3_geo_equirectangular(λ,φ){return[λ,φ]}(d3.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular;d3.geo.rotation=function(rotate){rotate=d3_geo_rotation(rotate[0]%360*d3_radians,rotate[1]*d3_radians,rotate.length>2?rotate[2]*d3_radians:0);function forward(coordinates){coordinates=rotate(coordinates[0]*d3_radians,coordinates[1]*d3_radians);return coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates}forward.invert=function(coordinates){coordinates=rotate.invert(coordinates[0]*d3_radians,coordinates[1]*d3_radians);return coordinates[0]*=d3_degrees,coordinates[1]*=d3_degrees,coordinates};return forward};function d3_geo_identityRotation(λ,φ){return[λ>π?λ-τ:λ<-π?λ+τ:λ,φ]}d3_geo_identityRotation.invert=d3_geo_equirectangular;function d3_geo_rotation(δλ,δφ,δγ){return δλ?δφ||δγ?d3_geo_compose(d3_geo_rotationλ(δλ),d3_geo_rotationφγ(δφ,δγ)):d3_geo_rotationλ(δλ):δφ||δγ?d3_geo_rotationφγ(δφ,δγ):d3_geo_identityRotation}function d3_geo_forwardRotationλ(δλ){return function(λ,φ){return λ+=δλ,[λ>π?λ-τ:λ<-π?λ+τ:λ,φ]}}function d3_geo_rotationλ(δλ){var rotation=d3_geo_forwardRotationλ(δλ);rotation.invert=d3_geo_forwardRotationλ(-δλ);return rotation}function d3_geo_rotationφγ(δφ,δγ){var cosδφ=Math.cos(δφ),sinδφ=Math.sin(δφ),cosδγ=Math.cos(δγ),sinδγ=Math.sin(δγ);function rotation(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδφ+x*sinδφ;return[Math.atan2(y*cosδγ-k*sinδγ,x*cosδφ-z*sinδφ),d3_asin(k*cosδγ+y*sinδγ)]}rotation.invert=function(λ,φ){var cosφ=Math.cos(φ),x=Math.cos(λ)*cosφ,y=Math.sin(λ)*cosφ,z=Math.sin(φ),k=z*cosδγ-y*sinδγ;return[Math.atan2(y*cosδγ+z*sinδγ,x*cosδφ+k*sinδφ),d3_asin(k*cosδφ-x*sinδφ)]};return rotation}d3.geo.circle=function(){var origin=[0,0],angle,precision=6,interpolate;function circle(){var center=typeof origin==="function"?origin.apply(this,arguments):origin,rotate=d3_geo_rotation(-center[0]*d3_radians,-center[1]*d3_radians,0).invert,ring=[];interpolate(null,null,1,{point:function(x,y){ring.push(x=rotate(x,y));x[0]*=d3_degrees,x[1]*=d3_degrees}});return{type:"Polygon",coordinates:[ring]}}circle.origin=function(x){if(!arguments.length)return origin;origin=x;return circle};circle.angle=function(x){if(!arguments.length)return angle;interpolate=d3_geo_circleInterpolate((angle=+x)*d3_radians,precision*d3_radians);return circle};circle.precision=function(_){if(!arguments.length)return precision;interpolate=d3_geo_circleInterpolate(angle*d3_radians,(precision=+_)*d3_radians);return circle};return circle.angle(90)};function d3_geo_circleInterpolate(radius,precision){var cr=Math.cos(radius),sr=Math.sin(radius);return function(from,to,direction,listener){var step=direction*precision;if(from!=null){from=d3_geo_circleAngle(cr,from);to=d3_geo_circleAngle(cr,to);if(direction>0?from<to:from>to)from+=direction*τ}else{from=radius+direction*τ;to=radius-.5*step}for(var point,t=from;direction>0?t>to:t<to;t-=step){listener.point((point=d3_geo_spherical([cr,-sr*Math.cos(t),-sr*Math.sin(t)]))[0],point[1])}}}function d3_geo_circleAngle(cr,point){var a=d3_geo_cartesian(point);a[0]-=cr;d3_geo_cartesianNormalize(a);var angle=d3_acos(-a[1]);return((-a[2]<0?-angle:angle)+2*Math.PI-ε)%(2*Math.PI)}d3.geo.distance=function(a,b){var Δλ=(b[0]-a[0])*d3_radians,φ0=a[1]*d3_radians,φ1=b[1]*d3_radians,sinΔλ=Math.sin(Δλ),cosΔλ=Math.cos(Δλ),sinφ0=Math.sin(φ0),cosφ0=Math.cos(φ0),sinφ1=Math.sin(φ1),cosφ1=Math.cos(φ1),t;return Math.atan2(Math.sqrt((t=cosφ1*sinΔλ)*t+(t=cosφ0*sinφ1-sinφ0*cosφ1*cosΔλ)*t),sinφ0*sinφ1+cosφ0*cosφ1*cosΔλ)};d3.geo.graticule=function(){var x1,x0,X1,X0,y1,y0,Y1,Y0,dx=10,dy=dx,DX=90,DY=360,x,y,X,Y,precision=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return d3.range(Math.ceil(X0/DX)*DX,X1,DX).map(X).concat(d3.range(Math.ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(d3.range(Math.ceil(x0/dx)*dx,x1,dx).filter(function(x){return abs(x%DX)>ε}).map(x)).concat(d3.range(Math.ceil(y0/dy)*dy,y1,dy).filter(function(y){return abs(y%DY)>ε}).map(y))}graticule.lines=function(){return lines().map(function(coordinates){return{type:"LineString",coordinates:coordinates}})};graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}};graticule.extent=function(_){if(!arguments.length)return graticule.minorExtent();return graticule.majorExtent(_).minorExtent(_)};graticule.majorExtent=function(_){if(!arguments.length)return[[X0,Y0],[X1,Y1]];X0=+_[0][0],X1=+_[1][0];Y0=+_[0][1],Y1=+_[1][1];if(X0>X1)_=X0,X0=X1,X1=_;if(Y0>Y1)_=Y0,Y0=Y1,Y1=_;return graticule.precision(precision)};graticule.minorExtent=function(_){if(!arguments.length)return[[x0,y0],[x1,y1]];x0=+_[0][0],x1=+_[1][0];y0=+_[0][1],y1=+_[1][1];if(x0>x1)_=x0,x0=x1,x1=_;if(y0>y1)_=y0,y0=y1,y1=_;return graticule.precision(precision)};graticule.step=function(_){if(!arguments.length)return graticule.minorStep();return graticule.majorStep(_).minorStep(_)};graticule.majorStep=function(_){if(!arguments.length)return[DX,DY];DX=+_[0],DY=+_[1];return graticule};graticule.minorStep=function(_){if(!arguments.length)return[dx,dy];dx=+_[0],dy=+_[1];return graticule};graticule.precision=function(_){if(!arguments.length)return precision;precision=+_;x=d3_geo_graticuleX(y0,y1,90);y=d3_geo_graticuleY(x0,x1,precision);X=d3_geo_graticuleX(Y0,Y1,90);Y=d3_geo_graticuleY(X0,X1,precision);return graticule};return graticule.majorExtent([[-180,-90+ε],[180,90-ε]]).minorExtent([[-180,-80-ε],[180,80+ε]])};function d3_geo_graticuleX(y0,y1,dy){var y=d3.range(y0,y1-ε,dy).concat(y1);return function(x){return y.map(function(y){return[x,y]})}}function d3_geo_graticuleY(x0,x1,dx){var x=d3.range(x0,x1-ε,dx).concat(x1);return function(y){return x.map(function(x){return[x,y]})}}function d3_source(d){return d.source}function d3_target(d){return d.target}d3.geo.greatArc=function(){var source=d3_source,source_,target=d3_target,target_;function greatArc(){return{type:"LineString",coordinates:[source_||source.apply(this,arguments),target_||target.apply(this,arguments)]}}greatArc.distance=function(){return d3.geo.distance(source_||source.apply(this,arguments),target_||target.apply(this,arguments))};greatArc.source=function(_){if(!arguments.length)return source;source=_,source_=typeof _==="function"?null:_;return greatArc};greatArc.target=function(_){if(!arguments.length)return target;target=_,target_=typeof _==="function"?null:_;return greatArc};greatArc.precision=function(){return arguments.length?greatArc:0};return greatArc};d3.geo.interpolate=function(source,target){return d3_geo_interpolate(source[0]*d3_radians,source[1]*d3_radians,target[0]*d3_radians,target[1]*d3_radians)};function d3_geo_interpolate(x0,y0,x1,y1){var cy0=Math.cos(y0),sy0=Math.sin(y0),cy1=Math.cos(y1),sy1=Math.sin(y1),kx0=cy0*Math.cos(x0),ky0=cy0*Math.sin(x0),kx1=cy1*Math.cos(x1),ky1=cy1*Math.sin(x1),d=2*Math.asin(Math.sqrt(d3_haversin(y1-y0)+cy0*cy1*d3_haversin(x1-x0))),k=1/Math.sin(d);var interpolate=d?function(t){var B=Math.sin(t*=d)*k,A=Math.sin(d-t)*k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[Math.atan2(y,x)*d3_degrees,Math.atan2(z,Math.sqrt(x*x+y*y))*d3_degrees]}:function(){return[x0*d3_degrees,y0*d3_degrees]};interpolate.distance=d;return interpolate}d3.geo.length=function(object){d3_geo_lengthSum=0;d3.geo.stream(object,d3_geo_length);return d3_geo_lengthSum};var d3_geo_lengthSum;var d3_geo_length={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_lengthLineStart(){var λ0,sinφ0,cosφ0;d3_geo_length.point=function(λ,φ){λ0=λ*d3_radians,sinφ0=Math.sin(φ*=d3_radians),cosφ0=Math.cos(φ);d3_geo_length.point=nextPoint};d3_geo_length.lineEnd=function(){d3_geo_length.point=d3_geo_length.lineEnd=d3_noop};function nextPoint(λ,φ){var sinφ=Math.sin(φ*=d3_radians),cosφ=Math.cos(φ),t=abs((λ*=d3_radians)-λ0),cosΔλ=Math.cos(t);d3_geo_lengthSum+=Math.atan2(Math.sqrt((t=cosφ*Math.sin(t))*t+(t=cosφ0*sinφ-sinφ0*cosφ*cosΔλ)*t),sinφ0*sinφ+cosφ0*cosφ*cosΔλ);λ0=λ,sinφ0=sinφ,cosφ0=cosφ}}function d3_geo_azimuthal(scale,angle){function azimuthal(λ,φ){var cosλ=Math.cos(λ),cosφ=Math.cos(φ),k=scale(cosλ*cosφ);return[k*cosφ*Math.sin(λ),k*Math.sin(φ)]}azimuthal.invert=function(x,y){var ρ=Math.sqrt(x*x+y*y),c=angle(ρ),sinc=Math.sin(c),cosc=Math.cos(c);return[Math.atan2(x*sinc,ρ*cosc),Math.asin(ρ&&y*sinc/ρ)]};return azimuthal}var d3_geo_azimuthalEqualArea=d3_geo_azimuthal(function(cosλcosφ){return Math.sqrt(2/(1+cosλcosφ))},function(ρ){return 2*Math.asin(ρ/2)});(d3.geo.azimuthalEqualArea=function(){return d3_geo_projection(d3_geo_azimuthalEqualArea)}).raw=d3_geo_azimuthalEqualArea;var d3_geo_azimuthalEquidistant=d3_geo_azimuthal(function(cosλcosφ){var c=Math.acos(cosλcosφ);return c&&c/Math.sin(c)},d3_identity);(d3.geo.azimuthalEquidistant=function(){return d3_geo_projection(d3_geo_azimuthalEquidistant)}).raw=d3_geo_azimuthalEquidistant;function d3_geo_conicConformal(φ0,φ1){var cosφ0=Math.cos(φ0),t=function(φ){return Math.tan(π/4+φ/2)},n=φ0===φ1?Math.sin(φ0):Math.log(cosφ0/Math.cos(φ1))/Math.log(t(φ1)/t(φ0)),F=cosφ0*Math.pow(t(φ0),n)/n;if(!n)return d3_geo_mercator;function forward(λ,φ){if(F>0){if(φ<-halfπ+ε)φ=-halfπ+ε}else{if(φ>halfπ-ε)φ=halfπ-ε}var ρ=F/Math.pow(t(φ),n);return[ρ*Math.sin(n*λ),F-ρ*Math.cos(n*λ)]}forward.invert=function(x,y){var ρ0_y=F-y,ρ=d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y);return[Math.atan2(x,ρ0_y)/n,2*Math.atan(Math.pow(F/ρ,1/n))-halfπ]};return forward}(d3.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal;function d3_geo_conicEquidistant(φ0,φ1){var cosφ0=Math.cos(φ0),n=φ0===φ1?Math.sin(φ0):(cosφ0-Math.cos(φ1))/(φ1-φ0),G=cosφ0/n+φ0;if(abs(n)<ε)return d3_geo_equirectangular;function forward(λ,φ){var ρ=G-φ;return[ρ*Math.sin(n*λ),G-ρ*Math.cos(n*λ)]}forward.invert=function(x,y){var ρ0_y=G-y;return[Math.atan2(x,ρ0_y)/n,G-d3_sgn(n)*Math.sqrt(x*x+ρ0_y*ρ0_y)]};return forward}(d3.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var d3_geo_gnomonic=d3_geo_azimuthal(function(cosλcosφ){return 1/cosλcosφ},Math.atan);(d3.geo.gnomonic=function(){return d3_geo_projection(d3_geo_gnomonic)}).raw=d3_geo_gnomonic;function d3_geo_mercator(λ,φ){return[λ,Math.log(Math.tan(π/4+φ/2))]}d3_geo_mercator.invert=function(x,y){return[x,2*Math.atan(Math.exp(y))-halfπ]};function d3_geo_mercatorProjection(project){var m=d3_geo_projection(project),scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,clipAuto;m.scale=function(){var v=scale.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v};m.translate=function(){var v=translate.apply(m,arguments);return v===m?clipAuto?m.clipExtent(null):m:v};m.clipExtent=function(_){var v=clipExtent.apply(m,arguments);if(v===m){if(clipAuto=_==null){var k=π*scale(),t=translate();clipExtent([[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]])}}else if(clipAuto){v=null}return v};return m.clipExtent(null)}(d3.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var d3_geo_orthographic=d3_geo_azimuthal(function(){return 1},Math.asin);(d3.geo.orthographic=function(){return d3_geo_projection(d3_geo_orthographic)}).raw=d3_geo_orthographic;var d3_geo_stereographic=d3_geo_azimuthal(function(cosλcosφ){return 1/(1+cosλcosφ)},function(ρ){return 2*Math.atan(ρ)});(d3.geo.stereographic=function(){return d3_geo_projection(d3_geo_stereographic)}).raw=d3_geo_stereographic;function d3_geo_transverseMercator(λ,φ){return[Math.log(Math.tan(π/4+φ/2)),-λ]}d3_geo_transverseMercator.invert=function(x,y){return[-y,2*Math.atan(Math.exp(x))-halfπ]};(d3.geo.transverseMercator=function(){var projection=d3_geo_mercatorProjection(d3_geo_transverseMercator),center=projection.center,rotate=projection.rotate;projection.center=function(_){return _?center([-_[1],_[0]]):(_=center(),[_[1],-_[0]])};projection.rotate=function(_){return _?rotate([_[0],_[1],_.length>2?_[2]+90:90]):(_=rotate(),[_[0],_[1],_[2]-90])};return rotate([0,0,90])}).raw=d3_geo_transverseMercator;d3.geom={};function d3_geom_pointX(d){return d[0]}function d3_geom_pointY(d){return d[1]}d3.geom.hull=function(vertices){var x=d3_geom_pointX,y=d3_geom_pointY;if(arguments.length)return hull(vertices);function hull(data){if(data.length<3)return[];var fx=d3_functor(x),fy=d3_functor(y),i,n=data.length,points=[],flippedPoints=[];for(i=0;i<n;i++){points.push([+fx.call(this,data[i],i),+fy.call(this,data[i],i),i])}points.sort(d3_geom_hullOrder);for(i=0;i<n;i++)flippedPoints.push([points[i][0],-points[i][1]]);var upper=d3_geom_hullUpper(points),lower=d3_geom_hullUpper(flippedPoints);var skipLeft=lower[0]===upper[0],skipRight=lower[lower.length-1]===upper[upper.length-1],polygon=[];for(i=upper.length-1;i>=0;--i)polygon.push(data[points[upper[i]][2]]);for(i=+skipLeft;i<lower.length-skipRight;++i)polygon.push(data[points[lower[i]][2]]);return polygon}hull.x=function(_){return arguments.length?(x=_,hull):x};hull.y=function(_){return arguments.length?(y=_,hull):y};return hull};function d3_geom_hullUpper(points){var n=points.length,hull=[0,1],hs=2;for(var i=2;i<n;i++){while(hs>1&&d3_cross2d(points[hull[hs-2]],points[hull[hs-1]],points[i])<=0)--hs;hull[hs++]=i}return hull.slice(0,hs)}function d3_geom_hullOrder(a,b){return a[0]-b[0]||a[1]-b[1]}d3.geom.polygon=function(coordinates){d3_subclass(coordinates,d3_geom_polygonPrototype);return coordinates};var d3_geom_polygonPrototype=d3.geom.polygon.prototype=[];d3_geom_polygonPrototype.area=function(){var i=-1,n=this.length,a,b=this[n-1],area=0;while(++i<n){a=b;b=this[i];area+=a[1]*b[0]-a[0]*b[1]}return area*.5};d3_geom_polygonPrototype.centroid=function(k){var i=-1,n=this.length,x=0,y=0,a,b=this[n-1],c;if(!arguments.length)k=-1/(6*this.area());while(++i<n){a=b;b=this[i];c=a[0]*b[1]-b[0]*a[1];x+=(a[0]+b[0])*c;y+=(a[1]+b[1])*c}return[x*k,y*k]};d3_geom_polygonPrototype.clip=function(subject){var input,closed=d3_geom_polygonClosed(subject),i=-1,n=this.length-d3_geom_polygonClosed(this),j,m,a=this[n-1],b,c,d;while(++i<n){input=subject.slice();subject.length=0;b=this[i];c=input[(m=input.length-closed)-1];j=-1;while(++j<m){d=input[j];if(d3_geom_polygonInside(d,a,b)){if(!d3_geom_polygonInside(c,a,b)){subject.push(d3_geom_polygonIntersect(c,d,a,b))}subject.push(d)}else if(d3_geom_polygonInside(c,a,b)){subject.push(d3_geom_polygonIntersect(c,d,a,b))}c=d}if(closed)subject.push(subject[0]);a=b}return subject};function d3_geom_polygonInside(p,a,b){return(b[0]-a[0])*(p[1]-a[1])<(b[1]-a[1])*(p[0]-a[0])}function d3_geom_polygonIntersect(c,d,a,b){var x1=c[0],x3=a[0],x21=d[0]-x1,x43=b[0]-x3,y1=c[1],y3=a[1],y21=d[1]-y1,y43=b[1]-y3,ua=(x43*(y1-y3)-y43*(x1-x3))/(y43*x21-x43*y21);return[x1+ua*x21,y1+ua*y21]}function d3_geom_polygonClosed(coordinates){var a=coordinates[0],b=coordinates[coordinates.length-1];return!(a[0]-b[0]||a[1]-b[1])}var d3_geom_voronoiEdges,d3_geom_voronoiCells,d3_geom_voronoiBeaches,d3_geom_voronoiBeachPool=[],d3_geom_voronoiFirstCircle,d3_geom_voronoiCircles,d3_geom_voronoiCirclePool=[];function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this);this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(site){var beach=d3_geom_voronoiBeachPool.pop()||new d3_geom_voronoiBeach;beach.site=site;return beach}function d3_geom_voronoiDetachBeach(beach){d3_geom_voronoiDetachCircle(beach);d3_geom_voronoiBeaches.remove(beach);d3_geom_voronoiBeachPool.push(beach);d3_geom_voronoiRedBlackNode(beach)}function d3_geom_voronoiRemoveBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex={x:x,y:y},previous=beach.P,next=beach.N,disappearing=[beach];d3_geom_voronoiDetachBeach(beach);var lArc=previous;while(lArc.circle&&abs(x-lArc.circle.x)<ε&&abs(y-lArc.circle.cy)<ε){previous=lArc.P;disappearing.unshift(lArc);d3_geom_voronoiDetachBeach(lArc);lArc=previous}disappearing.unshift(lArc);d3_geom_voronoiDetachCircle(lArc);var rArc=next;while(rArc.circle&&abs(x-rArc.circle.x)<ε&&abs(y-rArc.circle.cy)<ε){next=rArc.N;disappearing.push(rArc);d3_geom_voronoiDetachBeach(rArc);rArc=next}disappearing.push(rArc);d3_geom_voronoiDetachCircle(rArc);var nArcs=disappearing.length,iArc;for(iArc=1;iArc<nArcs;++iArc){rArc=disappearing[iArc];lArc=disappearing[iArc-1];d3_geom_voronoiSetEdgeEnd(rArc.edge,lArc.site,rArc.site,vertex)}lArc=disappearing[0];rArc=disappearing[nArcs-1];rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,rArc.site,null,vertex);d3_geom_voronoiAttachCircle(lArc);d3_geom_voronoiAttachCircle(rArc)}function d3_geom_voronoiAddBeach(site){var x=site.x,directrix=site.y,lArc,rArc,dxl,dxr,node=d3_geom_voronoiBeaches._;while(node){dxl=d3_geom_voronoiLeftBreakPoint(node,directrix)-x;if(dxl>ε)node=node.L;else{dxr=x-d3_geom_voronoiRightBreakPoint(node,directrix);if(dxr>ε){if(!node.R){lArc=node;break}node=node.R}else{if(dxl>-ε){lArc=node.P;rArc=node}else if(dxr>-ε){lArc=node;rArc=node.N}else{lArc=rArc=node}break}}}var newArc=d3_geom_voronoiCreateBeach(site);d3_geom_voronoiBeaches.insert(lArc,newArc);if(!lArc&&!rArc)return;if(lArc===rArc){d3_geom_voronoiDetachCircle(lArc);rArc=d3_geom_voronoiCreateBeach(lArc.site);d3_geom_voronoiBeaches.insert(newArc,rArc);newArc.edge=rArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site);d3_geom_voronoiAttachCircle(lArc);d3_geom_voronoiAttachCircle(rArc);return}if(!rArc){newArc.edge=d3_geom_voronoiCreateEdge(lArc.site,newArc.site);return}d3_geom_voronoiDetachCircle(lArc);d3_geom_voronoiDetachCircle(rArc);var lSite=lArc.site,ax=lSite.x,ay=lSite.y,bx=site.x-ax,by=site.y-ay,rSite=rArc.site,cx=rSite.x-ax,cy=rSite.y-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex={x:(cy*hb-by*hc)/d+ax,y:(bx*hc-cx*hb)/d+ay};d3_geom_voronoiSetEdgeEnd(rArc.edge,lSite,rSite,vertex);newArc.edge=d3_geom_voronoiCreateEdge(lSite,site,null,vertex);rArc.edge=d3_geom_voronoiCreateEdge(site,rSite,null,vertex);d3_geom_voronoiAttachCircle(lArc);d3_geom_voronoiAttachCircle(rArc)}function d3_geom_voronoiLeftBreakPoint(arc,directrix){var site=arc.site,rfocx=site.x,rfocy=site.y,pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-Infinity;site=lArc.site;var lfocx=site.x,lfocy=site.y,plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;if(aby2)return(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx;return(rfocx+lfocx)/2}function d3_geom_voronoiRightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return d3_geom_voronoiLeftBreakPoint(rArc,directrix);var site=arc.site;return site.y===directrix?site.x:Infinity}function d3_geom_voronoiCell(site){this.site=site;this.edges=[]}d3_geom_voronoiCell.prototype.prepare=function(){var halfEdges=this.edges,iHalfEdge=halfEdges.length,edge;while(iHalfEdge--){edge=halfEdges[iHalfEdge].edge;if(!edge.b||!edge.a)halfEdges.splice(iHalfEdge,1)}halfEdges.sort(d3_geom_voronoiHalfEdgeOrder);return halfEdges.length};function d3_geom_voronoiCloseCells(extent){var x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],x2,y2,x3,y3,cells=d3_geom_voronoiCells,iCell=cells.length,cell,iHalfEdge,halfEdges,nHalfEdges,start,end;while(iCell--){cell=cells[iCell];if(!cell||!cell.prepare())continue;halfEdges=cell.edges;nHalfEdges=halfEdges.length;iHalfEdge=0;while(iHalfEdge<nHalfEdges){end=halfEdges[iHalfEdge].end(),x3=end.x,y3=end.y;start=halfEdges[++iHalfEdge%nHalfEdges].start(),x2=start.x,y2=start.y;if(abs(x3-x2)>ε||abs(y3-y2)>ε){halfEdges.splice(iHalfEdge,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site,end,abs(x3-x0)<ε&&y1-y3>ε?{x:x0,y:abs(x2-x0)<ε?y2:y1}:abs(y3-y1)<ε&&x1-x3>ε?{x:abs(y2-y1)<ε?x2:x1,y:y1}:abs(x3-x1)<ε&&y3-y0>ε?{x:x1,y:abs(x2-x1)<ε?y2:y0}:abs(y3-y0)<ε&&x3-x0>ε?{x:abs(y2-y0)<ε?x2:x0,y:y0}:null),cell.site,null));++nHalfEdges}}}}function d3_geom_voronoiHalfEdgeOrder(a,b){return b.angle-a.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this);this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(arc){var lArc=arc.P,rArc=arc.N;if(!lArc||!rArc)return;var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite===rSite)return;var bx=cSite.x,by=cSite.y,ax=lSite.x-bx,ay=lSite.y-by,cx=rSite.x-bx,cy=rSite.y-by;var d=2*(ax*cy-ay*cx);if(d>=-ε2)return;var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d,cy=y+by;var circle=d3_geom_voronoiCirclePool.pop()||new d3_geom_voronoiCircle;circle.arc=arc;circle.site=cSite;circle.x=x+bx;circle.y=cy+Math.sqrt(x*x+y*y);circle.cy=cy;arc.circle=circle;var before=null,node=d3_geom_voronoiCircles._;while(node){if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(node.L)node=node.L;else{before=node.P;break}}else{if(node.R)node=node.R;else{before=node;break}}}d3_geom_voronoiCircles.insert(before,circle);if(!before)d3_geom_voronoiFirstCircle=circle}function d3_geom_voronoiDetachCircle(arc){var circle=arc.circle;if(circle){if(!circle.P)d3_geom_voronoiFirstCircle=circle.N;d3_geom_voronoiCircles.remove(circle);d3_geom_voronoiCirclePool.push(circle);d3_geom_voronoiRedBlackNode(circle);arc.circle=null}}function d3_geom_voronoiClipEdges(extent){var edges=d3_geom_voronoiEdges,clip=d3_geom_clipLine(extent[0][0],extent[0][1],extent[1][0],extent[1][1]),i=edges.length,e;while(i--){e=edges[i];if(!d3_geom_voronoiConnectEdge(e,extent)||!clip(e)||abs(e.a.x-e.b.x)<ε&&abs(e.a.y-e.b.y)<ε){e.a=e.b=null;edges.splice(i,1)}}}function d3_geom_voronoiConnectEdge(edge,extent){var vb=edge.b;if(vb)return true;var va=edge.a,x0=extent[0][0],x1=extent[1][0],y0=extent[0][1],y1=extent[1][1],lSite=edge.l,rSite=edge.r,lx=lSite.x,ly=lSite.y,rx=rSite.x,ry=rSite.y,fx=(lx+rx)/2,fy=(ly+ry)/2,fm,fb;if(ry===ly){if(fx<x0||fx>=x1)return;if(lx>rx){if(!va)va={x:fx,y:y0};else if(va.y>=y1)return;vb={x:fx,y:y1}}else{if(!va)va={x:fx,y:y1};else if(va.y<y0)return;vb={x:fx,y:y0}}}else{fm=(lx-rx)/(ry-ly);fb=fy-fm*fx;if(fm<-1||fm>1){if(lx>rx){if(!va)va={x:(y0-fb)/fm,y:y0};else if(va.y>=y1)return;vb={x:(y1-fb)/fm,y:y1}}else{if(!va)va={x:(y1-fb)/fm,y:y1};else if(va.y<y0)return;vb={x:(y0-fb)/fm,y:y0}}}else{if(ly<ry){if(!va)va={x:x0,y:fm*x0+fb};else if(va.x>=x1)return;vb={x:x1,y:fm*x1+fb}}else{if(!va)va={x:x1,y:fm*x1+fb};else if(va.x<x0)return;vb={x:x0,y:fm*x0+fb}}}}edge.a=va;edge.b=vb;return true}function d3_geom_voronoiEdge(lSite,rSite){this.l=lSite;this.r=rSite;this.a=this.b=null}function d3_geom_voronoiCreateEdge(lSite,rSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,rSite);d3_geom_voronoiEdges.push(edge);if(va)d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,va);if(vb)d3_geom_voronoiSetEdgeEnd(edge,rSite,lSite,vb);d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,lSite,rSite));d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge,rSite,lSite));return edge}function d3_geom_voronoiCreateBorderEdge(lSite,va,vb){var edge=new d3_geom_voronoiEdge(lSite,null);edge.a=va;edge.b=vb;d3_geom_voronoiEdges.push(edge);return edge}function d3_geom_voronoiSetEdgeEnd(edge,lSite,rSite,vertex){if(!edge.a&&!edge.b){edge.a=vertex;edge.l=lSite;edge.r=rSite}else if(edge.l===rSite){edge.b=vertex}else{edge.a=vertex}}function d3_geom_voronoiHalfEdge(edge,lSite,rSite){var va=edge.a,vb=edge.b;this.edge=edge;this.site=lSite;this.angle=rSite?Math.atan2(rSite.y-lSite.y,rSite.x-lSite.x):edge.l===lSite?Math.atan2(vb.x-va.x,va.y-vb.y):Math.atan2(va.x-vb.x,vb.y-va.y)}d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null
}d3_geom_voronoiRedBlackTree.prototype={insert:function(after,node){var parent,grandpa,uncle;if(after){node.P=after;node.N=after.N;if(after.N)after.N.P=node;after.N=node;if(after.R){after=after.R;while(after.L)after=after.L;after.L=node}else{after.R=node}parent=after}else if(this._){after=d3_geom_voronoiRedBlackFirst(this._);node.P=null;node.N=after;after.P=after.L=node;parent=after}else{node.P=node.N=null;this._=node;parent=null}node.L=node.R=null;node.U=parent;node.C=true;after=node;while(parent&&parent.C){grandpa=parent.U;if(parent===grandpa.L){uncle=grandpa.R;if(uncle&&uncle.C){parent.C=uncle.C=false;grandpa.C=true;after=grandpa}else{if(after===parent.R){d3_geom_voronoiRedBlackRotateLeft(this,parent);after=parent;parent=after.U}parent.C=false;grandpa.C=true;d3_geom_voronoiRedBlackRotateRight(this,grandpa)}}else{uncle=grandpa.L;if(uncle&&uncle.C){parent.C=uncle.C=false;grandpa.C=true;after=grandpa}else{if(after===parent.L){d3_geom_voronoiRedBlackRotateRight(this,parent);after=parent;parent=after.U}parent.C=false;grandpa.C=true;d3_geom_voronoiRedBlackRotateLeft(this,grandpa)}}parent=after.U}this._.C=false},remove:function(node){if(node.N)node.N.P=node.P;if(node.P)node.P.N=node.N;node.N=node.P=null;var parent=node.U,sibling,left=node.L,right=node.R,next,red;if(!left)next=right;else if(!right)next=left;else next=d3_geom_voronoiRedBlackFirst(right);if(parent){if(parent.L===node)parent.L=next;else parent.R=next}else{this._=next}if(left&&right){red=next.C;next.C=node.C;next.L=left;left.U=next;if(next!==right){parent=next.U;next.U=node.U;node=next.R;parent.L=node;next.R=right;right.U=next}else{next.U=parent;parent=next;node=next.R}}else{red=node.C;node=next}if(node)node.U=parent;if(red)return;if(node&&node.C){node.C=false;return}do{if(node===this._)break;if(node===parent.L){sibling=parent.R;if(sibling.C){sibling.C=false;parent.C=true;d3_geom_voronoiRedBlackRotateLeft(this,parent);sibling=parent.R}if(sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){if(!sibling.R||!sibling.R.C){sibling.L.C=false;sibling.C=true;d3_geom_voronoiRedBlackRotateRight(this,sibling);sibling=parent.R}sibling.C=parent.C;parent.C=sibling.R.C=false;d3_geom_voronoiRedBlackRotateLeft(this,parent);node=this._;break}}else{sibling=parent.L;if(sibling.C){sibling.C=false;parent.C=true;d3_geom_voronoiRedBlackRotateRight(this,parent);sibling=parent.L}if(sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){if(!sibling.L||!sibling.L.C){sibling.R.C=false;sibling.C=true;d3_geom_voronoiRedBlackRotateLeft(this,sibling);sibling=parent.L}sibling.C=parent.C;parent.C=sibling.L.C=false;d3_geom_voronoiRedBlackRotateRight(this,parent);node=this._;break}}sibling.C=true;node=parent;parent=parent.U}while(!node.C);if(node)node.C=false}};function d3_geom_voronoiRedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;if(parent){if(parent.L===p)parent.L=q;else parent.R=q}else{tree._=q}q.U=parent;p.U=q;p.R=q.L;if(p.R)p.R.U=p;q.L=p}function d3_geom_voronoiRedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;if(parent){if(parent.L===p)parent.L=q;else parent.R=q}else{tree._=q}q.U=parent;p.U=q;p.L=q.R;if(p.L)p.L.U=p;q.R=p}function d3_geom_voronoiRedBlackFirst(node){while(node.L)node=node.L;return node}function d3_geom_voronoi(sites,bbox){var site=sites.sort(d3_geom_voronoiVertexOrder).pop(),x0,y0,circle;d3_geom_voronoiEdges=[];d3_geom_voronoiCells=new Array(sites.length);d3_geom_voronoiBeaches=new d3_geom_voronoiRedBlackTree;d3_geom_voronoiCircles=new d3_geom_voronoiRedBlackTree;while(true){circle=d3_geom_voronoiFirstCircle;if(site&&(!circle||site.y<circle.y||site.y===circle.y&&site.x<circle.x)){if(site.x!==x0||site.y!==y0){d3_geom_voronoiCells[site.i]=new d3_geom_voronoiCell(site);d3_geom_voronoiAddBeach(site);x0=site.x,y0=site.y}site=sites.pop()}else if(circle){d3_geom_voronoiRemoveBeach(circle.arc)}else{break}}if(bbox)d3_geom_voronoiClipEdges(bbox),d3_geom_voronoiCloseCells(bbox);var diagram={cells:d3_geom_voronoiCells,edges:d3_geom_voronoiEdges};d3_geom_voronoiBeaches=d3_geom_voronoiCircles=d3_geom_voronoiEdges=d3_geom_voronoiCells=null;return diagram}function d3_geom_voronoiVertexOrder(a,b){return b.y-a.y||b.x-a.x}d3.geom.voronoi=function(points){var x=d3_geom_pointX,y=d3_geom_pointY,fx=x,fy=y,clipExtent=d3_geom_voronoiClipExtent;if(points)return voronoi(points);function voronoi(data){var polygons=new Array(data.length),x0=clipExtent[0][0],y0=clipExtent[0][1],x1=clipExtent[1][0],y1=clipExtent[1][1];d3_geom_voronoi(sites(data),clipExtent).cells.forEach(function(cell,i){var edges=cell.edges,site=cell.site,polygon=polygons[i]=edges.length?edges.map(function(e){var s=e.start();return[s.x,s.y]}):site.x>=x0&&site.x<=x1&&site.y>=y0&&site.y<=y1?[[x0,y1],[x1,y1],[x1,y0],[x0,y0]]:[];polygon.point=data[i]});return polygons}function sites(data){return data.map(function(d,i){return{x:Math.round(fx(d,i)/ε)*ε,y:Math.round(fy(d,i)/ε)*ε,i:i}})}voronoi.links=function(data){return d3_geom_voronoi(sites(data)).edges.filter(function(edge){return edge.l&&edge.r}).map(function(edge){return{source:data[edge.l.i],target:data[edge.r.i]}})};voronoi.triangles=function(data){var triangles=[];d3_geom_voronoi(sites(data)).cells.forEach(function(cell,i){var site=cell.site,edges=cell.edges.sort(d3_geom_voronoiHalfEdgeOrder),j=-1,m=edges.length,e0,s0,e1=edges[m-1].edge,s1=e1.l===site?e1.r:e1.l;while(++j<m){e0=e1;s0=s1;e1=edges[j].edge;s1=e1.l===site?e1.r:e1.l;if(i<s0.i&&i<s1.i&&d3_geom_voronoiTriangleArea(site,s0,s1)<0){triangles.push([data[i],data[s0.i],data[s1.i]])}}});return triangles};voronoi.x=function(_){return arguments.length?(fx=d3_functor(x=_),voronoi):x};voronoi.y=function(_){return arguments.length?(fy=d3_functor(y=_),voronoi):y};voronoi.clipExtent=function(_){if(!arguments.length)return clipExtent===d3_geom_voronoiClipExtent?null:clipExtent;clipExtent=_==null?d3_geom_voronoiClipExtent:_;return voronoi};voronoi.size=function(_){if(!arguments.length)return clipExtent===d3_geom_voronoiClipExtent?null:clipExtent&&clipExtent[1];return voronoi.clipExtent(_&&[[0,0],_])};return voronoi};var d3_geom_voronoiClipExtent=[[-1e6,-1e6],[1e6,1e6]];function d3_geom_voronoiTriangleArea(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}d3.geom.delaunay=function(vertices){return d3.geom.voronoi().triangles(vertices)};d3.geom.quadtree=function(points,x1,y1,x2,y2){var x=d3_geom_pointX,y=d3_geom_pointY,compat;if(compat=arguments.length){x=d3_geom_quadtreeCompatX;y=d3_geom_quadtreeCompatY;if(compat===3){y2=y1;x2=x1;y1=x1=0}return quadtree(points)}function quadtree(data){var d,fx=d3_functor(x),fy=d3_functor(y),xs,ys,i,n,x1_,y1_,x2_,y2_;if(x1!=null){x1_=x1,y1_=y1,x2_=x2,y2_=y2}else{x2_=y2_=-(x1_=y1_=Infinity);xs=[],ys=[];n=data.length;if(compat)for(i=0;i<n;++i){d=data[i];if(d.x<x1_)x1_=d.x;if(d.y<y1_)y1_=d.y;if(d.x>x2_)x2_=d.x;if(d.y>y2_)y2_=d.y;xs.push(d.x);ys.push(d.y)}else for(i=0;i<n;++i){var x_=+fx(d=data[i],i),y_=+fy(d,i);if(x_<x1_)x1_=x_;if(y_<y1_)y1_=y_;if(x_>x2_)x2_=x_;if(y_>y2_)y2_=y_;xs.push(x_);ys.push(y_)}}var dx=x2_-x1_,dy=y2_-y1_;if(dx>dy)y2_=y1_+dx;else x2_=x1_+dy;function insert(n,d,x,y,x1,y1,x2,y2){if(isNaN(x)||isNaN(y))return;if(n.leaf){var nx=n.x,ny=n.y;if(nx!=null){if(abs(nx-x)+abs(ny-y)<.01){insertChild(n,d,x,y,x1,y1,x2,y2)}else{var nPoint=n.point;n.x=n.y=n.point=null;insertChild(n,nPoint,nx,ny,x1,y1,x2,y2);insertChild(n,d,x,y,x1,y1,x2,y2)}}else{n.x=x,n.y=y,n.point=d}}else{insertChild(n,d,x,y,x1,y1,x2,y2)}}function insertChild(n,d,x,y,x1,y1,x2,y2){var sx=(x1+x2)*.5,sy=(y1+y2)*.5,right=x>=sx,bottom=y>=sy,i=(bottom<<1)+right;n.leaf=false;n=n.nodes[i]||(n.nodes[i]=d3_geom_quadtreeNode());if(right)x1=sx;else x2=sx;if(bottom)y1=sy;else y2=sy;insert(n,d,x,y,x1,y1,x2,y2)}var root=d3_geom_quadtreeNode();root.add=function(d){insert(root,d,+fx(d,++i),+fy(d,i),x1_,y1_,x2_,y2_)};root.visit=function(f){d3_geom_quadtreeVisit(f,root,x1_,y1_,x2_,y2_)};i=-1;if(x1==null){while(++i<n){insert(root,data[i],xs[i],ys[i],x1_,y1_,x2_,y2_)}--i}else data.forEach(root.add);xs=ys=data=d=null;return root}quadtree.x=function(_){return arguments.length?(x=_,quadtree):x};quadtree.y=function(_){return arguments.length?(y=_,quadtree):y};quadtree.extent=function(_){if(!arguments.length)return x1==null?null:[[x1,y1],[x2,y2]];if(_==null)x1=y1=x2=y2=null;else x1=+_[0][0],y1=+_[0][1],x2=+_[1][0],y2=+_[1][1];return quadtree};quadtree.size=function(_){if(!arguments.length)return x1==null?null:[x2-x1,y2-y1];if(_==null)x1=y1=x2=y2=null;else x1=y1=0,x2=+_[0],y2=+_[1];return quadtree};return quadtree};function d3_geom_quadtreeCompatX(d){return d.x}function d3_geom_quadtreeCompatY(d){return d.y}function d3_geom_quadtreeNode(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(f,node,x1,y1,x2,y2){if(!f(node,x1,y1,x2,y2)){var sx=(x1+x2)*.5,sy=(y1+y2)*.5,children=node.nodes;if(children[0])d3_geom_quadtreeVisit(f,children[0],x1,y1,sx,sy);if(children[1])d3_geom_quadtreeVisit(f,children[1],sx,y1,x2,sy);if(children[2])d3_geom_quadtreeVisit(f,children[2],x1,sy,sx,y2);if(children[3])d3_geom_quadtreeVisit(f,children[3],sx,sy,x2,y2)}}d3.interpolateRgb=d3_interpolateRgb;function d3_interpolateRgb(a,b){a=d3.rgb(a);b=d3.rgb(b);var ar=a.r,ag=a.g,ab=a.b,br=b.r-ar,bg=b.g-ag,bb=b.b-ab;return function(t){return"#"+d3_rgb_hex(Math.round(ar+br*t))+d3_rgb_hex(Math.round(ag+bg*t))+d3_rgb_hex(Math.round(ab+bb*t))}}d3.interpolateObject=d3_interpolateObject;function d3_interpolateObject(a,b){var i={},c={},k;for(k in a){if(k in b){i[k]=d3_interpolate(a[k],b[k])}else{c[k]=a[k]}}for(k in b){if(!(k in a)){c[k]=b[k]}}return function(t){for(k in i)c[k]=i[k](t);return c}}d3.interpolateNumber=d3_interpolateNumber;function d3_interpolateNumber(a,b){a=+a,b=+b;return function(t){return a*(1-t)+b*t}}d3.interpolateString=d3_interpolateString;function d3_interpolateString(a,b){var bi=d3_interpolate_numberA.lastIndex=d3_interpolate_numberB.lastIndex=0,am,bm,bs,i=-1,s=[],q=[];a=a+"",b=b+"";while((am=d3_interpolate_numberA.exec(a))&&(bm=d3_interpolate_numberB.exec(b))){if((bs=bm.index)>bi){bs=b.slice(bi,bs);if(s[i])s[i]+=bs;else s[++i]=bs}if((am=am[0])===(bm=bm[0])){if(s[i])s[i]+=bm;else s[++i]=bm}else{s[++i]=null;q.push({i:i,x:d3_interpolateNumber(am,bm)})}bi=d3_interpolate_numberB.lastIndex}if(bi<b.length){bs=b.slice(bi);if(s[i])s[i]+=bs;else s[++i]=bs}return s.length<2?q[0]?(b=q[0].x,function(t){return b(t)+""}):function(){return b}:(b=q.length,function(t){for(var i=0,o;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}var d3_interpolate_numberA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d3_interpolate_numberB=new RegExp(d3_interpolate_numberA.source,"g");d3.interpolate=d3_interpolate;function d3_interpolate(a,b){var i=d3.interpolators.length,f;while(--i>=0&&!(f=d3.interpolators[i](a,b)));return f}d3.interpolators=[function(a,b){var t=typeof b;return(t==="string"?d3_rgb_names.has(b)||/^(#|rgb\(|hsl\()/.test(b)?d3_interpolateRgb:d3_interpolateString:b instanceof d3_color?d3_interpolateRgb:Array.isArray(b)?d3_interpolateArray:t==="object"&&isNaN(b)?d3_interpolateObject:d3_interpolateNumber)(a,b)}];d3.interpolateArray=d3_interpolateArray;function d3_interpolateArray(a,b){var x=[],c=[],na=a.length,nb=b.length,n0=Math.min(a.length,b.length),i;for(i=0;i<n0;++i)x.push(d3_interpolate(a[i],b[i]));for(;i<na;++i)c[i]=a[i];for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<n0;++i)c[i]=x[i](t);return c}}var d3_ease_default=function(){return d3_identity};var d3_ease=d3.map({linear:d3_ease_default,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}});var d3_ease_mode=d3.map({"in":d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(f){return d3_ease_reflect(d3_ease_reverse(f))}});d3.ease=function(name){var i=name.indexOf("-"),t=i>=0?name.slice(0,i):name,m=i>=0?name.slice(i+1):"in";t=d3_ease.get(t)||d3_ease_default;m=d3_ease_mode.get(m)||d3_identity;return d3_ease_clamp(m(t.apply(null,d3_arraySlice.call(arguments,1))))};function d3_ease_clamp(f){return function(t){return t<=0?0:t>=1?1:f(t)}}function d3_ease_reverse(f){return function(t){return 1-f(1-t)}}function d3_ease_reflect(f){return function(t){return.5*(t<.5?f(2*t):2-f(2-2*t))}}function d3_ease_quad(t){return t*t}function d3_ease_cubic(t){return t*t*t}function d3_ease_cubicInOut(t){if(t<=0)return 0;if(t>=1)return 1;var t2=t*t,t3=t2*t;return 4*(t<.5?t3:3*(t-t2)+t3-.75)}function d3_ease_poly(e){return function(t){return Math.pow(t,e)}}function d3_ease_sin(t){return 1-Math.cos(t*halfπ)}function d3_ease_exp(t){return Math.pow(2,10*(t-1))}function d3_ease_circle(t){return 1-Math.sqrt(1-t*t)}function d3_ease_elastic(a,p){var s;if(arguments.length<2)p=.45;if(arguments.length)s=p/τ*Math.asin(1/a);else a=1,s=p/4;return function(t){return 1+a*Math.pow(2,-10*t)*Math.sin((t-s)*τ/p)}}function d3_ease_back(s){if(!s)s=1.70158;return function(t){return t*t*((s+1)*t-s)}}function d3_ease_bounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}d3.interpolateHcl=d3_interpolateHcl;function d3_interpolateHcl(a,b){a=d3.hcl(a);b=d3.hcl(b);var ah=a.h,ac=a.c,al=a.l,bh=b.h-ah,bc=b.c-ac,bl=b.l-al;if(isNaN(bc))bc=0,ac=isNaN(ac)?b.c:ac;if(isNaN(bh))bh=0,ah=isNaN(ah)?b.h:ah;else if(bh>180)bh-=360;else if(bh<-180)bh+=360;return function(t){return d3_hcl_lab(ah+bh*t,ac+bc*t,al+bl*t)+""}}d3.interpolateHsl=d3_interpolateHsl;function d3_interpolateHsl(a,b){a=d3.hsl(a);b=d3.hsl(b);var ah=a.h,as=a.s,al=a.l,bh=b.h-ah,bs=b.s-as,bl=b.l-al;if(isNaN(bs))bs=0,as=isNaN(as)?b.s:as;if(isNaN(bh))bh=0,ah=isNaN(ah)?b.h:ah;else if(bh>180)bh-=360;else if(bh<-180)bh+=360;return function(t){return d3_hsl_rgb(ah+bh*t,as+bs*t,al+bl*t)+""}}d3.interpolateLab=d3_interpolateLab;function d3_interpolateLab(a,b){a=d3.lab(a);b=d3.lab(b);var al=a.l,aa=a.a,ab=a.b,bl=b.l-al,ba=b.a-aa,bb=b.b-ab;return function(t){return d3_lab_rgb(al+bl*t,aa+ba*t,ab+bb*t)+""}}d3.interpolateRound=d3_interpolateRound;function d3_interpolateRound(a,b){b-=a;return function(t){return Math.round(a+b*t)}}d3.transform=function(string){var g=d3_document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(string){if(string!=null){g.setAttribute("transform",string);var t=g.transform.baseVal.consolidate()}return new d3_transform(t?t.matrix:d3_transformIdentity)})(string)};function d3_transform(m){var r0=[m.a,m.b],r1=[m.c,m.d],kx=d3_transformNormalize(r0),kz=d3_transformDot(r0,r1),ky=d3_transformNormalize(d3_transformCombine(r1,r0,-kz))||0;if(r0[0]*r1[1]<r1[0]*r0[1]){r0[0]*=-1;r0[1]*=-1;kx*=-1;kz*=-1}this.rotate=(kx?Math.atan2(r0[1],r0[0]):Math.atan2(-r1[0],r1[1]))*d3_degrees;this.translate=[m.e,m.f];this.scale=[kx,ky];this.skew=ky?Math.atan2(kz,ky)*d3_degrees:0}d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function d3_transformDot(a,b){return a[0]*b[0]+a[1]*b[1]}function d3_transformNormalize(a){var k=Math.sqrt(d3_transformDot(a,a));if(k){a[0]/=k;a[1]/=k}return k}function d3_transformCombine(a,b,k){a[0]+=k*b[0];a[1]+=k*b[1];return a}var d3_transformIdentity={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolateTransform=d3_interpolateTransform;function d3_interpolateTransform(a,b){var s=[],q=[],n,A=d3.transform(a),B=d3.transform(b),ta=A.translate,tb=B.translate,ra=A.rotate,rb=B.rotate,wa=A.skew,wb=B.skew,ka=A.scale,kb=B.scale;if(ta[0]!=tb[0]||ta[1]!=tb[1]){s.push("translate(",null,",",null,")");q.push({i:1,x:d3_interpolateNumber(ta[0],tb[0])},{i:3,x:d3_interpolateNumber(ta[1],tb[1])})}else if(tb[0]||tb[1]){s.push("translate("+tb+")")}else{s.push("")}if(ra!=rb){if(ra-rb>180)rb+=360;else if(rb-ra>180)ra+=360;q.push({i:s.push(s.pop()+"rotate(",null,")")-2,x:d3_interpolateNumber(ra,rb)})}else if(rb){s.push(s.pop()+"rotate("+rb+")")}if(wa!=wb){q.push({i:s.push(s.pop()+"skewX(",null,")")-2,x:d3_interpolateNumber(wa,wb)})}else if(wb){s.push(s.pop()+"skewX("+wb+")")}if(ka[0]!=kb[0]||ka[1]!=kb[1]){n=s.push(s.pop()+"scale(",null,",",null,")");q.push({i:n-4,x:d3_interpolateNumber(ka[0],kb[0])},{i:n-2,x:d3_interpolateNumber(ka[1],kb[1])})}else if(kb[0]!=1||kb[1]!=1){s.push(s.pop()+"scale("+kb+")")}n=q.length;return function(t){var i=-1,o;while(++i<n)s[(o=q[i]).i]=o.x(t);return s.join("")}}function d3_uninterpolateNumber(a,b){b=(b-=a=+a)||1/b;return function(x){return(x-a)/b}}function d3_uninterpolateClamp(a,b){b=(b-=a=+a)||1/b;return function(x){return Math.max(0,Math.min(1,(x-a)/b))}}d3.layout={};d3.layout.bundle=function(){return function(links){var paths=[],i=-1,n=links.length;while(++i<n)paths.push(d3_layout_bundlePath(links[i]));return paths}};function d3_layout_bundlePath(link){var start=link.source,end=link.target,lca=d3_layout_bundleLeastCommonAncestor(start,end),points=[start];while(start!==lca){start=start.parent;points.push(start)}var k=points.length;while(end!==lca){points.splice(k,0,end);end=end.parent}return points}function d3_layout_bundleAncestors(node){var ancestors=[],parent=node.parent;while(parent!=null){ancestors.push(node);node=parent;parent=parent.parent}ancestors.push(node);return ancestors}function d3_layout_bundleLeastCommonAncestor(a,b){if(a===b)return a;var aNodes=d3_layout_bundleAncestors(a),bNodes=d3_layout_bundleAncestors(b),aNode=aNodes.pop(),bNode=bNodes.pop(),sharedNode=null;while(aNode===bNode){sharedNode=aNode;aNode=aNodes.pop();bNode=bNodes.pop()}return sharedNode}d3.layout.chord=function(){var chord={},chords,groups,matrix,n,padding=0,sortGroups,sortSubgroups,sortChords;function relayout(){var subgroups={},groupSums=[],groupIndex=d3.range(n),subgroupIndex=[],k,x,x0,i,j;chords=[];groups=[];k=0,i=-1;while(++i<n){x=0,j=-1;while(++j<n){x+=matrix[i][j]}groupSums.push(x);subgroupIndex.push(d3.range(n));k+=x}if(sortGroups){groupIndex.sort(function(a,b){return sortGroups(groupSums[a],groupSums[b])})}if(sortSubgroups){subgroupIndex.forEach(function(d,i){d.sort(function(a,b){return sortSubgroups(matrix[i][a],matrix[i][b])})})}k=(τ-padding*n)/k;x=0,i=-1;while(++i<n){x0=x,j=-1;while(++j<n){var di=groupIndex[i],dj=subgroupIndex[di][j],v=matrix[di][dj],a0=x,a1=x+=v*k;subgroups[di+"-"+dj]={index:di,subindex:dj,startAngle:a0,endAngle:a1,value:v}}groups[di]={index:di,startAngle:x0,endAngle:x,value:(x-x0)/k};x+=padding}i=-1;while(++i<n){j=i-1;while(++j<n){var source=subgroups[i+"-"+j],target=subgroups[j+"-"+i];if(source.value||target.value){chords.push(source.value<target.value?{source:target,target:source}:{source:source,target:target})}}}if(sortChords)resort()}function resort(){chords.sort(function(a,b){return sortChords((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}chord.matrix=function(x){if(!arguments.length)return matrix;n=(matrix=x)&&matrix.length;chords=groups=null;return chord};chord.padding=function(x){if(!arguments.length)return padding;padding=x;chords=groups=null;return chord};chord.sortGroups=function(x){if(!arguments.length)return sortGroups;sortGroups=x;chords=groups=null;return chord};chord.sortSubgroups=function(x){if(!arguments.length)return sortSubgroups;sortSubgroups=x;chords=null;return chord};chord.sortChords=function(x){if(!arguments.length)return sortChords;sortChords=x;if(chords)resort();return chord};chord.chords=function(){if(!chords)relayout();return chords};chord.groups=function(){if(!groups)relayout();return groups};return chord};d3.layout.force=function(){var force={},event=d3.dispatch("start","tick","end"),size=[1,1],drag,alpha,friction=.9,linkDistance=d3_layout_forceLinkDistance,linkStrength=d3_layout_forceLinkStrength,charge=-30,chargeDistance2=d3_layout_forceChargeDistance2,gravity=.1,theta2=.64,nodes=[],links=[],distances,strengths,charges;function repulse(node){return function(quad,x1,_,x2){if(quad.point!==node){var dx=quad.cx-node.x,dy=quad.cy-node.y,dw=x2-x1,dn=dx*dx+dy*dy;if(dw*dw/theta2<dn){if(dn<chargeDistance2){var k=quad.charge/dn;node.px-=dx*k;node.py-=dy*k}return true}if(quad.point&&dn&&dn<chargeDistance2){var k=quad.pointCharge/dn;node.px-=dx*k;node.py-=dy*k}}return!quad.charge}}force.tick=function(){if((alpha*=.99)<.005){event.end({type:"end",alpha:alpha=0});return true}var n=nodes.length,m=links.length,q,i,o,s,t,l,k,x,y;for(i=0;i<m;++i){o=links[i];s=o.source;t=o.target;x=t.x-s.x;y=t.y-s.y;if(l=x*x+y*y){l=alpha*strengths[i]*((l=Math.sqrt(l))-distances[i])/l;x*=l;y*=l;t.x-=x*(k=s.weight/(t.weight+s.weight));t.y-=y*k;s.x+=x*(k=1-k);s.y+=y*k}}if(k=alpha*gravity){x=size[0]/2;y=size[1]/2;i=-1;if(k)while(++i<n){o=nodes[i];o.x+=(x-o.x)*k;o.y+=(y-o.y)*k}}if(charge){d3_layout_forceAccumulate(q=d3.geom.quadtree(nodes),alpha,charges);i=-1;while(++i<n){if(!(o=nodes[i]).fixed){q.visit(repulse(o))}}}i=-1;while(++i<n){o=nodes[i];if(o.fixed){o.x=o.px;o.y=o.py}else{o.x-=(o.px-(o.px=o.x))*friction;o.y-=(o.py-(o.py=o.y))*friction}}event.tick({type:"tick",alpha:alpha})};force.nodes=function(x){if(!arguments.length)return nodes;nodes=x;return force};force.links=function(x){if(!arguments.length)return links;links=x;return force};force.size=function(x){if(!arguments.length)return size;size=x;return force};force.linkDistance=function(x){if(!arguments.length)return linkDistance;linkDistance=typeof x==="function"?x:+x;return force};force.distance=force.linkDistance;force.linkStrength=function(x){if(!arguments.length)return linkStrength;linkStrength=typeof x==="function"?x:+x;return force};force.friction=function(x){if(!arguments.length)return friction;friction=+x;return force};force.charge=function(x){if(!arguments.length)return charge;charge=typeof x==="function"?x:+x;return force};force.chargeDistance=function(x){if(!arguments.length)return Math.sqrt(chargeDistance2);chargeDistance2=x*x;return force};force.gravity=function(x){if(!arguments.length)return gravity;gravity=+x;return force};force.theta=function(x){if(!arguments.length)return Math.sqrt(theta2);theta2=x*x;return force};force.alpha=function(x){if(!arguments.length)return alpha;x=+x;if(alpha){if(x>0)alpha=x;else alpha=0}else if(x>0){event.start({type:"start",alpha:alpha=x});d3.timer(force.tick)}return force};force.start=function(){var i,n=nodes.length,m=links.length,w=size[0],h=size[1],neighbors,o;for(i=0;i<n;++i){(o=nodes[i]).index=i;o.weight=0}for(i=0;i<m;++i){o=links[i];if(typeof o.source=="number")o.source=nodes[o.source];if(typeof o.target=="number")o.target=nodes[o.target];++o.source.weight;++o.target.weight}for(i=0;i<n;++i){o=nodes[i];if(isNaN(o.x))o.x=position("x",w);if(isNaN(o.y))o.y=position("y",h);if(isNaN(o.px))o.px=o.x;if(isNaN(o.py))o.py=o.y}distances=[];if(typeof linkDistance==="function")for(i=0;i<m;++i)distances[i]=+linkDistance.call(this,links[i],i);else for(i=0;i<m;++i)distances[i]=linkDistance;strengths=[];if(typeof linkStrength==="function")for(i=0;i<m;++i)strengths[i]=+linkStrength.call(this,links[i],i);else for(i=0;i<m;++i)strengths[i]=linkStrength;charges=[];if(typeof charge==="function")for(i=0;i<n;++i)charges[i]=+charge.call(this,nodes[i],i);else for(i=0;i<n;++i)charges[i]=charge;function position(dimension,size){if(!neighbors){neighbors=new Array(n);for(j=0;j<n;++j){neighbors[j]=[]}for(j=0;j<m;++j){var o=links[j];neighbors[o.source.index].push(o.target);neighbors[o.target.index].push(o.source)}}var candidates=neighbors[i],j=-1,m=candidates.length,x;while(++j<m)if(!isNaN(x=candidates[j][dimension]))return x;return Math.random()*size}return force.resume()};force.resume=function(){return force.alpha(.1)};force.stop=function(){return force.alpha(0)};force.drag=function(){if(!drag)drag=d3.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend);if(!arguments.length)return drag;this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(drag)};function dragmove(d){d.px=d3.event.x,d.py=d3.event.y;force.resume()}return d3.rebind(force,event,"on")};function d3_layout_forceDragstart(d){d.fixed|=2}function d3_layout_forceDragend(d){d.fixed&=~6}function d3_layout_forceMouseover(d){d.fixed|=4;d.px=d.x,d.py=d.y}function d3_layout_forceMouseout(d){d.fixed&=~4}function d3_layout_forceAccumulate(quad,alpha,charges){var cx=0,cy=0;quad.charge=0;if(!quad.leaf){var nodes=quad.nodes,n=nodes.length,i=-1,c;while(++i<n){c=nodes[i];if(c==null)continue;d3_layout_forceAccumulate(c,alpha,charges);quad.charge+=c.charge;cx+=c.charge*c.cx;cy+=c.charge*c.cy}}if(quad.point){if(!quad.leaf){quad.point.x+=Math.random()-.5;quad.point.y+=Math.random()-.5}var k=alpha*charges[quad.point.index];quad.charge+=quad.pointCharge=k;cx+=k*quad.point.x;cy+=k*quad.point.y}quad.cx=cx/quad.charge;quad.cy=cy/quad.charge}var d3_layout_forceLinkDistance=20,d3_layout_forceLinkStrength=1,d3_layout_forceChargeDistance2=Infinity;d3.layout.hierarchy=function(){var sort=d3_layout_hierarchySort,children=d3_layout_hierarchyChildren,value=d3_layout_hierarchyValue;function hierarchy(root){var stack=[root],nodes=[],node;root.depth=0;while((node=stack.pop())!=null){nodes.push(node);if((childs=children.call(hierarchy,node,node.depth))&&(n=childs.length)){var n,childs,child;while(--n>=0){stack.push(child=childs[n]);child.parent=node;child.depth=node.depth+1}if(value)node.value=0;node.children=childs}else{if(value)node.value=+value.call(hierarchy,node,node.depth)||0;delete node.children}}d3_layout_hierarchyVisitAfter(root,function(node){var childs,parent;if(sort&&(childs=node.children))childs.sort(sort);if(value&&(parent=node.parent))parent.value+=node.value});return nodes}hierarchy.sort=function(x){if(!arguments.length)return sort;sort=x;return hierarchy};hierarchy.children=function(x){if(!arguments.length)return children;children=x;return hierarchy};hierarchy.value=function(x){if(!arguments.length)return value;value=x;return hierarchy};hierarchy.revalue=function(root){if(value){d3_layout_hierarchyVisitBefore(root,function(node){if(node.children)node.value=0});d3_layout_hierarchyVisitAfter(root,function(node){var parent;if(!node.children)node.value=+value.call(hierarchy,node,node.depth)||0;if(parent=node.parent)parent.value+=node.value})}return root};return hierarchy};function d3_layout_hierarchyRebind(object,hierarchy){d3.rebind(object,hierarchy,"sort","children","value");object.nodes=object;object.links=d3_layout_hierarchyLinks;return object}function d3_layout_hierarchyVisitBefore(node,callback){var nodes=[node];while((node=nodes.pop())!=null){callback(node);if((children=node.children)&&(n=children.length)){var n,children;while(--n>=0)nodes.push(children[n])}}}function d3_layout_hierarchyVisitAfter(node,callback){var nodes=[node],nodes2=[];while((node=nodes.pop())!=null){nodes2.push(node);if((children=node.children)&&(n=children.length)){var i=-1,n,children;while(++i<n)nodes.push(children[i])}}while((node=nodes2.pop())!=null){callback(node)}}function d3_layout_hierarchyChildren(d){return d.children}function d3_layout_hierarchyValue(d){return d.value}function d3_layout_hierarchySort(a,b){return b.value-a.value}function d3_layout_hierarchyLinks(nodes){return d3.merge(nodes.map(function(parent){return(parent.children||[]).map(function(child){return{source:parent,target:child}})}))}d3.layout.partition=function(){var hierarchy=d3.layout.hierarchy(),size=[1,1];function position(node,x,dx,dy){var children=node.children;node.x=x;node.y=node.depth*dy;node.dx=dx;node.dy=dy;if(children&&(n=children.length)){var i=-1,n,c,d;dx=node.value?dx/node.value:0;while(++i<n){position(c=children[i],x,d=c.value*dx,dy);x+=d}}}function depth(node){var children=node.children,d=0;if(children&&(n=children.length)){var i=-1,n;while(++i<n)d=Math.max(d,depth(children[i]))}return 1+d}function partition(d,i){var nodes=hierarchy.call(this,d,i);position(nodes[0],0,size[0],size[1]/depth(nodes[0]));return nodes}partition.size=function(x){if(!arguments.length)return size;size=x;return partition};return d3_layout_hierarchyRebind(partition,hierarchy)};d3.layout.pie=function(){var value=Number,sort=d3_layout_pieSortByValue,startAngle=0,endAngle=τ;function pie(data){var values=data.map(function(d,i){return+value.call(pie,d,i)});var a=+(typeof startAngle==="function"?startAngle.apply(this,arguments):startAngle);var k=((typeof endAngle==="function"?endAngle.apply(this,arguments):endAngle)-a)/d3.sum(values);var index=d3.range(data.length);if(sort!=null)index.sort(sort===d3_layout_pieSortByValue?function(i,j){return values[j]-values[i]}:function(i,j){return sort(data[i],data[j])});var arcs=[];index.forEach(function(i){var d;arcs[i]={data:data[i],value:d=values[i],startAngle:a,endAngle:a+=d*k}});return arcs}pie.value=function(x){if(!arguments.length)return value;value=x;return pie};pie.sort=function(x){if(!arguments.length)return sort;sort=x;return pie};pie.startAngle=function(x){if(!arguments.length)return startAngle;startAngle=x;return pie};pie.endAngle=function(x){if(!arguments.length)return endAngle;endAngle=x;return pie};return pie};var d3_layout_pieSortByValue={};d3.layout.stack=function(){var values=d3_identity,order=d3_layout_stackOrderDefault,offset=d3_layout_stackOffsetZero,out=d3_layout_stackOut,x=d3_layout_stackX,y=d3_layout_stackY;function stack(data,index){if(!(n=data.length))return data;var series=data.map(function(d,i){return values.call(stack,d,i)});var points=series.map(function(d){return d.map(function(v,i){return[x.call(stack,v,i),y.call(stack,v,i)]})});var orders=order.call(stack,points,index);series=d3.permute(series,orders);points=d3.permute(points,orders);var offsets=offset.call(stack,points,index);var m=series[0].length,n,i,j,o;for(j=0;j<m;++j){out.call(stack,series[0][j],o=offsets[j],points[0][j][1]);for(i=1;i<n;++i){out.call(stack,series[i][j],o+=points[i-1][j][1],points[i][j][1])}}return data}stack.values=function(x){if(!arguments.length)return values;values=x;return stack};stack.order=function(x){if(!arguments.length)return order;order=typeof x==="function"?x:d3_layout_stackOrders.get(x)||d3_layout_stackOrderDefault;return stack};stack.offset=function(x){if(!arguments.length)return offset;offset=typeof x==="function"?x:d3_layout_stackOffsets.get(x)||d3_layout_stackOffsetZero;return stack};stack.x=function(z){if(!arguments.length)return x;x=z;return stack};stack.y=function(z){if(!arguments.length)return y;y=z;return stack};stack.out=function(z){if(!arguments.length)return out;out=z;return stack};return stack};function d3_layout_stackX(d){return d.x}function d3_layout_stackY(d){return d.y}function d3_layout_stackOut(d,y0,y){d.y0=y0;d.y=y}var d3_layout_stackOrders=d3.map({"inside-out":function(data){var n=data.length,i,j,max=data.map(d3_layout_stackMaxIndex),sums=data.map(d3_layout_stackReduceSum),index=d3.range(n).sort(function(a,b){return max[a]-max[b]}),top=0,bottom=0,tops=[],bottoms=[];for(i=0;i<n;++i){j=index[i];if(top<bottom){top+=sums[j];tops.push(j)}else{bottom+=sums[j];bottoms.push(j)}}return bottoms.reverse().concat(tops)},reverse:function(data){return d3.range(data.length).reverse()},"default":d3_layout_stackOrderDefault});var d3_layout_stackOffsets=d3.map({silhouette:function(data){var n=data.length,m=data[0].length,sums=[],max=0,i,j,o,y0=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=data[i][j][1];if(o>max)max=o;sums.push(o)}for(j=0;j<m;++j){y0[j]=(max-sums[j])/2}return y0},wiggle:function(data){var n=data.length,x=data[0],m=x.length,i,j,k,s1,s2,s3,dx,o,o0,y0=[];y0[0]=o=o0=0;for(j=1;j<m;++j){for(i=0,s1=0;i<n;++i)s1+=data[i][j][1];for(i=0,s2=0,dx=x[j][0]-x[j-1][0];i<n;++i){for(k=0,s3=(data[i][j][1]-data[i][j-1][1])/(2*dx);k<i;++k){s3+=(data[k][j][1]-data[k][j-1][1])/dx}s2+=s3*data[i][j][1]}y0[j]=o-=s1?s2/s1*dx:0;if(o<o0)o0=o}for(j=0;j<m;++j)y0[j]-=o0;return y0},expand:function(data){var n=data.length,m=data[0].length,k=1/n,i,j,o,y0=[];for(j=0;j<m;++j){for(i=0,o=0;i<n;i++)o+=data[i][j][1];if(o)for(i=0;i<n;i++)data[i][j][1]/=o;else for(i=0;i<n;i++)data[i][j][1]=k}for(j=0;j<m;++j)y0[j]=0;return y0},zero:d3_layout_stackOffsetZero});function d3_layout_stackOrderDefault(data){return d3.range(data.length)}function d3_layout_stackOffsetZero(data){var j=-1,m=data[0].length,y0=[];
while(++j<m)y0[j]=0;return y0}function d3_layout_stackMaxIndex(array){var i=1,j=0,v=array[0][1],k,n=array.length;for(;i<n;++i){if((k=array[i][1])>v){j=i;v=k}}return j}function d3_layout_stackReduceSum(d){return d.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(p,d){return p+d[1]}d3.layout.histogram=function(){var frequency=true,valuer=Number,ranger=d3_layout_histogramRange,binner=d3_layout_histogramBinSturges;function histogram(data,i){var bins=[],values=data.map(valuer,this),range=ranger.call(this,values,i),thresholds=binner.call(this,range,values,i),bin,i=-1,n=values.length,m=thresholds.length-1,k=frequency?1:1/n,x;while(++i<m){bin=bins[i]=[];bin.dx=thresholds[i+1]-(bin.x=thresholds[i]);bin.y=0}if(m>0){i=-1;while(++i<n){x=values[i];if(x>=range[0]&&x<=range[1]){bin=bins[d3.bisect(thresholds,x,1,m)-1];bin.y+=k;bin.push(data[i])}}}return bins}histogram.value=function(x){if(!arguments.length)return valuer;valuer=x;return histogram};histogram.range=function(x){if(!arguments.length)return ranger;ranger=d3_functor(x);return histogram};histogram.bins=function(x){if(!arguments.length)return binner;binner=typeof x==="number"?function(range){return d3_layout_histogramBinFixed(range,x)}:d3_functor(x);return histogram};histogram.frequency=function(x){if(!arguments.length)return frequency;frequency=!!x;return histogram};return histogram};function d3_layout_histogramBinSturges(range,values){return d3_layout_histogramBinFixed(range,Math.ceil(Math.log(values.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(range,n){var x=-1,b=+range[0],m=(range[1]-b)/n,f=[];while(++x<=n)f[x]=m*x+b;return f}function d3_layout_histogramRange(values){return[d3.min(values),d3.max(values)]}d3.layout.pack=function(){var hierarchy=d3.layout.hierarchy().sort(d3_layout_packSort),padding=0,size=[1,1],radius;function pack(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0],w=size[0],h=size[1],r=radius==null?Math.sqrt:typeof radius==="function"?radius:function(){return radius};root.x=root.y=0;d3_layout_hierarchyVisitAfter(root,function(d){d.r=+r(d.value)});d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings);if(padding){var dr=padding*(radius?1:Math.max(2*root.r/w,2*root.r/h))/2;d3_layout_hierarchyVisitAfter(root,function(d){d.r+=dr});d3_layout_hierarchyVisitAfter(root,d3_layout_packSiblings);d3_layout_hierarchyVisitAfter(root,function(d){d.r-=dr})}d3_layout_packTransform(root,w/2,h/2,radius?1:1/Math.max(2*root.r/w,2*root.r/h));return nodes}pack.size=function(_){if(!arguments.length)return size;size=_;return pack};pack.radius=function(_){if(!arguments.length)return radius;radius=_==null||typeof _==="function"?_:+_;return pack};pack.padding=function(_){if(!arguments.length)return padding;padding=+_;return pack};return d3_layout_hierarchyRebind(pack,hierarchy)};function d3_layout_packSort(a,b){return a.value-b.value}function d3_layout_packInsert(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function d3_layout_packSplice(a,b){a._pack_next=b;b._pack_prev=a}function d3_layout_packIntersects(a,b){var dx=b.x-a.x,dy=b.y-a.y,dr=a.r+b.r;return.999*dr*dr>dx*dx+dy*dy}function d3_layout_packSiblings(node){if(!(nodes=node.children)||!(n=nodes.length))return;var nodes,xMin=Infinity,xMax=-Infinity,yMin=Infinity,yMax=-Infinity,a,b,c,i,j,k,n;function bound(node){xMin=Math.min(node.x-node.r,xMin);xMax=Math.max(node.x+node.r,xMax);yMin=Math.min(node.y-node.r,yMin);yMax=Math.max(node.y+node.r,yMax)}nodes.forEach(d3_layout_packLink);a=nodes[0];a.x=-a.r;a.y=0;bound(a);if(n>1){b=nodes[1];b.x=b.r;b.y=0;bound(b);if(n>2){c=nodes[2];d3_layout_packPlace(a,b,c);bound(c);d3_layout_packInsert(a,c);a._pack_prev=c;d3_layout_packInsert(c,b);b=a._pack_next;for(i=3;i<n;i++){d3_layout_packPlace(a,b,c=nodes[i]);var isect=0,s1=1,s2=1;for(j=b._pack_next;j!==b;j=j._pack_next,s1++){if(d3_layout_packIntersects(j,c)){isect=1;break}}if(isect==1){for(k=a._pack_prev;k!==j._pack_prev;k=k._pack_prev,s2++){if(d3_layout_packIntersects(k,c)){break}}}if(isect){if(s1<s2||s1==s2&&b.r<a.r)d3_layout_packSplice(a,b=j);else d3_layout_packSplice(a=k,b);i--}else{d3_layout_packInsert(a,c);b=c;bound(c)}}}}var cx=(xMin+xMax)/2,cy=(yMin+yMax)/2,cr=0;for(i=0;i<n;i++){c=nodes[i];c.x-=cx;c.y-=cy;cr=Math.max(cr,c.r+Math.sqrt(c.x*c.x+c.y*c.y))}node.r=cr;nodes.forEach(d3_layout_packUnlink)}function d3_layout_packLink(node){node._pack_next=node._pack_prev=node}function d3_layout_packUnlink(node){delete node._pack_next;delete node._pack_prev}function d3_layout_packTransform(node,x,y,k){var children=node.children;node.x=x+=k*node.x;node.y=y+=k*node.y;node.r*=k;if(children){var i=-1,n=children.length;while(++i<n)d3_layout_packTransform(children[i],x,y,k)}}function d3_layout_packPlace(a,b,c){var db=a.r+c.r,dx=b.x-a.x,dy=b.y-a.y;if(db&&(dx||dy)){var da=b.r+c.r,dc=dx*dx+dy*dy;da*=da;db*=db;var x=.5+(db-da)/(2*dc),y=Math.sqrt(Math.max(0,2*da*(db+dc)-(db-=dc)*db-da*da))/(2*dc);c.x=a.x+x*dx+y*dy;c.y=a.y+x*dy-y*dx}else{c.x=a.x+db;c.y=a.y}}d3.layout.tree=function(){var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=null;function tree(d,i){var nodes=hierarchy.call(this,d,i),root0=nodes[0],root1=wrapTree(root0);d3_layout_hierarchyVisitAfter(root1,firstWalk),root1.parent.m=-root1.z;d3_layout_hierarchyVisitBefore(root1,secondWalk);if(nodeSize)d3_layout_hierarchyVisitBefore(root0,sizeNode);else{var left=root0,right=root0,bottom=root0;d3_layout_hierarchyVisitBefore(root0,function(node){if(node.x<left.x)left=node;if(node.x>right.x)right=node;if(node.depth>bottom.depth)bottom=node});var tx=separation(left,right)/2-left.x,kx=size[0]/(right.x+separation(right,left)/2+tx),ky=size[1]/(bottom.depth||1);d3_layout_hierarchyVisitBefore(root0,function(node){node.x=(node.x+tx)*kx;node.y=node.depth*ky})}return nodes}function wrapTree(root0){var root1={A:null,children:[root0]},queue=[root1],node1;while((node1=queue.pop())!=null){for(var children=node1.children,child,i=0,n=children.length;i<n;++i){queue.push((children[i]=child={_:children[i],parent:node1,children:(child=children[i].children)&&child.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=child)}}return root1.children[0]}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children.length){d3_layout_treeShift(v);var midpoint=(children[0].z+children[children.length-1].z)/2;if(w){v.z=w.z+separation(v._,w._);v.m=v.z-midpoint}else{v.z=midpoint}}else if(w){v.z=w.z+separation(v._,w._)}v.parent.A=apportion(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m;v.m+=v.parent.m}function apportion(v,w,ancestor){if(w){var vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m,shift;while(vim=d3_layout_treeRight(vim),vip=d3_layout_treeLeft(vip),vim&&vip){vom=d3_layout_treeLeft(vom);vop=d3_layout_treeRight(vop);vop.a=v;shift=vim.z+sim-vip.z-sip+separation(vim._,vip._);if(shift>0){d3_layout_treeMove(d3_layout_treeAncestor(vim,v,ancestor),v,shift);sip+=shift;sop+=shift}sim+=vim.m;sip+=vip.m;som+=vom.m;sop+=vop.m}if(vim&&!d3_layout_treeRight(vop)){vop.t=vim;vop.m+=sim-sop}if(vip&&!d3_layout_treeLeft(vom)){vom.t=vip;vom.m+=sip-som;ancestor=v}}return ancestor}function sizeNode(node){node.x*=size[0];node.y=node.depth*size[1]}tree.separation=function(x){if(!arguments.length)return separation;separation=x;return tree};tree.size=function(x){if(!arguments.length)return nodeSize?null:size;nodeSize=(size=x)==null?sizeNode:null;return tree};tree.nodeSize=function(x){if(!arguments.length)return nodeSize?size:null;nodeSize=(size=x)==null?null:sizeNode;return tree};return d3_layout_hierarchyRebind(tree,hierarchy)};function d3_layout_treeSeparation(a,b){return a.parent==b.parent?1:2}function d3_layout_treeLeft(v){var children=v.children;return children.length?children[0]:v.t}function d3_layout_treeRight(v){var children=v.children,n;return(n=children.length)?children[n-1]:v.t}function d3_layout_treeMove(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change;wp.s+=shift;wm.c+=change;wp.z+=shift;wp.m+=shift}function d3_layout_treeShift(v){var shift=0,change=0,children=v.children,i=children.length,w;while(--i>=0){w=children[i];w.z+=shift;w.m+=shift;shift+=w.s+(change+=w.c)}}function d3_layout_treeAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}d3.layout.cluster=function(){var hierarchy=d3.layout.hierarchy().sort(null).value(null),separation=d3_layout_treeSeparation,size=[1,1],nodeSize=false;function cluster(d,i){var nodes=hierarchy.call(this,d,i),root=nodes[0],previousNode,x=0;d3_layout_hierarchyVisitAfter(root,function(node){var children=node.children;if(children&&children.length){node.x=d3_layout_clusterX(children);node.y=d3_layout_clusterY(children)}else{node.x=previousNode?x+=separation(node,previousNode):0;node.y=0;previousNode=node}});var left=d3_layout_clusterLeft(root),right=d3_layout_clusterRight(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;d3_layout_hierarchyVisitAfter(root,nodeSize?function(node){node.x=(node.x-root.x)*size[0];node.y=(root.y-node.y)*size[1]}:function(node){node.x=(node.x-x0)/(x1-x0)*size[0];node.y=(1-(root.y?node.y/root.y:1))*size[1]});return nodes}cluster.separation=function(x){if(!arguments.length)return separation;separation=x;return cluster};cluster.size=function(x){if(!arguments.length)return nodeSize?null:size;nodeSize=(size=x)==null;return cluster};cluster.nodeSize=function(x){if(!arguments.length)return nodeSize?size:null;nodeSize=(size=x)!=null;return cluster};return d3_layout_hierarchyRebind(cluster,hierarchy)};function d3_layout_clusterY(children){return 1+d3.max(children,function(child){return child.y})}function d3_layout_clusterX(children){return children.reduce(function(x,child){return x+child.x},0)/children.length}function d3_layout_clusterLeft(node){var children=node.children;return children&&children.length?d3_layout_clusterLeft(children[0]):node}function d3_layout_clusterRight(node){var children=node.children,n;return children&&(n=children.length)?d3_layout_clusterRight(children[n-1]):node}d3.layout.treemap=function(){var hierarchy=d3.layout.hierarchy(),round=Math.round,size=[1,1],padding=null,pad=d3_layout_treemapPadNull,sticky=false,stickies,mode="squarify",ratio=.5*(1+Math.sqrt(5));function scale(children,k){var i=-1,n=children.length,child,area;while(++i<n){area=(child=children[i]).value*(k<0?0:k);child.area=isNaN(area)||area<=0?0:area}}function squarify(node){var children=node.children;if(children&&children.length){var rect=pad(node),row=[],remaining=children.slice(),child,best=Infinity,score,u=mode==="slice"?rect.dx:mode==="dice"?rect.dy:mode==="slice-dice"?node.depth&1?rect.dy:rect.dx:Math.min(rect.dx,rect.dy),n;scale(remaining,rect.dx*rect.dy/node.value);row.area=0;while((n=remaining.length)>0){row.push(child=remaining[n-1]);row.area+=child.area;if(mode!=="squarify"||(score=worst(row,u))<=best){remaining.pop();best=score}else{row.area-=row.pop().area;position(row,u,rect,false);u=Math.min(rect.dx,rect.dy);row.length=row.area=0;best=Infinity}}if(row.length){position(row,u,rect,true);row.length=row.area=0}children.forEach(squarify)}}function stickify(node){var children=node.children;if(children&&children.length){var rect=pad(node),remaining=children.slice(),child,row=[];scale(remaining,rect.dx*rect.dy/node.value);row.area=0;while(child=remaining.pop()){row.push(child);row.area+=child.area;if(child.z!=null){position(row,child.z?rect.dx:rect.dy,rect,!remaining.length);row.length=row.area=0}}children.forEach(stickify)}}function worst(row,u){var s=row.area,r,rmax=0,rmin=Infinity,i=-1,n=row.length;while(++i<n){if(!(r=row[i].area))continue;if(r<rmin)rmin=r;if(r>rmax)rmax=r}s*=s;u*=u;return s?Math.max(u*rmax*ratio/s,s/(u*rmin*ratio)):Infinity}function position(row,u,rect,flush){var i=-1,n=row.length,x=rect.x,y=rect.y,v=u?round(row.area/u):0,o;if(u==rect.dx){if(flush||v>rect.dy)v=rect.dy;while(++i<n){o=row[i];o.x=x;o.y=y;o.dy=v;x+=o.dx=Math.min(rect.x+rect.dx-x,v?round(o.area/v):0)}o.z=true;o.dx+=rect.x+rect.dx-x;rect.y+=v;rect.dy-=v}else{if(flush||v>rect.dx)v=rect.dx;while(++i<n){o=row[i];o.x=x;o.y=y;o.dx=v;y+=o.dy=Math.min(rect.y+rect.dy-y,v?round(o.area/v):0)}o.z=false;o.dy+=rect.y+rect.dy-y;rect.x+=v;rect.dx-=v}}function treemap(d){var nodes=stickies||hierarchy(d),root=nodes[0];root.x=0;root.y=0;root.dx=size[0];root.dy=size[1];if(stickies)hierarchy.revalue(root);scale([root],root.dx*root.dy/root.value);(stickies?stickify:squarify)(root);if(sticky)stickies=nodes;return nodes}treemap.size=function(x){if(!arguments.length)return size;size=x;return treemap};treemap.padding=function(x){if(!arguments.length)return padding;function padFunction(node){var p=x.call(treemap,node,node.depth);return p==null?d3_layout_treemapPadNull(node):d3_layout_treemapPad(node,typeof p==="number"?[p,p,p,p]:p)}function padConstant(node){return d3_layout_treemapPad(node,x)}var type;pad=(padding=x)==null?d3_layout_treemapPadNull:(type=typeof x)==="function"?padFunction:type==="number"?(x=[x,x,x,x],padConstant):padConstant;return treemap};treemap.round=function(x){if(!arguments.length)return round!=Number;round=x?Math.round:Number;return treemap};treemap.sticky=function(x){if(!arguments.length)return sticky;sticky=x;stickies=null;return treemap};treemap.ratio=function(x){if(!arguments.length)return ratio;ratio=x;return treemap};treemap.mode=function(x){if(!arguments.length)return mode;mode=x+"";return treemap};return d3_layout_hierarchyRebind(treemap,hierarchy)};function d3_layout_treemapPadNull(node){return{x:node.x,y:node.y,dx:node.dx,dy:node.dy}}function d3_layout_treemapPad(node,padding){var x=node.x+padding[3],y=node.y+padding[0],dx=node.dx-padding[1]-padding[3],dy=node.dy-padding[0]-padding[2];if(dx<0){x+=dx/2;dx=0}if(dy<0){y+=dy/2;dy=0}return{x:x,y:y,dx:dx,dy:dy}}d3.random={normal:function(µ,σ){var n=arguments.length;if(n<2)σ=1;if(n<1)µ=0;return function(){var x,y,r;do{x=Math.random()*2-1;y=Math.random()*2-1;r=x*x+y*y}while(!r||r>1);return µ+σ*x*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var random=d3.random.normal.apply(d3,arguments);return function(){return Math.exp(random())}},bates:function(m){var random=d3.random.irwinHall(m);return function(){return random()/m}},irwinHall:function(m){return function(){for(var s=0,j=0;j<m;j++)s+=Math.random();return s}}};d3.scale={};function d3_scaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return start<stop?[start,stop]:[stop,start]}function d3_scaleRange(scale){return scale.rangeExtent?scale.rangeExtent():d3_scaleExtent(scale.range())}function d3_scale_bilinear(domain,range,uninterpolate,interpolate){var u=uninterpolate(domain[0],domain[1]),i=interpolate(range[0],range[1]);return function(x){return i(u(x))}}function d3_scale_nice(domain,nice){var i0=0,i1=domain.length-1,x0=domain[i0],x1=domain[i1],dx;if(x1<x0){dx=i0,i0=i1,i1=dx;dx=x0,x0=x1,x1=dx}domain[i0]=nice.floor(x0);domain[i1]=nice.ceil(x1);return domain}function d3_scale_niceStep(step){return step?{floor:function(x){return Math.floor(x/step)*step},ceil:function(x){return Math.ceil(x/step)*step}}:d3_scale_niceIdentity}var d3_scale_niceIdentity={floor:d3_identity,ceil:d3_identity};function d3_scale_polylinear(domain,range,uninterpolate,interpolate){var u=[],i=[],j=0,k=Math.min(domain.length,range.length)-1;if(domain[k]<domain[0]){domain=domain.slice().reverse();range=range.slice().reverse()}while(++j<=k){u.push(uninterpolate(domain[j-1],domain[j]));i.push(interpolate(range[j-1],range[j]))}return function(x){var j=d3.bisect(domain,x,1,k)-1;return i[j](u[j](x))}}d3.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,false)};function d3_scale_linear(domain,range,interpolate,clamp){var output,input;function rescale(){var linear=Math.min(domain.length,range.length)>2?d3_scale_polylinear:d3_scale_bilinear,uninterpolate=clamp?d3_uninterpolateClamp:d3_uninterpolateNumber;output=linear(domain,range,uninterpolate,interpolate);input=linear(range,domain,uninterpolate,d3_interpolate);return scale}function scale(x){return output(x)}scale.invert=function(y){return input(y)};scale.domain=function(x){if(!arguments.length)return domain;domain=x.map(Number);return rescale()};scale.range=function(x){if(!arguments.length)return range;range=x;return rescale()};scale.rangeRound=function(x){return scale.range(x).interpolate(d3_interpolateRound)};scale.clamp=function(x){if(!arguments.length)return clamp;clamp=x;return rescale()};scale.interpolate=function(x){if(!arguments.length)return interpolate;interpolate=x;return rescale()};scale.ticks=function(m){return d3_scale_linearTicks(domain,m)};scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)};scale.nice=function(m){d3_scale_linearNice(domain,m);return rescale()};scale.copy=function(){return d3_scale_linear(domain,range,interpolate,clamp)};return rescale()}function d3_scale_linearRebind(scale,linear){return d3.rebind(scale,linear,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(domain,m){return d3_scale_nice(domain,d3_scale_niceStep(d3_scale_linearTickRange(domain,m)[2]))}function d3_scale_linearTickRange(domain,m){if(m==null)m=10;var extent=d3_scaleExtent(domain),span=extent[1]-extent[0],step=Math.pow(10,Math.floor(Math.log(span/m)/Math.LN10)),err=m/span*step;if(err<=.15)step*=10;else if(err<=.35)step*=5;else if(err<=.75)step*=2;extent[0]=Math.ceil(extent[0]/step)*step;extent[1]=Math.floor(extent[1]/step)*step+step*.5;extent[2]=step;return extent}function d3_scale_linearTicks(domain,m){return d3.range.apply(d3,d3_scale_linearTickRange(domain,m))}function d3_scale_linearTickFormat(domain,m,format){var range=d3_scale_linearTickRange(domain,m);if(format){var match=d3_format_re.exec(format);match.shift();if(match[8]==="s"){var prefix=d3.formatPrefix(Math.max(abs(range[0]),abs(range[1])));if(!match[7])match[7]="."+d3_scale_linearPrecision(prefix.scale(range[2]));match[8]="f";format=d3.format(match.join(""));return function(d){return format(prefix.scale(d))+prefix.symbol}}if(!match[7])match[7]="."+d3_scale_linearFormatPrecision(match[8],range);format=match.join("")}else{format=",."+d3_scale_linearPrecision(range[2])+"f"}return d3.format(format)}var d3_scale_linearFormatSignificant={s:1,g:1,p:1,r:1,e:1};function d3_scale_linearPrecision(value){return-Math.floor(Math.log(value)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(type,range){var p=d3_scale_linearPrecision(range[2]);return type in d3_scale_linearFormatSignificant?Math.abs(p-d3_scale_linearPrecision(Math.max(abs(range[0]),abs(range[1]))))+ +(type!=="e"):p-(type==="%")*2}d3.scale.log=function(){return d3_scale_log(d3.scale.linear().domain([0,1]),10,true,[1,10])};function d3_scale_log(linear,base,positive,domain){function log(x){return(positive?Math.log(x<0?0:x):-Math.log(x>0?0:-x))/Math.log(base)}function pow(x){return positive?Math.pow(base,x):-Math.pow(base,-x)}function scale(x){return linear(log(x))}scale.invert=function(x){return pow(linear.invert(x))};scale.domain=function(x){if(!arguments.length)return domain;positive=x[0]>=0;linear.domain((domain=x.map(Number)).map(log));return scale};scale.base=function(_){if(!arguments.length)return base;base=+_;linear.domain(domain.map(log));return scale};scale.nice=function(){var niced=d3_scale_nice(domain.map(log),positive?Math:d3_scale_logNiceNegative);linear.domain(niced);domain=niced.map(pow);return scale};scale.ticks=function(){var extent=d3_scaleExtent(domain),ticks=[],u=extent[0],v=extent[1],i=Math.floor(log(u)),j=Math.ceil(log(v)),n=base%1?2:base;if(isFinite(j-i)){if(positive){for(;i<j;i++)for(var k=1;k<n;k++)ticks.push(pow(i)*k);ticks.push(pow(i))}else{ticks.push(pow(i));for(;i++<j;)for(var k=n-1;k>0;k--)ticks.push(pow(i)*k)}for(i=0;ticks[i]<u;i++){}for(j=ticks.length;ticks[j-1]>v;j--){}ticks=ticks.slice(i,j)}return ticks};scale.tickFormat=function(n,format){if(!arguments.length)return d3_scale_logFormat;if(arguments.length<2)format=d3_scale_logFormat;else if(typeof format!=="function")format=d3.format(format);var k=Math.max(.1,n/scale.ticks().length),f=positive?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor),e;return function(d){return d/pow(f(log(d)+e))<=k?format(d):""}};scale.copy=function(){return d3_scale_log(linear.copy(),base,positive,domain)};return d3_scale_linearRebind(scale,linear)}var d3_scale_logFormat=d3.format(".0e"),d3_scale_logNiceNegative={floor:function(x){return-Math.ceil(-x)},ceil:function(x){return-Math.floor(-x)}};d3.scale.pow=function(){return d3_scale_pow(d3.scale.linear(),1,[0,1])};function d3_scale_pow(linear,exponent,domain){var powp=d3_scale_powPow(exponent),powb=d3_scale_powPow(1/exponent);function scale(x){return linear(powp(x))}scale.invert=function(x){return powb(linear.invert(x))};scale.domain=function(x){if(!arguments.length)return domain;linear.domain((domain=x.map(Number)).map(powp));return scale};scale.ticks=function(m){return d3_scale_linearTicks(domain,m)};scale.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)};scale.nice=function(m){return scale.domain(d3_scale_linearNice(domain,m))};scale.exponent=function(x){if(!arguments.length)return exponent;powp=d3_scale_powPow(exponent=x);powb=d3_scale_powPow(1/exponent);linear.domain(domain.map(powp));return scale};scale.copy=function(){return d3_scale_pow(linear.copy(),exponent,domain)};return d3_scale_linearRebind(scale,linear)}function d3_scale_powPow(e){return function(x){return x<0?-Math.pow(-x,e):Math.pow(x,e)}}d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)};d3.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})};function d3_scale_ordinal(domain,ranger){var index,range,rangeBand;function scale(x){return range[((index.get(x)||(ranger.t==="range"?index.set(x,domain.push(x)):NaN))-1)%range.length]}function steps(start,step){return d3.range(domain.length).map(function(i){return start+step*i})}scale.domain=function(x){if(!arguments.length)return domain;domain=[];index=new d3_Map;var i=-1,n=x.length,xi;while(++i<n)if(!index.has(xi=x[i]))index.set(xi,domain.push(xi));return scale[ranger.t].apply(scale,ranger.a)};scale.range=function(x){if(!arguments.length)return range;range=x;rangeBand=0;ranger={t:"range",a:arguments};return scale};scale.rangePoints=function(x,padding){if(arguments.length<2)padding=0;var start=x[0],stop=x[1],step=(stop-start)/(Math.max(1,domain.length-1)+padding);range=steps(domain.length<2?(start+stop)/2:start+step*padding/2,step);rangeBand=0;ranger={t:"rangePoints",a:arguments};return scale};scale.rangeBands=function(x,padding,outerPadding){if(arguments.length<2)padding=0;if(arguments.length<3)outerPadding=padding;var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=(stop-start)/(domain.length-padding+2*outerPadding);range=steps(start+step*outerPadding,step);if(reverse)range.reverse();rangeBand=step*(1-padding);ranger={t:"rangeBands",a:arguments};return scale};scale.rangeRoundBands=function(x,padding,outerPadding){if(arguments.length<2)padding=0;if(arguments.length<3)outerPadding=padding;var reverse=x[1]<x[0],start=x[reverse-0],stop=x[1-reverse],step=Math.floor((stop-start)/(domain.length-padding+2*outerPadding)),error=stop-start-(domain.length-padding)*step;range=steps(start+Math.round(error/2),step);if(reverse)range.reverse();rangeBand=Math.round(step*(1-padding));ranger={t:"rangeRoundBands",a:arguments};return scale};scale.rangeBand=function(){return rangeBand};scale.rangeExtent=function(){return d3_scaleExtent(ranger.a[0])};scale.copy=function(){return d3_scale_ordinal(domain,ranger)};return scale.domain(domain)}d3.scale.category10=function(){return d3.scale.ordinal().range(d3_category10)};d3.scale.category20=function(){return d3.scale.ordinal().range(d3_category20)};d3.scale.category20b=function(){return d3.scale.ordinal().range(d3_category20b)};d3.scale.category20c=function(){return d3.scale.ordinal().range(d3_category20c)};var d3_category10=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString);var d3_category20=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString);var d3_category20b=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString);var d3_category20c=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);d3.scale.quantile=function(){return d3_scale_quantile([],[])};function d3_scale_quantile(domain,range){var thresholds;function rescale(){var k=0,q=range.length;thresholds=[];while(++k<q)thresholds[k-1]=d3.quantile(domain,k/q);return scale}function scale(x){if(!isNaN(x=+x))return range[d3.bisect(thresholds,x)]}scale.domain=function(x){if(!arguments.length)return domain;domain=x.map(d3_number).filter(d3_numeric).sort(d3_ascending);return rescale()};scale.range=function(x){if(!arguments.length)return range;range=x;return rescale()};scale.quantiles=function(){return thresholds};scale.invertExtent=function(y){y=range.indexOf(y);return y<0?[NaN,NaN]:[y>0?thresholds[y-1]:domain[0],y<thresholds.length?thresholds[y]:domain[domain.length-1]]};scale.copy=function(){return d3_scale_quantile(domain,range)};return rescale()}d3.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])};function d3_scale_quantize(x0,x1,range){var kx,i;function scale(x){return range[Math.max(0,Math.min(i,Math.floor(kx*(x-x0))))]}function rescale(){kx=range.length/(x1-x0);i=range.length-1;return scale}scale.domain=function(x){if(!arguments.length)return[x0,x1];x0=+x[0];x1=+x[x.length-1];return rescale()};scale.range=function(x){if(!arguments.length)return range;range=x;return rescale()};scale.invertExtent=function(y){y=range.indexOf(y);y=y<0?NaN:y/kx+x0;return[y,y+1/kx]};scale.copy=function(){return d3_scale_quantize(x0,x1,range)};return rescale()}d3.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])};function d3_scale_threshold(domain,range){function scale(x){if(x<=x)return range[d3.bisect(domain,x)]}scale.domain=function(_){if(!arguments.length)return domain;domain=_;return scale};scale.range=function(_){if(!arguments.length)return range;range=_;return scale};scale.invertExtent=function(y){y=range.indexOf(y);return[domain[y-1],domain[y]]};scale.copy=function(){return d3_scale_threshold(domain,range)};return scale}d3.scale.identity=function(){return d3_scale_identity([0,1])};function d3_scale_identity(domain){function identity(x){return+x}identity.invert=identity;identity.domain=identity.range=function(x){if(!arguments.length)return domain;domain=x.map(identity);return identity};identity.ticks=function(m){return d3_scale_linearTicks(domain,m)};identity.tickFormat=function(m,format){return d3_scale_linearTickFormat(domain,m,format)};identity.copy=function(){return d3_scale_identity(domain)};return identity}d3.svg={};d3.svg.arc=function(){var innerRadius=d3_svg_arcInnerRadius,outerRadius=d3_svg_arcOuterRadius,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle;function arc(){var r0=innerRadius.apply(this,arguments),r1=outerRadius.apply(this,arguments),a0=startAngle.apply(this,arguments)+d3_svg_arcOffset,a1=endAngle.apply(this,arguments)+d3_svg_arcOffset,da=(a1<a0&&(da=a0,a0=a1,a1=da),a1-a0),df=da<π?"0":"1",c0=Math.cos(a0),s0=Math.sin(a0),c1=Math.cos(a1),s1=Math.sin(a1);return da>=d3_svg_arcMax?r0?"M0,"+r1+"A"+r1+","+r1+" 0 1,1 0,"+-r1+"A"+r1+","+r1+" 0 1,1 0,"+r1+"M0,"+r0+"A"+r0+","+r0+" 0 1,0 0,"+-r0+"A"+r0+","+r0+" 0 1,0 0,"+r0+"Z":"M0,"+r1+"A"+r1+","+r1+" 0 1,1 0,"+-r1+"A"+r1+","+r1+" 0 1,1 0,"+r1+"Z":r0?"M"+r1*c0+","+r1*s0+"A"+r1+","+r1+" 0 "+df+",1 "+r1*c1+","+r1*s1+"L"+r0*c1+","+r0*s1+"A"+r0+","+r0+" 0 "+df+",0 "+r0*c0+","+r0*s0+"Z":"M"+r1*c0+","+r1*s0+"A"+r1+","+r1+" 0 "+df+",1 "+r1*c1+","+r1*s1+"L0,0"+"Z"}arc.innerRadius=function(v){if(!arguments.length)return innerRadius;innerRadius=d3_functor(v);return arc};arc.outerRadius=function(v){if(!arguments.length)return outerRadius;outerRadius=d3_functor(v);return arc};arc.startAngle=function(v){if(!arguments.length)return startAngle;startAngle=d3_functor(v);return arc};arc.endAngle=function(v){if(!arguments.length)return endAngle;endAngle=d3_functor(v);return arc};arc.centroid=function(){var r=(innerRadius.apply(this,arguments)+outerRadius.apply(this,arguments))/2,a=(startAngle.apply(this,arguments)+endAngle.apply(this,arguments))/2+d3_svg_arcOffset;return[Math.cos(a)*r,Math.sin(a)*r]};return arc};var d3_svg_arcOffset=-halfπ,d3_svg_arcMax=τ-ε;function d3_svg_arcInnerRadius(d){return d.innerRadius}function d3_svg_arcOuterRadius(d){return d.outerRadius}function d3_svg_arcStartAngle(d){return d.startAngle}function d3_svg_arcEndAngle(d){return d.endAngle}function d3_svg_line(projection){var x=d3_geom_pointX,y=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,tension=.7;function line(data){var segments=[],points=[],i=-1,n=data.length,d,fx=d3_functor(x),fy=d3_functor(y);function segment(){segments.push("M",interpolate(projection(points),tension))}while(++i<n){if(defined.call(this,d=data[i],i)){points.push([+fx.call(this,d,i),+fy.call(this,d,i)])}else if(points.length){segment();points=[]}}if(points.length)segment();return segments.length?segments.join(""):null}line.x=function(_){if(!arguments.length)return x;x=_;return line};line.y=function(_){if(!arguments.length)return y;y=_;return line};line.defined=function(_){if(!arguments.length)return defined;defined=_;return line};line.interpolate=function(_){if(!arguments.length)return interpolateKey;if(typeof _==="function")interpolateKey=interpolate=_;else interpolateKey=(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key;return line};line.tension=function(_){if(!arguments.length)return tension;tension=_;return line};return line}d3.svg.line=function(){return d3_svg_line(d3_identity)};var d3_svg_lineInterpolators=d3.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});d3_svg_lineInterpolators.forEach(function(key,value){value.key=key;value.closed=/-closed$/.test(key)});function d3_svg_lineLinear(points){return points.join("L")}function d3_svg_lineLinearClosed(points){return d3_svg_lineLinear(points)+"Z"}function d3_svg_lineStep(points){var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];while(++i<n)path.push("H",(p[0]+(p=points[i])[0])/2,"V",p[1]);if(n>1)path.push("H",p[0]);return path.join("")}function d3_svg_lineStepBefore(points){var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];while(++i<n)path.push("V",(p=points[i])[1],"H",p[0]);return path.join("")}function d3_svg_lineStepAfter(points){var i=0,n=points.length,p=points[0],path=[p[0],",",p[1]];while(++i<n)path.push("H",(p=points[i])[0],"V",p[1]);return path.join("")}function d3_svg_lineCardinalOpen(points,tension){return points.length<4?d3_svg_lineLinear(points):points[1]+d3_svg_lineHermite(points.slice(1,points.length-1),d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineCardinalClosed(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite((points.push(points[0]),points),d3_svg_lineCardinalTangents([points[points.length-2]].concat(points,[points[1]]),tension))}function d3_svg_lineCardinal(points,tension){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineCardinalTangents(points,tension))}function d3_svg_lineHermite(points,tangents){if(tangents.length<1||points.length!=tangents.length&&points.length!=tangents.length+2){return d3_svg_lineLinear(points)
}var quad=points.length!=tangents.length,path="",p0=points[0],p=points[1],t0=tangents[0],t=t0,pi=1;if(quad){path+="Q"+(p[0]-t0[0]*2/3)+","+(p[1]-t0[1]*2/3)+","+p[0]+","+p[1];p0=points[1];pi=2}if(tangents.length>1){t=tangents[1];p=points[pi];pi++;path+="C"+(p0[0]+t0[0])+","+(p0[1]+t0[1])+","+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1];for(var i=2;i<tangents.length;i++,pi++){p=points[pi];t=tangents[i];path+="S"+(p[0]-t[0])+","+(p[1]-t[1])+","+p[0]+","+p[1]}}if(quad){var lp=points[pi];path+="Q"+(p[0]+t[0]*2/3)+","+(p[1]+t[1]*2/3)+","+lp[0]+","+lp[1]}return path}function d3_svg_lineCardinalTangents(points,tension){var tangents=[],a=(1-tension)/2,p0,p1=points[0],p2=points[1],i=1,n=points.length;while(++i<n){p0=p1;p1=p2;p2=points[i];tangents.push([a*(p2[0]-p0[0]),a*(p2[1]-p0[1])])}return tangents}function d3_svg_lineBasis(points){if(points.length<3)return d3_svg_lineLinear(points);var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py)}points.pop();path.push("L",pi);return path.join("")}function d3_svg_lineBasisOpen(points){if(points.length<4)return d3_svg_lineLinear(points);var path=[],i=-1,n=points.length,pi,px=[0],py=[0];while(++i<3){pi=points[i];px.push(pi[0]);py.push(pi[1])}path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3,px)+","+d3_svg_lineDot4(d3_svg_lineBasisBezier3,py));--i;while(++i<n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py)}return path.join("")}function d3_svg_lineBasisClosed(points){var path,i=-1,n=points.length,m=n+4,pi,px=[],py=[];while(++i<4){pi=points[i%n];px.push(pi[0]);py.push(pi[1])}path=[d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];--i;while(++i<m){pi=points[i%n];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py)}return path.join("")}function d3_svg_lineBundle(points,tension){var n=points.length-1;if(n){var x0=points[0][0],y0=points[0][1],dx=points[n][0]-x0,dy=points[n][1]-y0,i=-1,p,t;while(++i<=n){p=points[i];t=i/n;p[0]=tension*p[0]+(1-tension)*(x0+t*dx);p[1]=tension*p[1]+(1-tension)*(y0+t*dy)}}return d3_svg_lineBasis(points)}function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y))}function d3_svg_lineSlope(p0,p1){return(p1[1]-p0[1])/(p1[0]-p0[0])}function d3_svg_lineFiniteDifferences(points){var i=0,j=points.length-1,m=[],p0=points[0],p1=points[1],d=m[0]=d3_svg_lineSlope(p0,p1);while(++i<j){m[i]=(d+(d=d3_svg_lineSlope(p0=p1,p1=points[i+1])))/2}m[i]=d;return m}function d3_svg_lineMonotoneTangents(points){var tangents=[],d,a,b,s,m=d3_svg_lineFiniteDifferences(points),i=-1,j=points.length-1;while(++i<j){d=d3_svg_lineSlope(points[i],points[i+1]);if(abs(d)<ε){m[i]=m[i+1]=0}else{a=m[i]/d;b=m[i+1]/d;s=a*a+b*b;if(s>9){s=d*3/Math.sqrt(s);m[i]=s*a;m[i+1]=s*b}}}i=-1;while(++i<=j){s=(points[Math.min(j,i+1)][0]-points[Math.max(0,i-1)][0])/(6*(1+m[i]*m[i]));tangents.push([s||0,m[i]*s||0])}return tangents}function d3_svg_lineMonotone(points){return points.length<3?d3_svg_lineLinear(points):points[0]+d3_svg_lineHermite(points,d3_svg_lineMonotoneTangents(points))}d3.svg.line.radial=function(){var line=d3_svg_line(d3_svg_lineRadial);line.radius=line.x,delete line.x;line.angle=line.y,delete line.y;return line};function d3_svg_lineRadial(points){var point,i=-1,n=points.length,r,a;while(++i<n){point=points[i];r=point[0];a=point[1]+d3_svg_arcOffset;point[0]=r*Math.cos(a);point[1]=r*Math.sin(a)}return points}function d3_svg_area(projection){var x0=d3_geom_pointX,x1=d3_geom_pointX,y0=0,y1=d3_geom_pointY,defined=d3_true,interpolate=d3_svg_lineLinear,interpolateKey=interpolate.key,interpolateReverse=interpolate,L="L",tension=.7;function area(data){var segments=[],points0=[],points1=[],i=-1,n=data.length,d,fx0=d3_functor(x0),fy0=d3_functor(y0),fx1=x0===x1?function(){return x}:d3_functor(x1),fy1=y0===y1?function(){return y}:d3_functor(y1),x,y;function segment(){segments.push("M",interpolate(projection(points1),tension),L,interpolateReverse(projection(points0.reverse()),tension),"Z")}while(++i<n){if(defined.call(this,d=data[i],i)){points0.push([x=+fx0.call(this,d,i),y=+fy0.call(this,d,i)]);points1.push([+fx1.call(this,d,i),+fy1.call(this,d,i)])}else if(points0.length){segment();points0=[];points1=[]}}if(points0.length)segment();return segments.length?segments.join(""):null}area.x=function(_){if(!arguments.length)return x1;x0=x1=_;return area};area.x0=function(_){if(!arguments.length)return x0;x0=_;return area};area.x1=function(_){if(!arguments.length)return x1;x1=_;return area};area.y=function(_){if(!arguments.length)return y1;y0=y1=_;return area};area.y0=function(_){if(!arguments.length)return y0;y0=_;return area};area.y1=function(_){if(!arguments.length)return y1;y1=_;return area};area.defined=function(_){if(!arguments.length)return defined;defined=_;return area};area.interpolate=function(_){if(!arguments.length)return interpolateKey;if(typeof _==="function")interpolateKey=interpolate=_;else interpolateKey=(interpolate=d3_svg_lineInterpolators.get(_)||d3_svg_lineLinear).key;interpolateReverse=interpolate.reverse||interpolate;L=interpolate.closed?"M":"L";return area};area.tension=function(_){if(!arguments.length)return tension;tension=_;return area};return area}d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter;d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore;d3.svg.area=function(){return d3_svg_area(d3_identity)};d3.svg.area.radial=function(){var area=d3_svg_area(d3_svg_lineRadial);area.radius=area.x,delete area.x;area.innerRadius=area.x0,delete area.x0;area.outerRadius=area.x1,delete area.x1;area.angle=area.y,delete area.y;area.startAngle=area.y0,delete area.y0;area.endAngle=area.y1,delete area.y1;return area};d3.svg.chord=function(){var source=d3_source,target=d3_target,radius=d3_svg_chordRadius,startAngle=d3_svg_arcStartAngle,endAngle=d3_svg_arcEndAngle;function chord(d,i){var s=subgroup(this,source,d,i),t=subgroup(this,target,d,i);return"M"+s.p0+arc(s.r,s.p1,s.a1-s.a0)+(equals(s,t)?curve(s.r,s.p1,s.r,s.p0):curve(s.r,s.p1,t.r,t.p0)+arc(t.r,t.p1,t.a1-t.a0)+curve(t.r,t.p1,s.r,s.p0))+"Z"}function subgroup(self,f,d,i){var subgroup=f.call(self,d,i),r=radius.call(self,subgroup,i),a0=startAngle.call(self,subgroup,i)+d3_svg_arcOffset,a1=endAngle.call(self,subgroup,i)+d3_svg_arcOffset;return{r:r,a0:a0,a1:a1,p0:[r*Math.cos(a0),r*Math.sin(a0)],p1:[r*Math.cos(a1),r*Math.sin(a1)]}}function equals(a,b){return a.a0==b.a0&&a.a1==b.a1}function arc(r,p,a){return"A"+r+","+r+" 0 "+ +(a>π)+",1 "+p}function curve(r0,p0,r1,p1){return"Q 0,0 "+p1}chord.radius=function(v){if(!arguments.length)return radius;radius=d3_functor(v);return chord};chord.source=function(v){if(!arguments.length)return source;source=d3_functor(v);return chord};chord.target=function(v){if(!arguments.length)return target;target=d3_functor(v);return chord};chord.startAngle=function(v){if(!arguments.length)return startAngle;startAngle=d3_functor(v);return chord};chord.endAngle=function(v){if(!arguments.length)return endAngle;endAngle=d3_functor(v);return chord};return chord};function d3_svg_chordRadius(d){return d.radius}d3.svg.diagonal=function(){var source=d3_source,target=d3_target,projection=d3_svg_diagonalProjection;function diagonal(d,i){var p0=source.call(this,d,i),p3=target.call(this,d,i),m=(p0.y+p3.y)/2,p=[p0,{x:p0.x,y:m},{x:p3.x,y:m},p3];p=p.map(projection);return"M"+p[0]+"C"+p[1]+" "+p[2]+" "+p[3]}diagonal.source=function(x){if(!arguments.length)return source;source=d3_functor(x);return diagonal};diagonal.target=function(x){if(!arguments.length)return target;target=d3_functor(x);return diagonal};diagonal.projection=function(x){if(!arguments.length)return projection;projection=x;return diagonal};return diagonal};function d3_svg_diagonalProjection(d){return[d.x,d.y]}d3.svg.diagonal.radial=function(){var diagonal=d3.svg.diagonal(),projection=d3_svg_diagonalProjection,projection_=diagonal.projection;diagonal.projection=function(x){return arguments.length?projection_(d3_svg_diagonalRadialProjection(projection=x)):projection};return diagonal};function d3_svg_diagonalRadialProjection(projection){return function(){var d=projection.apply(this,arguments),r=d[0],a=d[1]+d3_svg_arcOffset;return[r*Math.cos(a),r*Math.sin(a)]}}d3.svg.symbol=function(){var type=d3_svg_symbolType,size=d3_svg_symbolSize;function symbol(d,i){return(d3_svg_symbols.get(type.call(this,d,i))||d3_svg_symbolCircle)(size.call(this,d,i))}symbol.type=function(x){if(!arguments.length)return type;type=d3_functor(x);return symbol};symbol.size=function(x){if(!arguments.length)return size;size=d3_functor(x);return symbol};return symbol};function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(size){var r=Math.sqrt(size/π);return"M0,"+r+"A"+r+","+r+" 0 1,1 0,"+-r+"A"+r+","+r+" 0 1,1 0,"+r+"Z"}var d3_svg_symbols=d3.map({circle:d3_svg_symbolCircle,cross:function(size){var r=Math.sqrt(size/5)/2;return"M"+-3*r+","+-r+"H"+-r+"V"+-3*r+"H"+r+"V"+-r+"H"+3*r+"V"+r+"H"+r+"V"+3*r+"H"+-r+"V"+r+"H"+-3*r+"Z"},diamond:function(size){var ry=Math.sqrt(size/(2*d3_svg_symbolTan30)),rx=ry*d3_svg_symbolTan30;return"M0,"+-ry+"L"+rx+",0"+" 0,"+ry+" "+-rx+",0"+"Z"},square:function(size){var r=Math.sqrt(size)/2;return"M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z"},"triangle-down":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+ry+"L"+rx+","+-ry+" "+-rx+","+-ry+"Z"},"triangle-up":function(size){var rx=Math.sqrt(size/d3_svg_symbolSqrt3),ry=rx*d3_svg_symbolSqrt3/2;return"M0,"+-ry+"L"+rx+","+ry+" "+-rx+","+ry+"Z"}});d3.svg.symbolTypes=d3_svg_symbols.keys();var d3_svg_symbolSqrt3=Math.sqrt(3),d3_svg_symbolTan30=Math.tan(30*d3_radians);function d3_transition(groups,id){d3_subclass(groups,d3_transitionPrototype);groups.id=id;return groups}var d3_transitionPrototype=[],d3_transitionId=0,d3_transitionInheritId,d3_transitionInherit;d3_transitionPrototype.call=d3_selectionPrototype.call;d3_transitionPrototype.empty=d3_selectionPrototype.empty;d3_transitionPrototype.node=d3_selectionPrototype.node;d3_transitionPrototype.size=d3_selectionPrototype.size;d3.transition=function(selection){return arguments.length?d3_transitionInheritId?selection.transition():selection:d3_selectionRoot.transition()};d3.transition.prototype=d3_transitionPrototype;d3_transitionPrototype.select=function(selector){var id=this.id,subgroups=[],subgroup,subnode,node;selector=d3_selection_selector(selector);for(var j=-1,m=this.length;++j<m;){subgroups.push(subgroup=[]);for(var group=this[j],i=-1,n=group.length;++i<n;){if((node=group[i])&&(subnode=selector.call(node,node.__data__,i,j))){if("__data__"in node)subnode.__data__=node.__data__;d3_transitionNode(subnode,i,id,node.__transition__[id]);subgroup.push(subnode)}else{subgroup.push(null)}}}return d3_transition(subgroups,id)};d3_transitionPrototype.selectAll=function(selector){var id=this.id,subgroups=[],subgroup,subnodes,node,subnode,transition;selector=d3_selection_selectorAll(selector);for(var j=-1,m=this.length;++j<m;){for(var group=this[j],i=-1,n=group.length;++i<n;){if(node=group[i]){transition=node.__transition__[id];subnodes=selector.call(node,node.__data__,i,j);subgroups.push(subgroup=[]);for(var k=-1,o=subnodes.length;++k<o;){if(subnode=subnodes[k])d3_transitionNode(subnode,k,id,transition);subgroup.push(subnode)}}}}return d3_transition(subgroups,id)};d3_transitionPrototype.filter=function(filter){var subgroups=[],subgroup,group,node;if(typeof filter!=="function")filter=d3_selection_filter(filter);for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;i<n;i++){if((node=group[i])&&filter.call(node,node.__data__,i,j)){subgroup.push(node)}}}return d3_transition(subgroups,this.id)};d3_transitionPrototype.tween=function(name,tween){var id=this.id;if(arguments.length<2)return this.node().__transition__[id].tween.get(name);return d3_selection_each(this,tween==null?function(node){node.__transition__[id].tween.remove(name)}:function(node){node.__transition__[id].tween.set(name,tween)})};function d3_transition_tween(groups,name,value,tween){var id=groups.id;return d3_selection_each(groups,typeof value==="function"?function(node,i,j){node.__transition__[id].tween.set(name,tween(value.call(node,node.__data__,i,j)))}:(value=tween(value),function(node){node.__transition__[id].tween.set(name,value)}))}d3_transitionPrototype.attr=function(nameNS,value){if(arguments.length<2){for(value in nameNS)this.attr(value,nameNS[value]);return this}var interpolate=nameNS=="transform"?d3_interpolateTransform:d3_interpolate,name=d3.ns.qualify(nameNS);function attrNull(){this.removeAttribute(name)}function attrNullNS(){this.removeAttributeNS(name.space,name.local)}function attrTween(b){return b==null?attrNull:(b+="",function(){var a=this.getAttribute(name),i;return a!==b&&(i=interpolate(a,b),function(t){this.setAttribute(name,i(t))})})}function attrTweenNS(b){return b==null?attrNullNS:(b+="",function(){var a=this.getAttributeNS(name.space,name.local),i;return a!==b&&(i=interpolate(a,b),function(t){this.setAttributeNS(name.space,name.local,i(t))})})}return d3_transition_tween(this,"attr."+nameNS,value,name.local?attrTweenNS:attrTween)};d3_transitionPrototype.attrTween=function(nameNS,tween){var name=d3.ns.qualify(nameNS);function attrTween(d,i){var f=tween.call(this,d,i,this.getAttribute(name));return f&&function(t){this.setAttribute(name,f(t))}}function attrTweenNS(d,i){var f=tween.call(this,d,i,this.getAttributeNS(name.space,name.local));return f&&function(t){this.setAttributeNS(name.space,name.local,f(t))}}return this.tween("attr."+nameNS,name.local?attrTweenNS:attrTween)};d3_transitionPrototype.style=function(name,value,priority){var n=arguments.length;if(n<3){if(typeof name!=="string"){if(n<2)value="";for(priority in name)this.style(priority,name[priority],value);return this}priority=""}function styleNull(){this.style.removeProperty(name)}function styleString(b){return b==null?styleNull:(b+="",function(){var a=d3_window.getComputedStyle(this,null).getPropertyValue(name),i;return a!==b&&(i=d3_interpolate(a,b),function(t){this.style.setProperty(name,i(t),priority)})})}return d3_transition_tween(this,"style."+name,value,styleString)};d3_transitionPrototype.styleTween=function(name,tween,priority){if(arguments.length<3)priority="";function styleTween(d,i){var f=tween.call(this,d,i,d3_window.getComputedStyle(this,null).getPropertyValue(name));return f&&function(t){this.style.setProperty(name,f(t),priority)}}return this.tween("style."+name,styleTween)};d3_transitionPrototype.text=function(value){return d3_transition_tween(this,"text",value,d3_transition_text)};function d3_transition_text(b){if(b==null)b="";return function(){this.textContent=b}}d3_transitionPrototype.remove=function(){return this.each("end.transition",function(){var p;if(this.__transition__.count<2&&(p=this.parentNode))p.removeChild(this)})};d3_transitionPrototype.ease=function(value){var id=this.id;if(arguments.length<1)return this.node().__transition__[id].ease;if(typeof value!=="function")value=d3.ease.apply(d3,arguments);return d3_selection_each(this,function(node){node.__transition__[id].ease=value})};d3_transitionPrototype.delay=function(value){var id=this.id;if(arguments.length<1)return this.node().__transition__[id].delay;return d3_selection_each(this,typeof value==="function"?function(node,i,j){node.__transition__[id].delay=+value.call(node,node.__data__,i,j)}:(value=+value,function(node){node.__transition__[id].delay=value}))};d3_transitionPrototype.duration=function(value){var id=this.id;if(arguments.length<1)return this.node().__transition__[id].duration;return d3_selection_each(this,typeof value==="function"?function(node,i,j){node.__transition__[id].duration=Math.max(1,value.call(node,node.__data__,i,j))}:(value=Math.max(1,value),function(node){node.__transition__[id].duration=value}))};d3_transitionPrototype.each=function(type,listener){var id=this.id;if(arguments.length<2){var inherit=d3_transitionInherit,inheritId=d3_transitionInheritId;d3_transitionInheritId=id;d3_selection_each(this,function(node,i,j){d3_transitionInherit=node.__transition__[id];type.call(node,node.__data__,i,j)});d3_transitionInherit=inherit;d3_transitionInheritId=inheritId}else{d3_selection_each(this,function(node){var transition=node.__transition__[id];(transition.event||(transition.event=d3.dispatch("start","end"))).on(type,listener)})}return this};d3_transitionPrototype.transition=function(){var id0=this.id,id1=++d3_transitionId,subgroups=[],subgroup,group,node,transition;for(var j=0,m=this.length;j<m;j++){subgroups.push(subgroup=[]);for(var group=this[j],i=0,n=group.length;i<n;i++){if(node=group[i]){transition=Object.create(node.__transition__[id0]);transition.delay+=transition.duration;d3_transitionNode(node,i,id1,transition)}subgroup.push(node)}}return d3_transition(subgroups,id1)};function d3_transitionNode(node,i,id,inherit){var lock=node.__transition__||(node.__transition__={active:0,count:0}),transition=lock[id];if(!transition){var time=inherit.time;transition=lock[id]={tween:new d3_Map,time:time,ease:inherit.ease,delay:inherit.delay,duration:inherit.duration};++lock.count;d3.timer(function(elapsed){var d=node.__data__,ease=transition.ease,delay=transition.delay,duration=transition.duration,timer=d3_timer_active,tweened=[];timer.t=delay+time;if(delay<=elapsed)return start(elapsed-delay);timer.c=start;function start(elapsed){if(lock.active>id)return stop();lock.active=id;transition.event&&transition.event.start.call(node,d,i);transition.tween.forEach(function(key,value){if(value=value.call(node,d,i)){tweened.push(value)}});d3.timer(function(){timer.c=tick(elapsed||1)?d3_true:tick;return 1},0,time)}function tick(elapsed){if(lock.active!==id)return stop();var t=elapsed/duration,e=ease(t),n=tweened.length;while(n>0){tweened[--n].call(node,e)}if(t>=1){transition.event&&transition.event.end.call(node,d,i);return stop()}}function stop(){if(--lock.count)delete lock[id];else delete node.__transition__;return 1}},0,time)}}d3.svg.axis=function(){var scale=d3.scale.linear(),orient=d3_svg_axisDefaultOrient,innerTickSize=6,outerTickSize=6,tickPadding=3,tickArguments_=[10],tickValues=null,tickFormat_;function axis(g){g.each(function(){var g=d3.select(this);var scale0=this.__chart__||scale,scale1=this.__chart__=scale.copy();var ticks=tickValues==null?scale1.ticks?scale1.ticks.apply(scale1,tickArguments_):scale1.domain():tickValues,tickFormat=tickFormat_==null?scale1.tickFormat?scale1.tickFormat.apply(scale1,tickArguments_):d3_identity:tickFormat_,tick=g.selectAll(".tick").data(ticks,scale1),tickEnter=tick.enter().insert("g",".domain").attr("class","tick").style("opacity",ε),tickExit=d3.transition(tick.exit()).style("opacity",ε).remove(),tickUpdate=d3.transition(tick.order()).style("opacity",1),tickSpacing=Math.max(innerTickSize,0)+tickPadding,tickTransform;var range=d3_scaleRange(scale1),path=g.selectAll(".domain").data([0]),pathUpdate=(path.enter().append("path").attr("class","domain"),d3.transition(path));tickEnter.append("line");tickEnter.append("text");var lineEnter=tickEnter.select("line"),lineUpdate=tickUpdate.select("line"),text=tick.select("text").text(tickFormat),textEnter=tickEnter.select("text"),textUpdate=tickUpdate.select("text"),sign=orient==="top"||orient==="left"?-1:1,x1,x2,y1,y2;if(orient==="bottom"||orient==="top"){tickTransform=d3_svg_axisX,x1="x",y1="y",x2="x2",y2="y2";text.attr("dy",sign<0?"0em":".71em").style("text-anchor","middle");pathUpdate.attr("d","M"+range[0]+","+sign*outerTickSize+"V0H"+range[1]+"V"+sign*outerTickSize)}else{tickTransform=d3_svg_axisY,x1="y",y1="x",x2="y2",y2="x2";text.attr("dy",".32em").style("text-anchor",sign<0?"end":"start");pathUpdate.attr("d","M"+sign*outerTickSize+","+range[0]+"H0V"+range[1]+"H"+sign*outerTickSize)}lineEnter.attr(y2,sign*innerTickSize);textEnter.attr(y1,sign*tickSpacing);lineUpdate.attr(x2,0).attr(y2,sign*innerTickSize);textUpdate.attr(x1,0).attr(y1,sign*tickSpacing);if(scale1.rangeBand){var x=scale1,dx=x.rangeBand()/2;scale0=scale1=function(d){return x(d)+dx}}else if(scale0.rangeBand){scale0=scale1}else{tickExit.call(tickTransform,scale1,scale0)}tickEnter.call(tickTransform,scale0,scale1);tickUpdate.call(tickTransform,scale1,scale1)})}axis.scale=function(x){if(!arguments.length)return scale;scale=x;return axis};axis.orient=function(x){if(!arguments.length)return orient;orient=x in d3_svg_axisOrients?x+"":d3_svg_axisDefaultOrient;return axis};axis.ticks=function(){if(!arguments.length)return tickArguments_;tickArguments_=arguments;return axis};axis.tickValues=function(x){if(!arguments.length)return tickValues;tickValues=x;return axis};axis.tickFormat=function(x){if(!arguments.length)return tickFormat_;tickFormat_=x;return axis};axis.tickSize=function(x){var n=arguments.length;if(!n)return innerTickSize;innerTickSize=+x;outerTickSize=+arguments[n-1];return axis};axis.innerTickSize=function(x){if(!arguments.length)return innerTickSize;innerTickSize=+x;return axis};axis.outerTickSize=function(x){if(!arguments.length)return outerTickSize;outerTickSize=+x;return axis};axis.tickPadding=function(x){if(!arguments.length)return tickPadding;tickPadding=+x;return axis};axis.tickSubdivide=function(){return arguments.length&&axis};return axis};var d3_svg_axisDefaultOrient="bottom",d3_svg_axisOrients={top:1,right:1,bottom:1,left:1};function d3_svg_axisX(selection,x0,x1){selection.attr("transform",function(d){var v0=x0(d);return"translate("+(isFinite(v0)?v0:x1(d))+",0)"})}function d3_svg_axisY(selection,y0,y1){selection.attr("transform",function(d){var v0=y0(d);return"translate(0,"+(isFinite(v0)?v0:y1(d))+")"})}d3.svg.brush=function(){var event=d3_eventDispatch(brush,"brushstart","brush","brushend"),x=null,y=null,xExtent=[0,0],yExtent=[0,0],xExtentDomain,yExtentDomain,xClamp=true,yClamp=true,resizes=d3_svg_brushResizes[0];function brush(g){g.each(function(){var g=d3.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart);var background=g.selectAll(".background").data([0]);background.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var resize=g.selectAll(".resize").data(resizes,d3_identity);resize.exit().remove();resize.enter().append("g").attr("class",function(d){return"resize "+d}).style("cursor",function(d){return d3_svg_brushCursor[d]}).append("rect").attr("x",function(d){return/[ew]$/.test(d)?-3:null}).attr("y",function(d){return/^[ns]/.test(d)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");resize.style("display",brush.empty()?"none":null);var gUpdate=d3.transition(g),backgroundUpdate=d3.transition(background),range;if(x){range=d3_scaleRange(x);backgroundUpdate.attr("x",range[0]).attr("width",range[1]-range[0]);redrawX(gUpdate)}if(y){range=d3_scaleRange(y);backgroundUpdate.attr("y",range[0]).attr("height",range[1]-range[0]);redrawY(gUpdate)}redraw(gUpdate)})}brush.event=function(g){g.each(function(){var event_=event.of(this,arguments),extent1={x:xExtent,y:yExtent,i:xExtentDomain,j:yExtentDomain},extent0=this.__chart__||extent1;this.__chart__=extent1;if(d3_transitionInheritId){d3.select(this).transition().each("start.brush",function(){xExtentDomain=extent0.i;yExtentDomain=extent0.j;xExtent=extent0.x;yExtent=extent0.y;event_({type:"brushstart"})}).tween("brush:brush",function(){var xi=d3_interpolateArray(xExtent,extent1.x),yi=d3_interpolateArray(yExtent,extent1.y);xExtentDomain=yExtentDomain=null;return function(t){xExtent=extent1.x=xi(t);yExtent=extent1.y=yi(t);event_({type:"brush",mode:"resize"})}}).each("end.brush",function(){xExtentDomain=extent1.i;yExtentDomain=extent1.j;event_({type:"brush",mode:"resize"});event_({type:"brushend"})})}else{event_({type:"brushstart"});event_({type:"brush",mode:"resize"});event_({type:"brushend"})}})};function redraw(g){g.selectAll(".resize").attr("transform",function(d){return"translate("+xExtent[+/e$/.test(d)]+","+yExtent[+/^s/.test(d)]+")"})}function redrawX(g){g.select(".extent").attr("x",xExtent[0]);g.selectAll(".extent,.n>rect,.s>rect").attr("width",xExtent[1]-xExtent[0])}function redrawY(g){g.select(".extent").attr("y",yExtent[0]);g.selectAll(".extent,.e>rect,.w>rect").attr("height",yExtent[1]-yExtent[0])}function brushstart(){var target=this,eventTarget=d3.select(d3.event.target),event_=event.of(target,arguments),g=d3.select(target),resizing=eventTarget.datum(),resizingX=!/^(n|s)$/.test(resizing)&&x,resizingY=!/^(e|w)$/.test(resizing)&&y,dragging=eventTarget.classed("extent"),dragRestore=d3_event_dragSuppress(),center,origin=d3.mouse(target),offset;var w=d3.select(d3_window).on("keydown.brush",keydown).on("keyup.brush",keyup);if(d3.event.changedTouches){w.on("touchmove.brush",brushmove).on("touchend.brush",brushend)}else{w.on("mousemove.brush",brushmove).on("mouseup.brush",brushend)}g.interrupt().selectAll("*").interrupt();if(dragging){origin[0]=xExtent[0]-origin[0];origin[1]=yExtent[0]-origin[1]}else if(resizing){var ex=+/w$/.test(resizing),ey=+/^n/.test(resizing);offset=[xExtent[1-ex]-origin[0],yExtent[1-ey]-origin[1]];origin[0]=xExtent[ex];origin[1]=yExtent[ey]}else if(d3.event.altKey)center=origin.slice();g.style("pointer-events","none").selectAll(".resize").style("display",null);d3.select("body").style("cursor",eventTarget.style("cursor"));event_({type:"brushstart"});brushmove();function keydown(){if(d3.event.keyCode==32){if(!dragging){center=null;origin[0]-=xExtent[1];origin[1]-=yExtent[1];dragging=2}d3_eventPreventDefault()}}function keyup(){if(d3.event.keyCode==32&&dragging==2){origin[0]+=xExtent[1];origin[1]+=yExtent[1];dragging=0;d3_eventPreventDefault()}}function brushmove(){var point=d3.mouse(target),moved=false;if(offset){point[0]+=offset[0];point[1]+=offset[1]}if(!dragging){if(d3.event.altKey){if(!center)center=[(xExtent[0]+xExtent[1])/2,(yExtent[0]+yExtent[1])/2];origin[0]=xExtent[+(point[0]<center[0])];origin[1]=yExtent[+(point[1]<center[1])]}else center=null}if(resizingX&&move1(point,x,0)){redrawX(g);moved=true}if(resizingY&&move1(point,y,1)){redrawY(g);moved=true}if(moved){redraw(g);event_({type:"brush",mode:dragging?"move":"resize"})}}function move1(point,scale,i){var range=d3_scaleRange(scale),r0=range[0],r1=range[1],position=origin[i],extent=i?yExtent:xExtent,size=extent[1]-extent[0],min,max;if(dragging){r0-=position;r1-=size+position}min=(i?yClamp:xClamp)?Math.max(r0,Math.min(r1,point[i])):point[i];if(dragging){max=(min+=position)+size}else{if(center)position=Math.max(r0,Math.min(r1,2*center[i]-min));if(position<min){max=min;min=position}else{max=position}}if(extent[0]!=min||extent[1]!=max){if(i)yExtentDomain=null;else xExtentDomain=null;extent[0]=min;extent[1]=max;return true}}function brushend(){brushmove();g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null);d3.select("body").style("cursor",null);w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);dragRestore();event_({type:"brushend"})}}brush.x=function(z){if(!arguments.length)return x;x=z;resizes=d3_svg_brushResizes[!x<<1|!y];return brush};brush.y=function(z){if(!arguments.length)return y;y=z;resizes=d3_svg_brushResizes[!x<<1|!y];return brush};brush.clamp=function(z){if(!arguments.length)return x&&y?[xClamp,yClamp]:x?xClamp:y?yClamp:null;if(x&&y)xClamp=!!z[0],yClamp=!!z[1];else if(x)xClamp=!!z;else if(y)yClamp=!!z;return brush};brush.extent=function(z){var x0,x1,y0,y1,t;if(!arguments.length){if(x){if(xExtentDomain){x0=xExtentDomain[0],x1=xExtentDomain[1]}else{x0=xExtent[0],x1=xExtent[1];if(x.invert)x0=x.invert(x0),x1=x.invert(x1);if(x1<x0)t=x0,x0=x1,x1=t}}if(y){if(yExtentDomain){y0=yExtentDomain[0],y1=yExtentDomain[1]}else{y0=yExtent[0],y1=yExtent[1];if(y.invert)y0=y.invert(y0),y1=y.invert(y1);if(y1<y0)t=y0,y0=y1,y1=t}}return x&&y?[[x0,y0],[x1,y1]]:x?[x0,x1]:y&&[y0,y1]}if(x){x0=z[0],x1=z[1];if(y)x0=x0[0],x1=x1[0];xExtentDomain=[x0,x1];if(x.invert)x0=x(x0),x1=x(x1);if(x1<x0)t=x0,x0=x1,x1=t;if(x0!=xExtent[0]||x1!=xExtent[1])xExtent=[x0,x1]}if(y){y0=z[0],y1=z[1];if(x)y0=y0[1],y1=y1[1];yExtentDomain=[y0,y1];if(y.invert)y0=y(y0),y1=y(y1);if(y1<y0)t=y0,y0=y1,y1=t;if(y0!=yExtent[0]||y1!=yExtent[1])yExtent=[y0,y1]}return brush};brush.clear=function(){if(!brush.empty()){xExtent=[0,0],yExtent=[0,0];xExtentDomain=yExtentDomain=null}return brush};brush.empty=function(){return!!x&&xExtent[0]==xExtent[1]||!!y&&yExtent[0]==yExtent[1]};return d3.rebind(brush,event,"on")};var d3_svg_brushCursor={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var d3_svg_brushResizes=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var d3_time_format=d3_time.format=d3_locale_enUS.timeFormat;var d3_time_formatUtc=d3_time_format.utc;var d3_time_formatIso=d3_time_formatUtc("%Y-%m-%dT%H:%M:%S.%LZ");d3_time_format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:d3_time_formatIso;function d3_time_formatIsoNative(date){return date.toISOString()}d3_time_formatIsoNative.parse=function(string){var date=new Date(string);return isNaN(date)?null:date};d3_time_formatIsoNative.toString=d3_time_formatIso.toString;d3_time.second=d3_time_interval(function(date){return new d3_date(Math.floor(date/1e3)*1e3)},function(date,offset){date.setTime(date.getTime()+Math.floor(offset)*1e3)},function(date){return date.getSeconds()});d3_time.seconds=d3_time.second.range;d3_time.seconds.utc=d3_time.second.utc.range;d3_time.minute=d3_time_interval(function(date){return new d3_date(Math.floor(date/6e4)*6e4)},function(date,offset){date.setTime(date.getTime()+Math.floor(offset)*6e4)},function(date){return date.getMinutes()});d3_time.minutes=d3_time.minute.range;d3_time.minutes.utc=d3_time.minute.utc.range;d3_time.hour=d3_time_interval(function(date){var timezone=date.getTimezoneOffset()/60;return new d3_date((Math.floor(date/36e5-timezone)+timezone)*36e5)},function(date,offset){date.setTime(date.getTime()+Math.floor(offset)*36e5)},function(date){return date.getHours()});d3_time.hours=d3_time.hour.range;d3_time.hours.utc=d3_time.hour.utc.range;d3_time.month=d3_time_interval(function(date){date=d3_time.day(date);date.setDate(1);return date},function(date,offset){date.setMonth(date.getMonth()+offset)},function(date){return date.getMonth()});d3_time.months=d3_time.month.range;d3_time.months.utc=d3_time.month.utc.range;function d3_time_scale(linear,methods,format){function scale(x){return linear(x)}scale.invert=function(x){return d3_time_scaleDate(linear.invert(x))};scale.domain=function(x){if(!arguments.length)return linear.domain().map(d3_time_scaleDate);linear.domain(x);return scale};function tickMethod(extent,count){var span=extent[1]-extent[0],target=span/count,i=d3.bisect(d3_time_scaleSteps,target);return i==d3_time_scaleSteps.length?[methods.year,d3_scale_linearTickRange(extent.map(function(d){return d/31536e6}),count)[2]]:!i?[d3_time_scaleMilliseconds,d3_scale_linearTickRange(extent,count)[2]]:methods[target/d3_time_scaleSteps[i-1]<d3_time_scaleSteps[i]/target?i-1:i]
}scale.nice=function(interval,skip){var domain=scale.domain(),extent=d3_scaleExtent(domain),method=interval==null?tickMethod(extent,10):typeof interval==="number"&&tickMethod(extent,interval);if(method)interval=method[0],skip=method[1];function skipped(date){return!isNaN(date)&&!interval.range(date,d3_time_scaleDate(+date+1),skip).length}return scale.domain(d3_scale_nice(domain,skip>1?{floor:function(date){while(skipped(date=interval.floor(date)))date=d3_time_scaleDate(date-1);return date},ceil:function(date){while(skipped(date=interval.ceil(date)))date=d3_time_scaleDate(+date+1);return date}}:interval))};scale.ticks=function(interval,skip){var extent=d3_scaleExtent(scale.domain()),method=interval==null?tickMethod(extent,10):typeof interval==="number"?tickMethod(extent,interval):!interval.range&&[{range:interval},skip];if(method)interval=method[0],skip=method[1];return interval.range(extent[0],d3_time_scaleDate(+extent[1]+1),skip<1?1:skip)};scale.tickFormat=function(){return format};scale.copy=function(){return d3_time_scale(linear.copy(),methods,format)};return d3_scale_linearRebind(scale,linear)}function d3_time_scaleDate(t){return new Date(t)}var d3_time_scaleSteps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var d3_time_scaleLocalMethods=[[d3_time.second,1],[d3_time.second,5],[d3_time.second,15],[d3_time.second,30],[d3_time.minute,1],[d3_time.minute,5],[d3_time.minute,15],[d3_time.minute,30],[d3_time.hour,1],[d3_time.hour,3],[d3_time.hour,6],[d3_time.hour,12],[d3_time.day,1],[d3_time.day,2],[d3_time.week,1],[d3_time.month,1],[d3_time.month,3],[d3_time.year,1]];var d3_time_scaleLocalFormat=d3_time_format.multi([[".%L",function(d){return d.getMilliseconds()}],[":%S",function(d){return d.getSeconds()}],["%I:%M",function(d){return d.getMinutes()}],["%I %p",function(d){return d.getHours()}],["%a %d",function(d){return d.getDay()&&d.getDate()!=1}],["%b %d",function(d){return d.getDate()!=1}],["%B",function(d){return d.getMonth()}],["%Y",d3_true]]);var d3_time_scaleMilliseconds={range:function(start,stop,step){return d3.range(Math.ceil(start/step)*step,+stop,step).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};d3_time_scaleLocalMethods.year=d3_time.year;d3_time.scale=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleLocalMethods,d3_time_scaleLocalFormat)};var d3_time_scaleUtcMethods=d3_time_scaleLocalMethods.map(function(m){return[m[0].utc,m[1]]});var d3_time_scaleUtcFormat=d3_time_formatUtc.multi([[".%L",function(d){return d.getUTCMilliseconds()}],[":%S",function(d){return d.getUTCSeconds()}],["%I:%M",function(d){return d.getUTCMinutes()}],["%I %p",function(d){return d.getUTCHours()}],["%a %d",function(d){return d.getUTCDay()&&d.getUTCDate()!=1}],["%b %d",function(d){return d.getUTCDate()!=1}],["%B",function(d){return d.getUTCMonth()}],["%Y",d3_true]]);d3_time_scaleUtcMethods.year=d3_time.year.utc;d3_time.scale.utc=function(){return d3_time_scale(d3.scale.linear(),d3_time_scaleUtcMethods,d3_time_scaleUtcFormat)};d3.text=d3_xhrType(function(request){return request.responseText});d3.json=function(url,callback){return d3_xhr(url,"application/json",d3_json,callback)};function d3_json(request){return JSON.parse(request.responseText)}d3.html=function(url,callback){return d3_xhr(url,"text/html",d3_html,callback)};function d3_html(request){var range=d3_document.createRange();range.selectNode(d3_document.body);return range.createContextualFragment(request.responseText)}d3.xml=d3_xhrType(function(request){return request.responseXML});if(typeof define==="function"&&define.amd)define(d3);else if(typeof module==="object"&&module.exports)module.exports=d3;this.d3=d3}();self=typeof window!=="undefined"?window:typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var lang=/\blang(?:uage)?-(?!\*)(\w+)\b/i;var _=self.Prism={util:{encode:function(tokens){if(tokens instanceof Token){return new Token(tokens.type,_.util.encode(tokens.content),tokens.alias)}else if(_.util.type(tokens)==="Array"){return tokens.map(_.util.encode)}else{return tokens.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")}},type:function(o){return Object.prototype.toString.call(o).match(/\[object (\w+)\]/)[1]},clone:function(o){var type=_.util.type(o);switch(type){case"Object":var clone={};for(var key in o){if(o.hasOwnProperty(key)){clone[key]=_.util.clone(o[key])}}return clone;case"Array":return o.slice()}return o}},languages:{extend:function(id,redef){var lang=_.util.clone(_.languages[id]);for(var key in redef){lang[key]=redef[key]}return lang},insertBefore:function(inside,before,insert,root){root=root||_.languages;var grammar=root[inside];if(arguments.length==2){insert=arguments[1];for(var newToken in insert){if(insert.hasOwnProperty(newToken)){grammar[newToken]=insert[newToken]}}return grammar}var ret={};for(var token in grammar){if(grammar.hasOwnProperty(token)){if(token==before){for(var newToken in insert){if(insert.hasOwnProperty(newToken)){ret[newToken]=insert[newToken]}}}ret[token]=grammar[token]}}_.languages.DFS(_.languages,function(key,value){if(value===root[inside]&&key!=inside){this[key]=ret}});return root[inside]=ret},DFS:function(o,callback,type){for(var i in o){if(o.hasOwnProperty(i)){callback.call(o,i,o[i],type||i);if(_.util.type(o[i])==="Object"){_.languages.DFS(o[i],callback)}else if(_.util.type(o[i])==="Array"){_.languages.DFS(o[i],callback,i)}}}}},highlightAll:function(async,callback){var elements=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');for(var i=0,element;element=elements[i++];){_.highlightElement(element,async===true,callback)}},highlightElement:function(element,async,callback){var language,grammar,parent=element;while(parent&&!lang.test(parent.className)){parent=parent.parentNode}if(parent){language=(parent.className.match(lang)||[,""])[1];grammar=_.languages[language]}if(!grammar){return}element.className=element.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language;parent=element.parentNode;if(/pre/i.test(parent.nodeName)){parent.className=parent.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language}var code=element.textContent;if(!code){return}var env={element:element,language:language,grammar:grammar,code:code};_.hooks.run("before-highlight",env);if(async&&self.Worker){var worker=new Worker(_.filename);worker.onmessage=function(evt){env.highlightedCode=Token.stringify(JSON.parse(evt.data),language);_.hooks.run("before-insert",env);env.element.innerHTML=env.highlightedCode;callback&&callback.call(env.element);_.hooks.run("after-highlight",env)};worker.postMessage(JSON.stringify({language:env.language,code:env.code}))}else{env.highlightedCode=_.highlight(env.code,env.grammar,env.language);_.hooks.run("before-insert",env);env.element.innerHTML=env.highlightedCode;callback&&callback.call(element);_.hooks.run("after-highlight",env)}},highlight:function(text,grammar,language){var tokens=_.tokenize(text,grammar);return Token.stringify(_.util.encode(tokens),language)},tokenize:function(text,grammar,language){var Token=_.Token;var strarr=[text];var rest=grammar.rest;if(rest){for(var token in rest){grammar[token]=rest[token]}delete grammar.rest}tokenloop:for(var token in grammar){if(!grammar.hasOwnProperty(token)||!grammar[token]){continue}var patterns=grammar[token];patterns=_.util.type(patterns)==="Array"?patterns:[patterns];for(var j=0;j<patterns.length;++j){var pattern=patterns[j],inside=pattern.inside,lookbehind=!!pattern.lookbehind,lookbehindLength=0,alias=pattern.alias;pattern=pattern.pattern||pattern;for(var i=0;i<strarr.length;i++){var str=strarr[i];if(strarr.length>text.length){break tokenloop}if(str instanceof Token){continue}pattern.lastIndex=0;var match=pattern.exec(str);if(match){if(lookbehind){lookbehindLength=match[1].length}var from=match.index-1+lookbehindLength,match=match[0].slice(lookbehindLength),len=match.length,to=from+len,before=str.slice(0,from+1),after=str.slice(to+1);var args=[i,1];if(before){args.push(before)}var wrapped=new Token(token,inside?_.tokenize(match,inside):match,alias);args.push(wrapped);if(after){args.push(after)}Array.prototype.splice.apply(strarr,args)}}}}return strarr},hooks:{all:{},add:function(name,callback){var hooks=_.hooks.all;hooks[name]=hooks[name]||[];hooks[name].push(callback)},run:function(name,env){var callbacks=_.hooks.all[name];if(!callbacks||!callbacks.length){return}for(var i=0,callback;callback=callbacks[i++];){callback(env)}}}};var Token=_.Token=function(type,content,alias){this.type=type;this.content=content;this.alias=alias};Token.stringify=function(o,language,parent){if(typeof o=="string"){return o}if(Object.prototype.toString.call(o)=="[object Array]"){return o.map(function(element){return Token.stringify(element,language,o)}).join("")}var env={type:o.type,content:Token.stringify(o.content,language,parent),tag:"span",classes:["token",o.type],attributes:{},language:language,parent:parent};if(env.type=="comment"){env.attributes["spellcheck"]="true"}if(o.alias){var aliases=_.util.type(o.alias)==="Array"?o.alias:[o.alias];Array.prototype.push.apply(env.classes,aliases)}_.hooks.run("wrap",env);var attributes="";for(var name in env.attributes){attributes+=name+'="'+(env.attributes[name]||"")+'"'}return"<"+env.tag+' class="'+env.classes.join(" ")+'" '+attributes+">"+env.content+"</"+env.tag+">"};if(!self.document){if(!self.addEventListener){return self.Prism}self.addEventListener("message",function(evt){var message=JSON.parse(evt.data),lang=message.language,code=message.code;self.postMessage(JSON.stringify(_.util.encode(_.tokenize(code,_.languages[lang]))));self.close()},false);return self.Prism}var script=document.getElementsByTagName("script");script=script[script.length-1];if(script){_.filename=script.src;if(document.addEventListener&&!script.hasAttribute("data-manual")){document.addEventListener("DOMContentLoaded",_.highlightAll)}}return self.Prism}();if(typeof module!=="undefined"&&module.exports){module.exports=Prism}Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//g,lookbehind:true},{pattern:/(^|[^\\:])\/\/.*?(\r?\n|$)/g,lookbehind:true}],string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:true,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g});Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:true}});if(Prism.languages.markup){Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript},alias:"language-javascript"}})}Prism.languages.java=Prism.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/g,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+[e]?[\d]*[df]\b|\W\d*\.?\d+\b/gi,operator:{pattern:/(^|[^\.])(?:\+=|\+\+?|-=|--?|!=?|<{1,2}=?|>{1,3}=?|==?|&=|&&?|\|=|\|\|?|\?|\*=?|\/=?|%=?|\^=?|:|~)/gm,lookbehind:true}});Prism.languages.php=Prism.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/gi,constant:/\b[A-Z0-9_]{2,}\b/g,comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])(\/\/|#).*?(\r?\n|$))/g,lookbehind:true}});Prism.languages.insertBefore("php","keyword",{delimiter:/(\?>|<\?php|<\?)/gi,variable:/(\$\w+)\b/gi,"package":{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/g,lookbehind:true,inside:{punctuation:/\\/}}});Prism.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/g,lookbehind:true}});if(Prism.languages.markup){Prism.hooks.add("before-highlight",function(env){if(env.language!=="php"){return}env.tokenStack=[];env.backupCode=env.code;env.code=env.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,function(match){env.tokenStack.push(match);return"{{{PHP"+env.tokenStack.length+"}}}"})});Prism.hooks.add("before-insert",function(env){if(env.language==="php"){env.code=env.backupCode;delete env.backupCode}});Prism.hooks.add("after-highlight",function(env){if(env.language!=="php"){return}for(var i=0,t;t=env.tokenStack[i];i++){env.highlightedCode=env.highlightedCode.replace("{{{PHP"+(i+1)+"}}}",Prism.highlight(t,env.grammar,"php"))}env.element.innerHTML=env.highlightedCode});Prism.hooks.add("wrap",function(env){if(env.language==="php"&&env.type==="markup"){env.content=env.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>')}});Prism.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/g,inside:Prism.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/g})}Prism.languages.bash=Prism.languages.extend("clike",{comment:{pattern:/(^|[^"{\\])(#.*?(\r?\n|$))/g,lookbehind:true},string:{pattern:/("|')(\\?[\s\S])*?\1/g,inside:{property:/\$([a-zA-Z0-9_#\?\-\*!@]+|\{[^\}]+\})/g}},keyword:/\b(if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)\b/g});Prism.languages.insertBefore("bash","keyword",{property:/\$([a-zA-Z0-9_#\?\-\*!@]+|\{[^}]+\})/g});Prism.languages.insertBefore("bash","comment",{important:/(^#!\s*\/bin\/bash)|(^#!\s*\/bin\/sh)/g});Prism.languages.python={comment:{pattern:/(^|[^\\])#.*?(\r?\n|$)/g,lookbehind:true},string:/"""[\s\S]+?"""|("|')(\\?.)*?\1/g,keyword:/\b(as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/g,"boolean":/\b(True|False)\b/g,number:/\b-?(0x)?\d*\.?[\da-f]+\b/g,operator:/[-+]{1,2}|=?&lt;|=?&gt;|!|={1,2}|(&){1,2}|(&amp;){1,2}|\|?\||\?|\*|\/|~|\^|%|\b(or|and|not)\b/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};Prism.languages.ruby=Prism.languages.extend("clike",{comment:/#[^\r\n]*(\r?\n|$)/g,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/g,builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*[?!]?\b/g});Prism.languages.insertBefore("ruby","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:true},variable:/[@$]+\b[a-zA-Z_][a-zA-Z_0-9]*[?!]?\b/g,symbol:/:\b[a-zA-Z_][a-zA-Z_0-9]*[?!]?\b/g});Prism.languages.csharp=Prism.languages.extend("clike",{keyword:/\b(abstract|as|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/g,string:/@?("|')(\\?.)*?\1/g,preprocessor:/^\s*#.*/gm,number:/\b-?(0x)?\d*\.?\d+\b/g});Prism.languages.go=Prism.languages.extend("clike",{keyword:/\b(break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/g,builtin:/\b(bool|byte|complex(64|128)|error|float(32|64)|rune|string|u?int(8|16|32|64|)|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(ln)?|real|recover)\b/g,"boolean":/\b(_|iota|nil|true|false)\b/g,operator:/([(){}\[\]]|[*\/%^!]=?|\+[=+]?|-[>=-]?|\|[=|]?|>[=>]?|<(<|[=-])?|==?|&(&|=|^=?)?|\.(\.\.)?|[,;]|:=?)/g,number:/\b(-?(0x[a-f\d]+|(\d+\.?\d*|\.\d+)(e[-+]?\d+)?)i?)\b/gi,string:/("|'|`)(\\?.|\r|\n)*?\1/g});delete Prism.languages.go["class-name"];Prism.languages.swift=Prism.languages.extend("clike",{keyword:/\b(as|associativity|break|case|class|continue|convenience|default|deinit|didSet|do|dynamicType|else|enum|extension|fallthrough|final|for|func|get|if|import|in|infix|init|inout|internal|is|lazy|left|let|mutating|new|none|nonmutating|operator|optional|override|postfix|precedence|prefix|private|protocol|public|required|return|right|safe|self|Self|set|static|struct|subscript|super|switch|Type|typealias|unowned|unowned|unsafe|var|weak|where|while|willSet|__COLUMN__|__FILE__|__FUNCTION__|__LINE__)\b/g,number:/\b([\d_]+(\.[\de_]+)?|0x[a-f0-9_]+(\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/gi,constant:/\b(nil|[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/g,atrule:/\@\b(IBOutlet|IBDesignable|IBAction|IBInspectable|class_protocol|exported|noreturn|NSCopying|NSManaged|objc|UIApplicationMain|auto_closure)\b/g,builtin:/\b([A-Z]\S+|abs|advance|alignof|alignofValue|assert|contains|count|countElements|debugPrint|debugPrintln|distance|dropFirst|dropLast|dump|enumerate|equal|filter|find|first|getVaList|indices|isEmpty|join|last|lazy|lexicographicalCompare|map|max|maxElement|min|minElement|numericCast|overlaps|partition|prefix|print|println|reduce|reflect|reverse|sizeof|sizeofValue|sort|sorted|split|startsWith|stride|strideof|strideofValue|suffix|swap|toDebugString|toString|transcode|underestimateCount|unsafeBitCast|withExtendedLifetime|withUnsafeMutablePointer|withUnsafeMutablePointers|withUnsafePointer|withUnsafePointers|withVaList)\b/g});(function(root,factory){if(typeof define==="function"&&define.amd){define(["d3"],function(d3){return root.Rickshaw=factory(d3)})}else if(typeof exports==="object"){module.exports=factory(require("d3"))}else{root.Rickshaw=factory(d3)}})(this,function(d3){var Rickshaw={namespace:function(namespace,obj){var parts=namespace.split(".");var parent=Rickshaw;for(var i=1,length=parts.length;i<length;i++){var currentPart=parts[i];parent[currentPart]=parent[currentPart]||{};parent=parent[currentPart]}return parent},keys:function(obj){var keys=[];for(var key in obj)keys.push(key);return keys},extend:function(destination,source){for(var property in source){destination[property]=source[property]}return destination},clone:function(obj){return JSON.parse(JSON.stringify(obj))}};(function(globalContext){var _toString=Object.prototype.toString,NULL_TYPE="Null",UNDEFINED_TYPE="Undefined",BOOLEAN_TYPE="Boolean",NUMBER_TYPE="Number",STRING_TYPE="String",OBJECT_TYPE="Object",FUNCTION_CLASS="[object Function]";function isFunction(object){return _toString.call(object)===FUNCTION_CLASS}function extend(destination,source){for(var property in source)if(source.hasOwnProperty(property))destination[property]=source[property];return destination}function keys(object){if(Type(object)!==OBJECT_TYPE){throw new TypeError}var results=[];for(var property in object){if(object.hasOwnProperty(property)){results.push(property)}}return results}function Type(o){switch(o){case null:return NULL_TYPE;case void 0:return UNDEFINED_TYPE}var type=typeof o;switch(type){case"boolean":return BOOLEAN_TYPE;case"number":return NUMBER_TYPE;case"string":return STRING_TYPE}return OBJECT_TYPE}function isUndefined(object){return typeof object==="undefined"}var slice=Array.prototype.slice;function argumentNames(fn){var names=fn.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return names.length==1&&!names[0]?[]:names}function wrap(fn,wrapper){var __method=fn;return function(){var a=update([bind(__method,this)],arguments);return wrapper.apply(this,a)}}function update(array,args){var arrayLength=array.length,length=args.length;while(length--)array[arrayLength+length]=args[length];return array}function merge(array,args){array=slice.call(array,0);return update(array,args)}function bind(fn,context){if(arguments.length<2&&isUndefined(arguments[0]))return this;var __method=fn,args=slice.call(arguments,2);return function(){var a=merge(args,arguments);return __method.apply(context,a)}}var emptyFunction=function(){};var Class=function(){var IS_DONTENUM_BUGGY=function(){for(var p in{toString:1}){if(p==="toString")return false}return true}();function subclass(){}function create(){var parent=null,properties=[].slice.apply(arguments);if(isFunction(properties[0]))parent=properties.shift();function klass(){this.initialize.apply(this,arguments)}extend(klass,Class.Methods);klass.superclass=parent;klass.subclasses=[];if(parent){subclass.prototype=parent.prototype;klass.prototype=new subclass;try{parent.subclasses.push(klass)}catch(e){}}for(var i=0,length=properties.length;i<length;i++)klass.addMethods(properties[i]);if(!klass.prototype.initialize)klass.prototype.initialize=emptyFunction;klass.prototype.constructor=klass;return klass}function addMethods(source){var ancestor=this.superclass&&this.superclass.prototype,properties=keys(source);if(IS_DONTENUM_BUGGY){if(source.toString!=Object.prototype.toString)properties.push("toString");if(source.valueOf!=Object.prototype.valueOf)properties.push("valueOf")}for(var i=0,length=properties.length;i<length;i++){var property=properties[i],value=source[property];if(ancestor&&isFunction(value)&&argumentNames(value)[0]=="$super"){var method=value;value=wrap(function(m){return function(){return ancestor[m].apply(this,arguments)}}(property),method);value.valueOf=bind(method.valueOf,method);value.toString=bind(method.toString,method)}this.prototype[property]=value}return this}return{create:create,Methods:{addMethods:addMethods}}}();if(globalContext.exports){globalContext.exports.Class=Class}else{globalContext.Class=Class}})(Rickshaw);Rickshaw.namespace("Rickshaw.Compat.ClassList");Rickshaw.Compat.ClassList=function(){if(typeof document!=="undefined"&&!("classList"in document.createElement("a"))){(function(view){"use strict";var classListProp="classList",protoProp="prototype",elemCtrProto=(view.HTMLElement||view.Element)[protoProp],objCtr=Object,strTrim=String[protoProp].trim||function(){return this.replace(/^\s+|\s+$/g,"")},arrIndexOf=Array[protoProp].indexOf||function(item){var i=0,len=this.length;for(;i<len;i++){if(i in this&&this[i]===item){return i}}return-1},DOMEx=function(type,message){this.name=type;this.code=DOMException[type];this.message=message},checkTokenAndGetIndex=function(classList,token){if(token===""){throw new DOMEx("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(token)){throw new DOMEx("INVALID_CHARACTER_ERR","String contains an invalid character")}return arrIndexOf.call(classList,token)},ClassList=function(elem){var trimmedClasses=strTrim.call(elem.className),classes=trimmedClasses?trimmedClasses.split(/\s+/):[],i=0,len=classes.length;for(;i<len;i++){this.push(classes[i])}this._updateClassName=function(){elem.className=this.toString()}},classListProto=ClassList[protoProp]=[],classListGetter=function(){return new ClassList(this)};DOMEx[protoProp]=Error[protoProp];classListProto.item=function(i){return this[i]||null};classListProto.contains=function(token){token+="";return checkTokenAndGetIndex(this,token)!==-1};classListProto.add=function(token){token+="";if(checkTokenAndGetIndex(this,token)===-1){this.push(token);this._updateClassName()}};classListProto.remove=function(token){token+="";var index=checkTokenAndGetIndex(this,token);if(index!==-1){this.splice(index,1);this._updateClassName()}};classListProto.toggle=function(token){token+="";if(checkTokenAndGetIndex(this,token)===-1){this.add(token)}else{this.remove(token)}};classListProto.toString=function(){return this.join(" ")};if(objCtr.defineProperty){var classListPropDesc={get:classListGetter,enumerable:true,configurable:true};try{objCtr.defineProperty(elemCtrProto,classListProp,classListPropDesc)}catch(ex){if(ex.number===-2146823252){classListPropDesc.enumerable=false;objCtr.defineProperty(elemCtrProto,classListProp,classListPropDesc)}}}else if(objCtr[protoProp].__defineGetter__){elemCtrProto.__defineGetter__(classListProp,classListGetter)}})(window)}};if(typeof RICKSHAW_NO_COMPAT!=="undefined"&&!RICKSHAW_NO_COMPAT||typeof RICKSHAW_NO_COMPAT==="undefined"){new Rickshaw.Compat.ClassList}Rickshaw.namespace("Rickshaw.Graph");Rickshaw.Graph=function(args){var self=this;this.initialize=function(args){if(!args.element)throw"Rickshaw.Graph needs a reference to an element";if(args.element.nodeType!==1)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=args.element;this.series=args.series;this.window={};this.updateCallbacks=[];this.configureCallbacks=[];this.defaults={interpolation:"cardinal",offset:"zero",min:undefined,max:undefined,preserve:false,xScale:undefined,yScale:undefined,stack:true};this._loadRenderers();this.configure(args);this.validateSeries(args.series);this.series.active=function(){return self.series.filter(function(s){return!s.disabled})};this.setSize({width:args.width,height:args.height});this.element.classList.add("rickshaw_graph");this.vis=d3.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height);this.discoverRange()};this._loadRenderers=function(){for(var name in Rickshaw.Graph.Renderer){if(!name||!Rickshaw.Graph.Renderer.hasOwnProperty(name))continue;var r=Rickshaw.Graph.Renderer[name];if(!r||!r.prototype||!r.prototype.render)continue;self.registerRenderer(new r({graph:self}))}};this.validateSeries=function(series){if(!Array.isArray(series)&&!(series instanceof Rickshaw.Series)){var seriesSignature=Object.prototype.toString.apply(series);throw"series is not an array: "+seriesSignature}var pointsCount;series.forEach(function(s){if(!(s instanceof Object)){throw"series element is not an object: "+s}if(!s.data){throw"series has no data: "+JSON.stringify(s)}if(!Array.isArray(s.data)){throw"series data is not an array: "+JSON.stringify(s.data)}if(s.data.length>0){var x=s.data[0].x;var y=s.data[0].y;if(typeof x!="number"||typeof y!="number"&&y!==null){throw"x and y properties of points should be numbers instead of "+typeof x+" and "+typeof y}}if(s.data.length>=3){if(s.data[2].x<s.data[1].x||s.data[1].x<s.data[0].x||s.data[s.data.length-1].x<s.data[0].x){throw"series data needs to be sorted on x values for series name: "+s.name}}},this)};this.dataDomain=function(){var data=this.series.map(function(s){return s.data});var min=d3.min(data.map(function(d){return d[0].x}));var max=d3.max(data.map(function(d){return d[d.length-1].x}));return[min,max]};this.discoverRange=function(){var domain=this.renderer.domain();this.x=(this.xScale||d3.scale.linear()).copy().domain(domain.x).range([0,this.width]);this.y=(this.yScale||d3.scale.linear()).copy().domain(domain.y).range([this.height,0]);this.x.magnitude=d3.scale.linear().domain([domain.x[0]-domain.x[0],domain.x[1]-domain.x[0]]).range([0,this.width]);this.y.magnitude=d3.scale.linear().domain([domain.y[0]-domain.y[0],domain.y[1]-domain.y[0]]).range([0,this.height])};this.render=function(){var stackedData=this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(callback){callback()})};this.update=this.render;this.stackData=function(){var data=this.series.active().map(function(d){return d.data}).map(function(d){return d.filter(function(d){return this._slice(d)},this)},this);var preserve=this.preserve;if(!preserve){this.series.forEach(function(series){if(series.scale){preserve=true}})}data=preserve?Rickshaw.clone(data):data;this.series.active().forEach(function(series,index){if(series.scale){var seriesData=data[index];if(seriesData){seriesData.forEach(function(d){d.y=series.scale(d.y)})}}});this.stackData.hooks.data.forEach(function(entry){data=entry.f.apply(self,[data])});var stackedData;if(!this.renderer.unstack){this._validateStackable();var layout=d3.layout.stack();layout.offset(self.offset);stackedData=layout(data)}stackedData=stackedData||data;if(this.renderer.unstack){stackedData.forEach(function(seriesData){seriesData.forEach(function(d){d.y0=d.y0===undefined?0:d.y0})})}this.stackData.hooks.after.forEach(function(entry){stackedData=entry.f.apply(self,[data])});var i=0;this.series.forEach(function(series){if(series.disabled)return;series.stack=stackedData[i++]});this.stackedData=stackedData;return stackedData};this._validateStackable=function(){var series=this.series;var pointsCount;series.forEach(function(s){pointsCount=pointsCount||s.data.length;if(pointsCount&&s.data.length!=pointsCount){throw"stacked series cannot have differing numbers of points: "+pointsCount+" vs "+s.data.length+"; see Rickshaw.Series.fill()"}},this)};this.stackData.hooks={data:[],after:[]};this._slice=function(d){if(this.window.xMin||this.window.xMax){var isInRange=true;if(this.window.xMin&&d.x<this.window.xMin)isInRange=false;if(this.window.xMax&&d.x>this.window.xMax)isInRange=false;return isInRange}return true};this.onUpdate=function(callback){this.updateCallbacks.push(callback)};this.onConfigure=function(callback){this.configureCallbacks.push(callback)};this.registerRenderer=function(renderer){this._renderers=this._renderers||{};this._renderers[renderer.name]=renderer};this.configure=function(args){this.config=this.config||{};if(args.width||args.height){this.setSize(args)}Rickshaw.keys(this.defaults).forEach(function(k){this.config[k]=k in args?args[k]:k in this?this[k]:this.defaults[k]},this);Rickshaw.keys(this.config).forEach(function(k){this[k]=this.config[k]},this);if("stack"in args)args.unstack=!args.stack;var renderer=args.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(renderer,args);this.configureCallbacks.forEach(function(callback){callback(args)})};this.setRenderer=function(r,args){if(typeof r=="function"){this.renderer=new r({graph:self});this.registerRenderer(this.renderer)}else{if(!this._renderers[r]){throw"couldn't find renderer "+r}this.renderer=this._renderers[r]}if(typeof args=="object"){this.renderer.configure(args)}};this.setSize=function(args){args=args||{};if(typeof window!==undefined){var style=window.getComputedStyle(this.element,null);var elementWidth=parseInt(style.getPropertyValue("width"),10);var elementHeight=parseInt(style.getPropertyValue("height"),10)}this.width=args.width||elementWidth||400;this.height=args.height||elementHeight||250;this.vis&&this.vis.attr("width",this.width).attr("height",this.height)};
this.initialize(args)};Rickshaw.namespace("Rickshaw.Fixtures.Color");Rickshaw.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse();this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"];this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"];this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse();this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse();this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"];this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]};Rickshaw.namespace("Rickshaw.Fixtures.RandomData");Rickshaw.Fixtures.RandomData=function(timeInterval){var addData;timeInterval=timeInterval||1;var lastRandomValue=200;var timeBase=Math.floor((new Date).getTime()/1e3);this.addData=function(data){var randomValue=Math.random()*100+15+lastRandomValue;var index=data[0].length;var counter=1;data.forEach(function(series){var randomVariance=Math.random()*20;var v=randomValue/25+counter++ +(Math.cos(index*counter*11/960)+2)*15+(Math.cos(index/7)+2)*7+(Math.cos(index/17)+2)*1;series.push({x:index*timeInterval+timeBase,y:v+randomVariance})});lastRandomValue=randomValue*.85};this.removeData=function(data){data.forEach(function(series){series.shift()});timeBase+=timeInterval}};Rickshaw.namespace("Rickshaw.Fixtures.Time");Rickshaw.Fixtures.Time=function(){var self=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.units=[{name:"decade",seconds:86400*365.25*10,formatter:function(d){return parseInt(d.getUTCFullYear()/10,10)*10}},{name:"year",seconds:86400*365.25,formatter:function(d){return d.getUTCFullYear()}},{name:"month",seconds:86400*30.5,formatter:function(d){return self.months[d.getUTCMonth()]}},{name:"week",seconds:86400*7,formatter:function(d){return self.formatDate(d)}},{name:"day",seconds:86400,formatter:function(d){return d.getUTCDate()}},{name:"6 hour",seconds:3600*6,formatter:function(d){return self.formatTime(d)}},{name:"hour",seconds:3600,formatter:function(d){return self.formatTime(d)}},{name:"15 minute",seconds:60*15,formatter:function(d){return self.formatTime(d)}},{name:"minute",seconds:60,formatter:function(d){return d.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(d){return d.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(d){return d.getUTCSeconds()+"s"}},{name:"decisecond",seconds:1/10,formatter:function(d){return d.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:1/100,formatter:function(d){return d.getUTCMilliseconds()+"ms"}}];this.unit=function(unitName){return this.units.filter(function(unit){return unitName==unit.name}).shift()};this.formatDate=function(d){return d3.time.format("%b %e")(d)};this.formatTime=function(d){return d.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(time,unit){var date,floor,year;if(unit.name=="month"){date=new Date(time*1e3);floor=Date.UTC(date.getUTCFullYear(),date.getUTCMonth())/1e3;if(floor==time)return time;year=date.getUTCFullYear();var month=date.getUTCMonth();if(month==11){month=0;year=year+1}else{month+=1}return Date.UTC(year,month)/1e3}if(unit.name=="year"){date=new Date(time*1e3);floor=Date.UTC(date.getUTCFullYear(),0)/1e3;if(floor==time)return time;year=date.getUTCFullYear()+1;return Date.UTC(year,0)/1e3}return Math.ceil(time/unit.seconds)*unit.seconds}};Rickshaw.namespace("Rickshaw.Fixtures.Time.Local");Rickshaw.Fixtures.Time.Local=function(){var self=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.units=[{name:"decade",seconds:86400*365.25*10,formatter:function(d){return parseInt(d.getFullYear()/10,10)*10}},{name:"year",seconds:86400*365.25,formatter:function(d){return d.getFullYear()}},{name:"month",seconds:86400*30.5,formatter:function(d){return self.months[d.getMonth()]}},{name:"week",seconds:86400*7,formatter:function(d){return self.formatDate(d)}},{name:"day",seconds:86400,formatter:function(d){return d.getDate()}},{name:"6 hour",seconds:3600*6,formatter:function(d){return self.formatTime(d)}},{name:"hour",seconds:3600,formatter:function(d){return self.formatTime(d)}},{name:"15 minute",seconds:60*15,formatter:function(d){return self.formatTime(d)}},{name:"minute",seconds:60,formatter:function(d){return d.getMinutes()}},{name:"15 second",seconds:15,formatter:function(d){return d.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(d){return d.getSeconds()+"s"}},{name:"decisecond",seconds:1/10,formatter:function(d){return d.getMilliseconds()+"ms"}},{name:"centisecond",seconds:1/100,formatter:function(d){return d.getMilliseconds()+"ms"}}];this.unit=function(unitName){return this.units.filter(function(unit){return unitName==unit.name}).shift()};this.formatDate=function(d){return d3.time.format("%b %e")(d)};this.formatTime=function(d){return d.toString().match(/(\d+:\d+):/)[1]};this.ceil=function(time,unit){var date,floor,year;if(unit.name=="day"){var nearFuture=new Date((time+unit.seconds-1)*1e3);var rounded=new Date(0);rounded.setMilliseconds(0);rounded.setSeconds(0);rounded.setMinutes(0);rounded.setHours(0);rounded.setDate(nearFuture.getDate());rounded.setMonth(nearFuture.getMonth());rounded.setFullYear(nearFuture.getFullYear());return rounded.getTime()/1e3}if(unit.name=="month"){date=new Date(time*1e3);floor=new Date(date.getFullYear(),date.getMonth()).getTime()/1e3;if(floor==time)return time;year=date.getFullYear();var month=date.getMonth();if(month==11){month=0;year=year+1}else{month+=1}return new Date(year,month).getTime()/1e3}if(unit.name=="year"){date=new Date(time*1e3);floor=new Date(date.getUTCFullYear(),0).getTime()/1e3;if(floor==time)return time;year=date.getFullYear()+1;return new Date(year,0).getTime()/1e3}return Math.ceil(time/unit.seconds)*unit.seconds}};Rickshaw.namespace("Rickshaw.Fixtures.Number");Rickshaw.Fixtures.Number.formatKMBT=function(y){var abs_y=Math.abs(y);if(abs_y>=1e12){return y/1e12+"T"}else if(abs_y>=1e9){return y/1e9+"B"}else if(abs_y>=1e6){return y/1e6+"M"}else if(abs_y>=1e3){return y/1e3+"K"}else if(abs_y<1&&y>0){return y.toFixed(2)}else if(abs_y===0){return""}else{return y}};Rickshaw.Fixtures.Number.formatBase1024KMGTP=function(y){var abs_y=Math.abs(y);if(abs_y>=0x4000000000000){return y/0x4000000000000+"P"}else if(abs_y>=1099511627776){return y/1099511627776+"T"}else if(abs_y>=1073741824){return y/1073741824+"G"}else if(abs_y>=1048576){return y/1048576+"M"}else if(abs_y>=1024){return y/1024+"K"}else if(abs_y<1&&y>0){return y.toFixed(2)}else if(abs_y===0){return""}else{return y}};Rickshaw.namespace("Rickshaw.Color.Palette");Rickshaw.Color.Palette=function(args){var color=new Rickshaw.Fixtures.Color;args=args||{};this.schemes={};this.scheme=color.schemes[args.scheme]||args.scheme||color.schemes.colorwheel;this.runningIndex=0;this.generatorIndex=0;if(args.interpolatedStopCount){var schemeCount=this.scheme.length-1;var i,j,scheme=[];for(i=0;i<schemeCount;i++){scheme.push(this.scheme[i]);var generator=d3.interpolateHsl(this.scheme[i],this.scheme[i+1]);for(j=1;j<args.interpolatedStopCount;j++){scheme.push(generator(1/args.interpolatedStopCount*j))}}scheme.push(this.scheme[this.scheme.length-1]);this.scheme=scheme}this.rotateCount=this.scheme.length;this.color=function(key){return this.scheme[key]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"};this.interpolateColor=function(){if(!Array.isArray(this.scheme))return;var color;if(this.generatorIndex==this.rotateCount*2-1){color=d3.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5);this.generatorIndex=0;this.rotateCount*=2}else{color=d3.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5);this.generatorIndex++}this.scheme.push(color);return color}};Rickshaw.namespace("Rickshaw.Graph.Ajax");Rickshaw.Graph.Ajax=Rickshaw.Class.create({initialize:function(args){this.dataURL=args.dataURL;this.onData=args.onData||function(d){return d};this.onComplete=args.onComplete||function(){};this.onError=args.onError||function(){};this.args=args;this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL);this.onError(this)},success:function(data,status){data=this.onData(data);this.args.series=this._splice({data:data,series:this.args.series});this.graph=this.graph||new Rickshaw.Graph(this.args);this.graph.render();this.onComplete(this)},_splice:function(args){var data=args.data;var series=args.series;if(!args.series)return data;series.forEach(function(s){var seriesKey=s.key||s.name;if(!seriesKey)throw"series needs a key or a name";data.forEach(function(d){var dataKey=d.key||d.name;if(!dataKey)throw"data needs a key or a name";if(seriesKey==dataKey){var properties=["color","name","data"];properties.forEach(function(p){if(d[p])s[p]=d[p]})}})});return series}});Rickshaw.namespace("Rickshaw.Graph.Annotate");Rickshaw.Graph.Annotate=function(args){var graph=this.graph=args.graph;this.elements={timeline:args.element};var self=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(time,content,end_time){self.data[time]=self.data[time]||{boxes:[]};self.data[time].boxes.push({content:content,end:end_time})};this.update=function(){Rickshaw.keys(self.data).forEach(function(time){var annotation=self.data[time];var left=self.graph.x(time);if(left<0||left>self.graph.x.range()[1]){if(annotation.element){annotation.line.classList.add("offscreen");annotation.element.style.display="none"}annotation.boxes.forEach(function(box){if(box.rangeElement)box.rangeElement.classList.add("offscreen")});return}if(!annotation.element){var element=annotation.element=document.createElement("div");element.classList.add("annotation");this.elements.timeline.appendChild(element);element.addEventListener("click",function(e){element.classList.toggle("active");annotation.line.classList.toggle("active");annotation.boxes.forEach(function(box){if(box.rangeElement)box.rangeElement.classList.toggle("active")})},false)}annotation.element.style.left=left+"px";annotation.element.style.display="block";annotation.boxes.forEach(function(box){var element=box.element;if(!element){element=box.element=document.createElement("div");element.classList.add("content");element.innerHTML=box.content;annotation.element.appendChild(element);annotation.line=document.createElement("div");annotation.line.classList.add("annotation_line");self.graph.element.appendChild(annotation.line);if(box.end){box.rangeElement=document.createElement("div");box.rangeElement.classList.add("annotation_range");self.graph.element.appendChild(box.rangeElement)}}if(box.end){var annotationRangeStart=left;var annotationRangeEnd=Math.min(self.graph.x(box.end),self.graph.x.range()[1]);if(annotationRangeStart>annotationRangeEnd){annotationRangeEnd=left;annotationRangeStart=Math.max(self.graph.x(box.end),self.graph.x.range()[0])}var annotationRangeWidth=annotationRangeEnd-annotationRangeStart;box.rangeElement.style.left=annotationRangeStart+"px";box.rangeElement.style.width=annotationRangeWidth+"px";box.rangeElement.classList.remove("offscreen")}annotation.line.classList.remove("offscreen");annotation.line.style.left=left+"px"})},this)};this.graph.onUpdate(function(){self.update()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Time");Rickshaw.Graph.Axis.Time=function(args){var self=this;this.graph=args.graph;this.elements=[];this.ticksTreatment=args.ticksTreatment||"plain";this.fixedTimeUnit=args.timeUnit;var time=args.timeFixture||new Rickshaw.Fixtures.Time;this.appropriateTimeUnit=function(){var unit;var units=time.units;var domain=this.graph.x.domain();var rangeSeconds=domain[1]-domain[0];units.forEach(function(u){if(Math.floor(rangeSeconds/u.seconds)>=2){unit=unit||u}});return unit||time.units[time.units.length-1]};this.tickOffsets=function(){var domain=this.graph.x.domain();var unit=this.fixedTimeUnit||this.appropriateTimeUnit();var count=Math.ceil((domain[1]-domain[0])/unit.seconds);var runningTick=domain[0];var offsets=[];for(var i=0;i<count;i++){var tickValue=time.ceil(runningTick,unit);runningTick=tickValue+unit.seconds/2;offsets.push({value:tickValue,unit:unit})}return offsets};this.render=function(){this.elements.forEach(function(e){e.parentNode.removeChild(e)});this.elements=[];var offsets=this.tickOffsets();offsets.forEach(function(o){if(self.graph.x(o.value)>self.graph.x.range()[1])return;var element=document.createElement("div");element.style.left=self.graph.x(o.value)+"px";element.classList.add("x_tick");element.classList.add(self.ticksTreatment);var title=document.createElement("div");title.classList.add("title");title.innerHTML=o.unit.formatter(new Date(o.value*1e3));element.appendChild(title);self.graph.element.appendChild(element);self.elements.push(element)})};this.graph.onUpdate(function(){self.render()})};Rickshaw.namespace("Rickshaw.Graph.Axis.X");Rickshaw.Graph.Axis.X=function(args){var self=this;var berthRate=.1;this.initialize=function(args){this.graph=args.graph;this.orientation=args.orientation||"top";this.pixelsPerTick=args.pixelsPerTick||75;if(args.ticks)this.staticTicks=args.ticks;if(args.tickValues)this.tickValues=args.tickValues;this.tickSize=args.tickSize||4;this.ticksTreatment=args.ticksTreatment||"plain";if(args.element){this.element=args.element;this._discoverSize(args.element,args);this.vis=d3.select(args.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3");this.element=this.vis[0][0];this.element.style.position="relative";this.setSize({width:args.width,height:args.height})}else{this.vis=this.graph.vis}this.graph.onUpdate(function(){self.render()})};this.setSize=function(args){args=args||{};if(!this.element)return;this._discoverSize(this.element.parentNode,args);this.vis.attr("height",this.height).attr("width",this.width*(1+berthRate));var berth=Math.floor(this.width*berthRate/2);this.element.style.left=-1*berth+"px"};this.render=function(){if(this._renderWidth!==undefined&&this.graph.width!==this._renderWidth)this.setSize({auto:true});var axis=d3.svg.axis().scale(this.graph.x).orient(this.orientation);axis.tickFormat(args.tickFormat||function(x){return x});if(this.tickValues)axis.tickValues(this.tickValues);this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var berth=Math.floor(this.width*berthRate/2)||0;var transform;if(this.orientation=="top"){var yOffset=this.height||this.graph.height;transform="translate("+berth+","+yOffset+")"}else{transform="translate("+berth+", 0)"}if(this.element){this.vis.selectAll("*").remove()}this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",transform).call(axis.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var gridSize=(this.orientation=="bottom"?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(axis.ticks(this.ticks).tickSubdivide(0).tickSize(gridSize)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)});this._renderHeight=this.graph.height};this._discoverSize=function(element,args){if(typeof window!=="undefined"){var style=window.getComputedStyle(element,null);var elementHeight=parseInt(style.getPropertyValue("height"),10);if(!args.auto){var elementWidth=parseInt(style.getPropertyValue("width"),10)}}this.width=(args.width||elementWidth||this.graph.width)*(1+berthRate);this.height=args.height||elementHeight||40};this.initialize(args)};Rickshaw.namespace("Rickshaw.Graph.Axis.Y");Rickshaw.Graph.Axis.Y=Rickshaw.Class.create({initialize:function(args){this.graph=args.graph;this.orientation=args.orientation||"right";this.pixelsPerTick=args.pixelsPerTick||75;if(args.ticks)this.staticTicks=args.ticks;if(args.tickValues)this.tickValues=args.tickValues;this.tickSize=args.tickSize||4;this.ticksTreatment=args.ticksTreatment||"plain";this.tickFormat=args.tickFormat||function(y){return y};this.berthRate=.1;if(args.element){this.element=args.element;this.vis=d3.select(args.element).append("svg:svg").attr("class","rickshaw_graph y_axis");this.element=this.vis[0][0];this.element.style.position="relative";this.setSize({width:args.width,height:args.height})}else{this.vis=this.graph.vis}var self=this;this.graph.onUpdate(function(){self.render()})},setSize:function(args){args=args||{};if(!this.element)return;if(typeof window!=="undefined"){var style=window.getComputedStyle(this.element.parentNode,null);var elementWidth=parseInt(style.getPropertyValue("width"),10);if(!args.auto){var elementHeight=parseInt(style.getPropertyValue("height"),10)}}this.width=args.width||elementWidth||this.graph.width*this.berthRate;this.height=args.height||elementHeight||this.graph.height;this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var berth=this.height*this.berthRate;if(this.orientation=="left"){this.element.style.top=-1*berth+"px"}},render:function(){if(this._renderHeight!==undefined&&this.graph.height!==this._renderHeight)this.setSize({auto:true});this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var axis=this._drawAxis(this.graph.y);this._drawGrid(axis);this._renderHeight=this.graph.height},_drawAxis:function(scale){var axis=d3.svg.axis().scale(scale).orient(this.orientation);axis.tickFormat(this.tickFormat);if(this.tickValues)axis.tickValues(this.tickValues);if(this.orientation=="left"){var berth=this.height*this.berthRate;var transform="translate("+this.width+", "+berth+")"}if(this.element){this.vis.selectAll("*").remove()}this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",transform).call(axis.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));return axis},_drawGrid:function(axis){var gridSize=(this.orientation=="right"?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(axis.ticks(this.ticks).tickSubdivide(0).tickSize(gridSize)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}});Rickshaw.namespace("Rickshaw.Graph.Axis.Y.Scaled");Rickshaw.Graph.Axis.Y.Scaled=Rickshaw.Class.create(Rickshaw.Graph.Axis.Y,{initialize:function($super,args){if(typeof args.scale==="undefined"){throw new Error("Scaled requires scale")}this.scale=args.scale;if(typeof args.grid==="undefined"){this.grid=true}else{this.grid=args.grid}$super(args)},_drawAxis:function($super,scale){var domain=this.scale.domain();var renderDomain=this.graph.renderer.domain().y;var extents=[Math.min.apply(Math,domain),Math.max.apply(Math,domain)];var extentMap=d3.scale.linear().domain([0,1]).range(extents);var adjExtents=[extentMap(renderDomain[0]),extentMap(renderDomain[1])];var adjustment=d3.scale.linear().domain(extents).range(adjExtents);var adjustedScale=this.scale.copy().domain(domain.map(adjustment)).range(scale.range());return $super(adjustedScale)},_drawGrid:function($super,axis){if(this.grid){$super(axis)}}});Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight");Rickshaw.Graph.Behavior.Series.Highlight=function(args){this.graph=args.graph;this.legend=args.legend;var self=this;var colorSafe={};var activeLine=null;var disabledColor=args.disabledColor||function(seriesColor){return d3.interpolateRgb(seriesColor,d3.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(l){l.element.addEventListener("mouseover",function(e){if(activeLine)return;else activeLine=l;self.legend.lines.forEach(function(line){if(l===line){if(self.graph.renderer.unstack&&(line.series.renderer?line.series.renderer.unstack:true)){var seriesIndex=self.graph.series.indexOf(line.series);line.originalIndex=seriesIndex;var series=self.graph.series.splice(seriesIndex,1)[0];self.graph.series.push(series)}return}colorSafe[line.series.name]=colorSafe[line.series.name]||line.series.color;line.series.color=disabledColor(line.series.color)});self.graph.update()},false);l.element.addEventListener("mouseout",function(e){if(!activeLine)return;else activeLine=null;self.legend.lines.forEach(function(line){if(l===line&&line.hasOwnProperty("originalIndex")){var series=self.graph.series.pop();self.graph.series.splice(line.originalIndex,0,series);delete line.originalIndex}if(colorSafe[line.series.name]){line.series.color=colorSafe[line.series.name]}});self.graph.update()},false)};if(this.legend){this.legend.lines.forEach(function(l){self.addHighlightEvents(l)})}};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Order");Rickshaw.Graph.Behavior.Series.Order=function(args){this.graph=args.graph;this.legend=args.legend;var self=this;if(typeof window.jQuery=="undefined"){throw"couldn't find jQuery at window.jQuery"}if(typeof window.jQuery.ui=="undefined"){throw"couldn't find jQuery UI at window.jQuery.ui"}jQuery(function(){jQuery(self.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(event,ui){var series=[];jQuery(self.legend.list).find("li").each(function(index,item){if(!item.series)return;series.push(item.series)});for(var i=self.graph.series.length-1;i>=0;i--){self.graph.series[i]=series.shift()}self.graph.update()}});jQuery(self.legend.list).disableSelection()});this.graph.onUpdate(function(){var h=window.getComputedStyle(self.legend.element).height;self.legend.element.style.height=h})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Toggle");Rickshaw.Graph.Behavior.Series.Toggle=function(args){this.graph=args.graph;this.legend=args.legend;var self=this;this.addAnchor=function(line){var anchor=document.createElement("a");anchor.innerHTML="&#10004;";anchor.classList.add("action");line.element.insertBefore(anchor,line.element.firstChild);anchor.onclick=function(e){if(line.series.disabled){line.series.enable();line.element.classList.remove("disabled")}else{if(this.graph.series.filter(function(s){return!s.disabled}).length<=1)return;line.series.disable();line.element.classList.add("disabled")}}.bind(this);var label=line.element.getElementsByTagName("span")[0];label.onclick=function(e){var disableAllOtherLines=line.series.disabled;if(!disableAllOtherLines){for(var i=0;i<self.legend.lines.length;i++){var l=self.legend.lines[i];if(line.series===l.series){}else if(l.series.disabled){}else{disableAllOtherLines=true;break}}}if(disableAllOtherLines){line.series.enable();line.element.classList.remove("disabled");self.legend.lines.forEach(function(l){if(line.series===l.series){}else{l.series.disable();l.element.classList.add("disabled")}})}else{self.legend.lines.forEach(function(l){l.series.enable();l.element.classList.remove("disabled")})}}};if(this.legend){var $=jQuery;if(typeof $!="undefined"&&$(this.legend.list).sortable){$(this.legend.list).sortable({start:function(event,ui){ui.item.bind("no.onclick",function(event){event.preventDefault()})},stop:function(event,ui){setTimeout(function(){ui.item.unbind("no.onclick")},250)}})}this.legend.lines.forEach(function(l){self.addAnchor(l)})}this._addBehavior=function(){this.graph.series.forEach(function(s){s.disable=function(){if(self.graph.series.length<=1){throw"only one series left"}s.disabled=true;self.graph.update()};s.enable=function(){s.disabled=false;self.graph.update()}})};this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};Rickshaw.namespace("Rickshaw.Graph.HoverDetail");Rickshaw.Graph.HoverDetail=Rickshaw.Class.create({initialize:function(args){var graph=this.graph=args.graph;this.xFormatter=args.xFormatter||function(x){return new Date(x*1e3).toUTCString()};this.yFormatter=args.yFormatter||function(y){return y===null?y:y.toFixed(2)};var element=this.element=document.createElement("div");element.className="detail";this.visible=true;graph.element.appendChild(element);this.lastEvent=null;this._addListeners();this.onShow=args.onShow;this.onHide=args.onHide;this.onRender=args.onRender;this.formatter=args.formatter||this.formatter},formatter:function(series,x,y,formattedX,formattedY,d){return series.name+":&nbsp;"+formattedY},update:function(e){e=e||this.lastEvent;if(!e)return;this.lastEvent=e;if(!e.target.nodeName.match(/^(path|svg|rect|circle)$/))return;var graph=this.graph;var eventX=e.offsetX||e.layerX;var eventY=e.offsetY||e.layerY;var j=0;var points=[];var nearestPoint;this.graph.series.active().forEach(function(series){var data=this.graph.stackedData[j++];if(!data.length)return;var domainX=graph.x.invert(eventX);var domainIndexScale=d3.scale.linear().domain([data[0].x,data.slice(-1)[0].x]).range([0,data.length-1]);var approximateIndex=Math.round(domainIndexScale(domainX));if(approximateIndex==data.length-1)approximateIndex--;var dataIndex=Math.min(approximateIndex||0,data.length-1);for(var i=approximateIndex;i<data.length-1;){if(!data[i]||!data[i+1])break;if(data[i].x<=domainX&&data[i+1].x>domainX){dataIndex=Math.abs(domainX-data[i].x)<Math.abs(domainX-data[i+1].x)?i:i+1;break}if(data[i+1].x<=domainX){i++}else{i--}}if(dataIndex<0)dataIndex=0;var value=data[dataIndex];var distance=Math.sqrt(Math.pow(Math.abs(graph.x(value.x)-eventX),2)+Math.pow(Math.abs(graph.y(value.y+value.y0)-eventY),2));var xFormatter=series.xFormatter||this.xFormatter;var yFormatter=series.yFormatter||this.yFormatter;var point={formattedXValue:xFormatter(value.x),formattedYValue:yFormatter(series.scale?series.scale.invert(value.y):value.y),series:series,value:value,distance:distance,order:j,name:series.name};if(!nearestPoint||distance<nearestPoint.distance){nearestPoint=point}points.push(point)},this);if(!nearestPoint)return;nearestPoint.active=true;var domainX=nearestPoint.value.x;var formattedXValue=nearestPoint.formattedXValue;this.element.innerHTML="";this.element.style.left=graph.x(domainX)+"px";this.visible&&this.render({points:points,detail:points,mouseX:eventX,mouseY:eventY,formattedXValue:formattedXValue,domainX:domainX})},hide:function(){this.visible=false;this.element.classList.add("inactive");if(typeof this.onHide=="function"){this.onHide()}},show:function(){this.visible=true;this.element.classList.remove("inactive");if(typeof this.onShow=="function"){this.onShow()}},render:function(args){var graph=this.graph;var points=args.points;var point=points.filter(function(p){return p.active}).shift();if(point.value.y===null)return;var formattedXValue=point.formattedXValue;var formattedYValue=point.formattedYValue;this.element.innerHTML="";this.element.style.left=graph.x(point.value.x)+"px";var xLabel=document.createElement("div");xLabel.className="x_label";xLabel.innerHTML=formattedXValue;this.element.appendChild(xLabel);var item=document.createElement("div");item.className="item";var series=point.series;var actualY=series.scale?series.scale.invert(point.value.y):point.value.y;item.innerHTML=this.formatter(series,point.value.x,actualY,formattedXValue,formattedYValue,point);item.style.top=this.graph.y(point.value.y0+point.value.y)+"px";this.element.appendChild(item);var dot=document.createElement("div");dot.className="dot";dot.style.top=item.style.top;dot.style.borderColor=series.color;this.element.appendChild(dot);if(point.active){item.classList.add("active");dot.classList.add("active")}var alignables=[xLabel,item];alignables.forEach(function(el){el.classList.add("left")});this.show();var leftAlignError=this._calcLayoutError(alignables);if(leftAlignError>0){alignables.forEach(function(el){el.classList.remove("left");el.classList.add("right")});var rightAlignError=this._calcLayoutError(alignables);if(rightAlignError>leftAlignError){alignables.forEach(function(el){el.classList.remove("right");el.classList.add("left")})}}if(typeof this.onRender=="function"){this.onRender(args)}},_calcLayoutError:function(alignables){var parentRect=this.element.parentNode.getBoundingClientRect();var error=0;var alignRight=alignables.forEach(function(el){var rect=el.getBoundingClientRect();if(!rect.width){return}if(rect.right>parentRect.right){error+=rect.right-parentRect.right}if(rect.left<parentRect.left){error+=parentRect.left-rect.left}});return error},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(e){this.visible=true;this.update(e)}.bind(this),false);this.graph.onUpdate(function(){this.update()}.bind(this));this.graph.element.addEventListener("mouseout",function(e){if(e.relatedTarget&&!(e.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)){this.hide()}}.bind(this),false)}});Rickshaw.namespace("Rickshaw.Graph.JSONP");Rickshaw.Graph.JSONP=Rickshaw.Class.create(Rickshaw.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}});Rickshaw.namespace("Rickshaw.Graph.Legend");Rickshaw.Graph.Legend=Rickshaw.Class.create({className:"rickshaw_legend",initialize:function(args){this.element=args.element;this.graph=args.graph;this.naturalOrder=args.naturalOrder;this.element.classList.add(this.className);this.list=document.createElement("ul");this.element.appendChild(this.list);this.render();this.graph.onUpdate(function(){})},render:function(){var self=this;while(this.list.firstChild){this.list.removeChild(this.list.firstChild)}this.lines=[];var series=this.graph.series.map(function(s){return s});if(!this.naturalOrder){series=series.reverse()}series.forEach(function(s){self.addLine(s)})},addLine:function(series){var line=document.createElement("li");line.className="line";if(series.disabled){line.className+=" disabled"}if(series.className){d3.select(line).classed(series.className,true)}var swatch=document.createElement("div");swatch.className="swatch";swatch.style.backgroundColor=series.color;line.appendChild(swatch);var label=document.createElement("span");label.className="label";label.innerHTML=series.name;line.appendChild(label);this.list.appendChild(line);line.series=series;if(series.noLegend){line.style.display="none"}var _line={element:line,series:series};if(this.shelving){this.shelving.addAnchor(_line);this.shelving.updateBehaviour()}if(this.highlighter){this.highlighter.addHighlightEvents(_line)}this.lines.push(_line);return line}});Rickshaw.namespace("Rickshaw.Graph.RangeSlider");Rickshaw.Graph.RangeSlider=Rickshaw.Class.create({initialize:function(args){var element=this.element=args.element;var graph=this.graph=args.graph;this.slideCallbacks=[];this.build();graph.onUpdate(function(){this.update()}.bind(this))},build:function(){var element=this.element;var graph=this.graph;var $=jQuery;var domain=graph.dataDomain();var self=this;$(function(){$(element).slider({range:true,min:domain[0],max:domain[1],values:[domain[0],domain[1]],slide:function(event,ui){if(ui.values[1]<=ui.values[0])return;graph.window.xMin=ui.values[0];graph.window.xMax=ui.values[1];graph.update();var domain=graph.dataDomain();if(domain[0]==ui.values[0]){graph.window.xMin=undefined}if(domain[1]==ui.values[1]){graph.window.xMax=undefined}self.slideCallbacks.forEach(function(callback){callback(graph,graph.window.xMin,graph.window.xMax)
})}})});$(element)[0].style.width=graph.width+"px"},update:function(){var element=this.element;var graph=this.graph;var $=jQuery;var values=$(element).slider("option","values");var domain=graph.dataDomain();$(element).slider("option","min",domain[0]);$(element).slider("option","max",domain[1]);if(graph.window.xMin==null){values[0]=domain[0]}if(graph.window.xMax==null){values[1]=domain[1]}$(element).slider("option","values",values)},onSlide:function(callback){this.slideCallbacks.push(callback)}});Rickshaw.namespace("Rickshaw.Graph.RangeSlider.Preview");Rickshaw.Graph.RangeSlider.Preview=Rickshaw.Class.create({initialize:function(args){if(!args.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!args.graph&&!args.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=args.element;this.element.style.position="relative";this.graphs=args.graph?[args.graph]:args.graphs;this.defaults={height:75,width:400,gripperColor:undefined,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2};this.heightRatio=args.heightRatio||this.defaults.heightRatio;this.defaults.gripperColor=d3.rgb(this.defaults.frameColor).darker().toString();this.configureCallbacks=[];this.slideCallbacks=[];this.previews=[];if(!args.width)this.widthFromGraph=true;if(!args.height)this.heightFromGraph=true;if(this.widthFromGraph||this.heightFromGraph){this.graphs[0].onConfigure(function(){this.configure(args);this.render()}.bind(this))}args.width=args.width||this.graphs[0].width||this.defaults.width;args.height=args.height||this.graphs[0].height*this.heightRatio||this.defaults.height;this.configure(args);this.render()},onSlide:function(callback){this.slideCallbacks.push(callback)},onConfigure:function(callback){this.configureCallbacks.push(callback)},configure:function(args){this.config=this.config||{};this.configureCallbacks.forEach(function(callback){callback(args)});Rickshaw.keys(this.defaults).forEach(function(k){this.config[k]=k in args?args[k]:k in this.config?this.config[k]:this.defaults[k]},this);if("width"in args||"height"in args){if(this.widthFromGraph){this.config.width=this.graphs[0].width}if(this.heightFromGraph){this.config.height=this.graphs[0].height*this.heightRatio;this.previewHeight=this.config.height}this.previews.forEach(function(preview){var height=this.previewHeight/this.graphs.length-this.config.frameTopThickness*2;var width=this.config.width-this.config.frameHandleThickness*2;preview.setSize({width:width,height:height});if(this.svg){var svgHeight=height+this.config.frameHandleThickness*2;var svgWidth=width+this.config.frameHandleThickness*2;this.svg.style("width",svgWidth+"px");this.svg.style("height",svgHeight+"px")}},this)}},render:function(){var self=this;this.svg=d3.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]);this.previewHeight=this.config.height-this.config.frameTopThickness*2;this.previewWidth=this.config.width-this.config.frameHandleThickness*2;this.currentFrame=[0,this.previewWidth];var buildGraph=function(parent,index){var graphArgs=Rickshaw.extend({},parent.config);var height=self.previewHeight/self.graphs.length;var renderer=parent.renderer.name;Rickshaw.extend(graphArgs,{element:this.appendChild(document.createElement("div")),height:height,width:self.previewWidth,series:parent.series,renderer:renderer});var graph=new Rickshaw.Graph(graphArgs);self.previews.push(graph);parent.onUpdate(function(){graph.render();self.render()});parent.onConfigure(function(args){delete args.height;args.width=args.width-self.config.frameHandleThickness*2;graph.configure(args);graph.render()});graph.render()};var graphContainer=d3.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs);var translateCommand="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";graphContainer.enter().append("div").classed("rickshaw_range_slider_preview_container",true).style("-webkit-transform",translateCommand).style("-moz-transform",translateCommand).style("-ms-transform",translateCommand).style("transform",translateCommand).each(buildGraph);graphContainer.exit().remove();var masterGraph=this.graphs[0];var domainScale=d3.scale.linear().domain([0,this.previewWidth]).range(masterGraph.dataDomain());var currentWindow=[masterGraph.window.xMin,masterGraph.window.xMax];this.currentFrame[0]=currentWindow[0]===undefined?0:Math.round(domainScale.invert(currentWindow[0]));if(this.currentFrame[0]<0)this.currentFrame[0]=0;this.currentFrame[1]=currentWindow[1]===undefined?this.previewWidth:domainScale.invert(currentWindow[1]);if(this.currentFrame[1]-this.currentFrame[0]<self.config.minimumFrameWidth){this.currentFrame[1]=(this.currentFrame[0]||0)+self.config.minimumFrameWidth}this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",true).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0);this._renderDimming();this._renderFrame();this._renderGrippers();this._renderHandles();this._renderMiddle();this._registerMouseEvents()},_renderDimming:function(){var element=this.svg.selectAll("path.dimming").data([null]);element.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",true);var path="";path+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness;path+=" h "+this.previewWidth;path+=" v "+this.previewHeight;path+=" h "+-this.previewWidth;path+=" z ";path+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness;path+=" H "+Math.min(this.currentFrame[1]+this.config.frameHandleThickness*2,this.previewWidth+this.config.frameHandleThickness);path+=" v "+this.previewHeight;path+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness);path+=" z";element.attr("d",path)},_renderFrame:function(){var element=this.svg.selectAll("path.frame").data([null]);element.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",true);var path="";path+=" M "+this.currentFrame[0]+" 0";path+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness*2);path+=" V "+this.config.height;path+=" H "+this.currentFrame[0];path+=" z";path+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness;path+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness);path+=" v "+this.previewHeight;path+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness);path+=" z";element.attr("d",path)},_renderGrippers:function(){var gripper=this.svg.selectAll("path.gripper").data([null]);gripper.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",true);var path="";[.4,.6].forEach(function(spacing){path+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*spacing)+" "+Math.round(this.config.height*.3);path+=" V "+Math.round(this.config.height*.7);path+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+spacing))+" "+Math.round(this.config.height*.3);path+=" V "+Math.round(this.config.height*.7)}.bind(this));gripper.attr("d",path)},_renderHandles:function(){var leftHandle=this.svg.selectAll("rect.left_handle").data([null]);leftHandle.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",true);leftHandle.attr("x",this.currentFrame[0]).attr("height",this.config.height);var rightHandle=this.svg.selectAll("rect.right_handle").data([null]);rightHandle.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",true);rightHandle.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var middleHandle=this.svg.selectAll("rect.middle_handle").data([null]);middleHandle.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",true);middleHandle.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){var element=d3.select(this.element);var drag={target:null,start:null,stop:null,left:false,right:false,rigid:false};var self=this;function onMousemove(datum,index){drag.stop=self._getClientXFromEvent(d3.event,drag);var distanceTraveled=drag.stop-drag.start;var frameAfterDrag=self.frameBeforeDrag.slice(0);var minimumFrameWidth=self.config.minimumFrameWidth;if(drag.rigid){minimumFrameWidth=self.frameBeforeDrag[1]-self.frameBeforeDrag[0]}if(drag.left){frameAfterDrag[0]=Math.max(frameAfterDrag[0]+distanceTraveled,0)}if(drag.right){frameAfterDrag[1]=Math.min(frameAfterDrag[1]+distanceTraveled,self.previewWidth)}var currentFrameWidth=frameAfterDrag[1]-frameAfterDrag[0];if(currentFrameWidth<=minimumFrameWidth){if(drag.left){frameAfterDrag[0]=frameAfterDrag[1]-minimumFrameWidth}if(drag.right){frameAfterDrag[1]=frameAfterDrag[0]+minimumFrameWidth}if(frameAfterDrag[0]<=0){frameAfterDrag[1]-=frameAfterDrag[0];frameAfterDrag[0]=0}if(frameAfterDrag[1]>=self.previewWidth){frameAfterDrag[0]-=frameAfterDrag[1]-self.previewWidth;frameAfterDrag[1]=self.previewWidth}}self.graphs.forEach(function(graph){var domainScale=d3.scale.linear().interpolate(d3.interpolateNumber).domain([0,self.previewWidth]).range(graph.dataDomain());var windowAfterDrag=[domainScale(frameAfterDrag[0]),domainScale(frameAfterDrag[1])];self.slideCallbacks.forEach(function(callback){callback(graph,windowAfterDrag[0],windowAfterDrag[1])});if(frameAfterDrag[0]===0){windowAfterDrag[0]=undefined}if(frameAfterDrag[1]===self.previewWidth){windowAfterDrag[1]=undefined}graph.window.xMin=windowAfterDrag[0];graph.window.xMax=windowAfterDrag[1];graph.update()})}function onMousedown(){drag.target=d3.event.target;drag.start=self._getClientXFromEvent(d3.event,drag);self.frameBeforeDrag=self.currentFrame.slice();d3.event.preventDefault?d3.event.preventDefault():d3.event.returnValue=false;d3.select(document).on("mousemove.rickshaw_range_slider_preview",onMousemove);d3.select(document).on("mouseup.rickshaw_range_slider_preview",onMouseup);d3.select(document).on("touchmove.rickshaw_range_slider_preview",onMousemove);d3.select(document).on("touchend.rickshaw_range_slider_preview",onMouseup);d3.select(document).on("touchcancel.rickshaw_range_slider_preview",onMouseup)}function onMousedownLeftHandle(datum,index){drag.left=true;onMousedown()}function onMousedownRightHandle(datum,index){drag.right=true;onMousedown()}function onMousedownMiddleHandle(datum,index){drag.left=true;drag.right=true;drag.rigid=true;onMousedown()}function onMouseup(datum,index){d3.select(document).on("mousemove.rickshaw_range_slider_preview",null);d3.select(document).on("mouseup.rickshaw_range_slider_preview",null);d3.select(document).on("touchmove.rickshaw_range_slider_preview",null);d3.select(document).on("touchend.rickshaw_range_slider_preview",null);d3.select(document).on("touchcancel.rickshaw_range_slider_preview",null);delete self.frameBeforeDrag;drag.left=false;drag.right=false;drag.rigid=false}element.select("rect.left_handle").on("mousedown",onMousedownLeftHandle);element.select("rect.right_handle").on("mousedown",onMousedownRightHandle);element.select("rect.middle_handle").on("mousedown",onMousedownMiddleHandle);element.select("rect.left_handle").on("touchstart",onMousedownLeftHandle);element.select("rect.right_handle").on("touchstart",onMousedownRightHandle);element.select("rect.middle_handle").on("touchstart",onMousedownMiddleHandle)},_getClientXFromEvent:function(event,drag){switch(event.type){case"touchstart":case"touchmove":var touchList=event.changedTouches;var touch=null;for(var touchIndex=0;touchIndex<touchList.length;touchIndex++){if(touchList[touchIndex].target===drag.target){touch=touchList[touchIndex];break}}return touch!==null?touch.clientX:undefined;default:return event.clientX}}});Rickshaw.namespace("Rickshaw.Graph.Renderer");Rickshaw.Graph.Renderer=Rickshaw.Class.create({initialize:function(args){this.graph=args.graph;this.tension=args.tension||this.tension;this.configure(args)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:true,padding:{top:.01,right:0,bottom:.01,left:0},stroke:false,fill:false}},domain:function(data){var stackedData=data||this.graph.stackedData||this.graph.stackData();var xMin=+Infinity;var xMax=-Infinity;var yMin=+Infinity;var yMax=-Infinity;stackedData.forEach(function(series){series.forEach(function(d){if(d.y==null)return;var y=d.y+d.y0;if(y<yMin)yMin=y;if(y>yMax)yMax=y});if(!series.length)return;if(series[0].x<xMin)xMin=series[0].x;if(series[series.length-1].x>xMax)xMax=series[series.length-1].x});xMin-=(xMax-xMin)*this.padding.left;xMax+=(xMax-xMin)*this.padding.right;yMin=this.graph.min==="auto"?yMin:this.graph.min||0;yMax=this.graph.max===undefined?yMax:this.graph.max;if(this.graph.min==="auto"||yMin<0){yMin-=(yMax-yMin)*this.padding.bottom}if(this.graph.max===undefined){yMax+=(yMax-yMin)*this.padding.top}return{x:[xMin,xMax],y:[yMin,yMax]}},render:function(args){args=args||{};var graph=this.graph;var series=args.series||graph.series;var vis=args.vis||graph.vis;vis.selectAll("*").remove();var data=series.filter(function(s){return!s.disabled}).map(function(s){return s.stack});var pathNodes=vis.selectAll("path.path").data(data).enter().append("svg:path").classed("path",true).attr("d",this.seriesPathFactory());if(this.stroke){var strokeNodes=vis.selectAll("path.stroke").data(data).enter().append("svg:path").classed("stroke",true).attr("d",this.seriesStrokeFactory())}var i=0;series.forEach(function(series){if(series.disabled)return;series.path=pathNodes[0][i];if(this.stroke)series.stroke=strokeNodes[0][i];this._styleSeries(series);i++},this)},_styleSeries:function(series){var fill=this.fill?series.color:"none";var stroke=this.stroke?series.color:"none";series.path.setAttribute("fill",fill);series.path.setAttribute("stroke",stroke);series.path.setAttribute("stroke-width",this.strokeWidth);if(series.className){d3.select(series.path).classed(series.className,true)}if(series.className&&this.stroke){d3.select(series.stroke).classed(series.className,true)}},configure:function(args){args=args||{};Rickshaw.keys(this.defaults()).forEach(function(key){if(!args.hasOwnProperty(key)){this[key]=this[key]||this.graph[key]||this.defaults()[key];return}if(typeof this.defaults()[key]=="object"){Rickshaw.keys(this.defaults()[key]).forEach(function(k){this[key][k]=args[key][k]!==undefined?args[key][k]:this[key][k]!==undefined?this[key][k]:this.defaults()[key][k]},this)}else{this[key]=args[key]!==undefined?args[key]:this[key]!==undefined?this[key]:this.graph[key]!==undefined?this.graph[key]:this.defaults()[key]}},this)},setStrokeWidth:function(strokeWidth){if(strokeWidth!==undefined){this.strokeWidth=strokeWidth}},setTension:function(tension){if(tension!==undefined){this.tension=tension}}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Line");Rickshaw.Graph.Renderer.Line=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"line",defaults:function($super){return Rickshaw.extend($super(),{unstack:true,fill:false,stroke:true})},seriesPathFactory:function(){var graph=this.graph;var factory=d3.svg.line().x(function(d){return graph.x(d.x)}).y(function(d){return graph.y(d.y)}).interpolate(this.graph.interpolation).tension(this.tension);factory.defined&&factory.defined(function(d){return d.y!==null});return factory}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Stack");Rickshaw.Graph.Renderer.Stack=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"stack",defaults:function($super){return Rickshaw.extend($super(),{fill:true,stroke:false,unstack:false})},seriesPathFactory:function(){var graph=this.graph;var factory=d3.svg.area().x(function(d){return graph.x(d.x)}).y0(function(d){return graph.y(d.y0)}).y1(function(d){return graph.y(d.y+d.y0)}).interpolate(this.graph.interpolation).tension(this.tension);factory.defined&&factory.defined(function(d){return d.y!==null});return factory}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Bar");Rickshaw.Graph.Renderer.Bar=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"bar",defaults:function($super){var defaults=Rickshaw.extend($super(),{gapSize:.05,unstack:false});delete defaults.tension;return defaults},initialize:function($super,args){args=args||{};this.gapSize=args.gapSize||this.gapSize;$super(args)},domain:function($super){var domain=$super();var frequentInterval=this._frequentInterval(this.graph.stackedData.slice(-1).shift());domain.x[1]+=Number(frequentInterval.magnitude);return domain},barWidth:function(series){var frequentInterval=this._frequentInterval(series.stack);var barWidth=this.graph.x.magnitude(frequentInterval.magnitude)*(1-this.gapSize);return barWidth},render:function(args){args=args||{};var graph=this.graph;var series=args.series||graph.series;var vis=args.vis||graph.vis;vis.selectAll("*").remove();var barWidth=this.barWidth(series.active()[0]);var barXOffset=0;var activeSeriesCount=series.filter(function(s){return!s.disabled}).length;var seriesBarWidth=this.unstack?barWidth/activeSeriesCount:barWidth;var transform=function(d){var matrix=[1,0,0,d.y<0?-1:1,0,d.y<0?graph.y.magnitude(Math.abs(d.y))*2:0];return"matrix("+matrix.join(",")+")"};series.forEach(function(series){if(series.disabled)return;var barWidth=this.barWidth(series);var nodes=vis.selectAll("path").data(series.stack.filter(function(d){return d.y!==null})).enter().append("svg:rect").attr("x",function(d){return graph.x(d.x)+barXOffset}).attr("y",function(d){return graph.y(d.y0+Math.abs(d.y))*(d.y<0?-1:1)}).attr("width",seriesBarWidth).attr("height",function(d){return graph.y.magnitude(Math.abs(d.y))}).attr("transform",transform);Array.prototype.forEach.call(nodes[0],function(n){n.setAttribute("fill",series.color)});if(this.unstack)barXOffset+=seriesBarWidth},this)},_frequentInterval:function(data){var intervalCounts={};for(var i=0;i<data.length-1;i++){var interval=data[i+1].x-data[i].x;intervalCounts[interval]=intervalCounts[interval]||0;intervalCounts[interval]++}var frequentInterval={count:0,magnitude:1};Rickshaw.keys(intervalCounts).forEach(function(i){if(frequentInterval.count<intervalCounts[i]){frequentInterval={count:intervalCounts[i],magnitude:i}}});return frequentInterval}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Area");Rickshaw.Graph.Renderer.Area=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"area",defaults:function($super){return Rickshaw.extend($super(),{unstack:false,fill:false,stroke:false})},seriesPathFactory:function(){var graph=this.graph;var factory=d3.svg.area().x(function(d){return graph.x(d.x)}).y0(function(d){return graph.y(d.y0)}).y1(function(d){return graph.y(d.y+d.y0)}).interpolate(graph.interpolation).tension(this.tension);factory.defined&&factory.defined(function(d){return d.y!==null});return factory},seriesStrokeFactory:function(){var graph=this.graph;var factory=d3.svg.line().x(function(d){return graph.x(d.x)}).y(function(d){return graph.y(d.y+d.y0)}).interpolate(graph.interpolation).tension(this.tension);factory.defined&&factory.defined(function(d){return d.y!==null});return factory},render:function(args){args=args||{};var graph=this.graph;var series=args.series||graph.series;var vis=args.vis||graph.vis;vis.selectAll("*").remove();var method=this.unstack?"append":"insert";var data=series.filter(function(s){return!s.disabled}).map(function(s){return s.stack});var nodes=vis.selectAll("path").data(data).enter()[method]("svg:g","g");nodes.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area");if(this.stroke){nodes.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line")}var i=0;series.forEach(function(series){if(series.disabled)return;series.path=nodes[0][i++];this._styleSeries(series)},this)},_styleSeries:function(series){if(!series.path)return;d3.select(series.path).select(".area").attr("fill",series.color);if(this.stroke){d3.select(series.path).select(".line").attr("fill","none").attr("stroke",series.stroke||d3.interpolateRgb(series.color,"black")(.125)).attr("stroke-width",this.strokeWidth)}if(series.className){series.path.setAttribute("class",series.className)}}});Rickshaw.namespace("Rickshaw.Graph.Renderer.ScatterPlot");Rickshaw.Graph.Renderer.ScatterPlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"scatterplot",defaults:function($super){return Rickshaw.extend($super(),{unstack:true,fill:true,stroke:false,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function($super,args){$super(args)},render:function(args){args=args||{};var graph=this.graph;var series=args.series||graph.series;var vis=args.vis||graph.vis;var dotSize=this.dotSize;vis.selectAll("*").remove();series.forEach(function(series){if(series.disabled)return;var nodes=vis.selectAll("path").data(series.stack.filter(function(d){return d.y!==null})).enter().append("svg:circle").attr("cx",function(d){return graph.x(d.x)}).attr("cy",function(d){return graph.y(d.y)}).attr("r",function(d){return"r"in d?d.r:dotSize});if(series.className){nodes.classed(series.className,true)}Array.prototype.forEach.call(nodes[0],function(n){n.setAttribute("fill",series.color)})},this)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Multi");Rickshaw.Graph.Renderer.Multi=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"multi",initialize:function($super,args){$super(args)},defaults:function($super){return Rickshaw.extend($super(),{unstack:true,fill:false,stroke:true})},configure:function($super,args){args=args||{};this.config=args;$super(args)},domain:function($super){this.graph.stackData();var domains=[];var groups=this._groups();this._stack(groups);groups.forEach(function(group){var data=group.series.filter(function(s){return!s.disabled}).map(function(s){return s.stack});if(!data.length)return;var domain=null;if(group.renderer&&group.renderer.domain){domain=group.renderer.domain(data)}else{domain=$super(data)}domains.push(domain)});var xMin=d3.min(domains.map(function(d){return d.x[0]}));var xMax=d3.max(domains.map(function(d){return d.x[1]}));var yMin=d3.min(domains.map(function(d){return d.y[0]}));var yMax=d3.max(domains.map(function(d){return d.y[1]}));return{x:[xMin,xMax],y:[yMin,yMax]}},_groups:function(){var graph=this.graph;var renderGroups={};graph.series.forEach(function(series){if(series.disabled)return;if(!renderGroups[series.renderer]){var ns="http://www.w3.org/2000/svg";var vis=document.createElementNS(ns,"g");graph.vis[0][0].appendChild(vis);var renderer=graph._renderers[series.renderer];var config={};var defaults=[this.defaults(),renderer.defaults(),this.config,this.graph];defaults.forEach(function(d){Rickshaw.extend(config,d)});renderer.configure(config);renderGroups[series.renderer]={renderer:renderer,series:[],vis:d3.select(vis)}}renderGroups[series.renderer].series.push(series)},this);var groups=[];Object.keys(renderGroups).forEach(function(key){var group=renderGroups[key];groups.push(group)});return groups},_stack:function(groups){groups.forEach(function(group){var series=group.series.filter(function(series){return!series.disabled});var data=series.map(function(series){return series.stack});if(!group.renderer.unstack){var layout=d3.layout.stack();var stackedData=Rickshaw.clone(layout(data));series.forEach(function(series,index){series._stack=Rickshaw.clone(stackedData[index])})}},this);return groups},render:function(){this.graph.series.forEach(function(series){if(!series.renderer){throw new Error("Each series needs a renderer for graph 'multi' renderer")}});this.graph.vis.selectAll("*").remove();var groups=this._groups();groups=this._stack(groups);groups.forEach(function(group){var series=group.series.filter(function(series){return!series.disabled});series.active=function(){return series};group.renderer.render({series:series,vis:group.vis});series.forEach(function(s){s.stack=s._stack||s.stack||s.data})})}});Rickshaw.namespace("Rickshaw.Graph.Renderer.LinePlot");Rickshaw.Graph.Renderer.LinePlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"lineplot",defaults:function($super){return Rickshaw.extend($super(),{unstack:true,fill:false,stroke:true,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var graph=this.graph;var factory=d3.svg.line().x(function(d){return graph.x(d.x)}).y(function(d){return graph.y(d.y)}).interpolate(this.graph.interpolation).tension(this.tension);factory.defined&&factory.defined(function(d){return d.y!==null});return factory},render:function(args){args=args||{};var graph=this.graph;var series=args.series||graph.series;var vis=args.vis||graph.vis;var dotSize=this.dotSize;vis.selectAll("*").remove();var data=series.filter(function(s){return!s.disabled}).map(function(s){return s.stack});var nodes=vis.selectAll("path").data(data).enter().append("svg:path").attr("d",this.seriesPathFactory());var i=0;series.forEach(function(series){if(series.disabled)return;series.path=nodes[0][i++];this._styleSeries(series)},this);series.forEach(function(series){if(series.disabled)return;var nodes=vis.selectAll("x").data(series.stack.filter(function(d){return d.y!==null})).enter().append("svg:circle").attr("cx",function(d){return graph.x(d.x)}).attr("cy",function(d){return graph.y(d.y)}).attr("r",function(d){return"r"in d?d.r:dotSize});Array.prototype.forEach.call(nodes[0],function(n){if(!n)return;n.setAttribute("data-color",series.color);n.setAttribute("fill","white");n.setAttribute("stroke",series.color);n.setAttribute("stroke-width",this.strokeWidth)}.bind(this))},this)}});Rickshaw.namespace("Rickshaw.Graph.Smoother");Rickshaw.Graph.Smoother=Rickshaw.Class.create({initialize:function(args){this.graph=args.graph;this.element=args.element;this.aggregationScale=1;this.build();this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var self=this;var $=jQuery;if(this.element){$(function(){$(self.element).slider({min:1,max:100,slide:function(event,ui){self.setScale(ui.value);self.graph.update()}})})}},setScale:function(scale){if(scale<1){throw"scale out of range: "+scale}this.aggregationScale=scale;this.graph.update()},transformer:function(data){if(this.aggregationScale==1)return data;var aggregatedData=[];data.forEach(function(seriesData){var aggregatedSeriesData=[];while(seriesData.length){var avgX=0,avgY=0;var slice=seriesData.splice(0,this.aggregationScale);slice.forEach(function(d){avgX+=d.x/slice.length;avgY+=d.y/slice.length});aggregatedSeriesData.push({x:avgX,y:avgY})}aggregatedData.push(aggregatedSeriesData)}.bind(this));return aggregatedData}});Rickshaw.namespace("Rickshaw.Graph.Socketio");Rickshaw.Graph.Socketio=Rickshaw.Class.create(Rickshaw.Graph.Ajax,{request:function(){var socket=io.connect(this.dataURL);var self=this;socket.on("rickshaw",function(data){self.success(data)})}});Rickshaw.namespace("Rickshaw.Series");Rickshaw.Series=Rickshaw.Class.create(Array,{initialize:function(data,palette,options){options=options||{};this.palette=new Rickshaw.Color.Palette(palette);this.timeBase=typeof options.timeBase==="undefined"?Math.floor((new Date).getTime()/1e3):options.timeBase;var timeInterval=typeof options.timeInterval=="undefined"?1e3:options.timeInterval;this.setTimeInterval(timeInterval);if(data&&typeof data=="object"&&Array.isArray(data)){data.forEach(function(item){this.addItem(item)},this)}},addItem:function(item){if(typeof item.name==="undefined"){throw"addItem() needs a name"}item.color=item.color||this.palette.color(item.name);item.data=item.data||[];if(item.data.length===0&&this.length&&this.getIndex()>0){this[0].data.forEach(function(plot){item.data.push({x:plot.x,y:0})})}else if(item.data.length===0){item.data.push({x:this.timeBase-(this.timeInterval||0),y:0})}this.push(item);if(this.legend){this.legend.addLine(this.itemByName(item.name))}},addData:function(data,x){var index=this.getIndex();Rickshaw.keys(data).forEach(function(name){if(!this.itemByName(name)){this.addItem({name:name})}},this);this.forEach(function(item){item.data.push({x:x||(index*this.timeInterval||1)+this.timeBase,y:data[item.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(name){for(var i=0;i<this.length;i++){if(this[i].name==name)return this[i]}},setTimeInterval:function(iv){this.timeInterval=iv/1e3},setTimeBase:function(t){this.timeBase=t},dump:function(){var data={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};this.forEach(function(item){var newItem={color:item.color,name:item.name,data:[]};item.data.forEach(function(plot){newItem.data.push({x:plot.x,y:plot.y})});data.items.push(newItem)});return data},load:function(data){if(data.timeInterval){this.timeInterval=data.timeInterval}if(data.timeBase){this.timeBase=data.timeBase}if(data.items){data.items.forEach(function(item){this.push(item);if(this.legend){this.legend.addLine(this.itemByName(item.name))}},this)}}});Rickshaw.Series.zeroFill=function(series){Rickshaw.Series.fill(series,0)};Rickshaw.Series.fill=function(series,fill){var x;var i=0;var data=series.map(function(s){return s.data});while(i<Math.max.apply(null,data.map(function(d){return d.length}))){x=Math.min.apply(null,data.filter(function(d){return d[i]}).map(function(d){return d[i].x}));data.forEach(function(d){if(!d[i]||d[i].x!=x){d.splice(i,0,{x:x,y:fill})}});i++}};Rickshaw.namespace("Rickshaw.Series.FixedDuration");Rickshaw.Series.FixedDuration=Rickshaw.Class.create(Rickshaw.Series,{initialize:function(data,palette,options){options=options||{};if(typeof options.timeInterval==="undefined"){throw new Error("FixedDuration series requires timeInterval")}if(typeof options.maxDataPoints==="undefined"){throw new Error("FixedDuration series requires maxDataPoints")}this.palette=new Rickshaw.Color.Palette(palette);this.timeBase=typeof options.timeBase==="undefined"?Math.floor((new Date).getTime()/1e3):options.timeBase;this.setTimeInterval(options.timeInterval);if(this[0]&&this[0].data&&this[0].data.length){this.currentSize=this[0].data.length;this.currentIndex=this[0].data.length}else{this.currentSize=0;this.currentIndex=0}this.maxDataPoints=options.maxDataPoints;if(data&&typeof data=="object"&&Array.isArray(data)){data.forEach(function(item){this.addItem(item)},this);this.currentSize+=1;this.currentIndex+=1}this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if(typeof this.maxDataPoints!=="undefined"&&this.currentSize<this.maxDataPoints){for(var i=this.maxDataPoints-this.currentSize-1;i>1;i--){this.currentSize+=1;this.currentIndex+=1;this.forEach(function(item){item.data.unshift({x:((i-1)*this.timeInterval||1)+this.timeBase,y:0,i:i})},this)}}},addData:function($super,data,x){$super(data,x);this.currentSize+=1;this.currentIndex+=1;if(this.maxDataPoints!==undefined){while(this.currentSize>this.maxDataPoints){this.dropData()}}},dropData:function(){this.forEach(function(item){item.data.splice(0,1)});this.currentSize-=1},getIndex:function(){return this.currentIndex}});return Rickshaw});