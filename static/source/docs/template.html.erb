<% content_for :title, doc[:title] %>

<div class="cols-1-2 clear">
  <div class="col-1">
    <div class="side-title">
      <h1>
        <span>LCBO API </span>Documentation
      </h1>
    </div>
    <ul class="side-menu">
      <% data.endpoints.group_by { |e| e[:heading] }.each do |section, documents| %>
        <%= partial 'docs/section', locals: { section: section, documents: documents } %>
      <% end %>
    </ul>
  </div>
  <div class="col-2">
    <% if doc[:route] %>
      <div class="document-title">
        <h2><%= doc[:title] %></h2>
        <dl>
          <dt class="uri-specification hide">
            URL Template
          </dt>
          <dd class="uri-specification">
            <code>http://lcboapi.com</code><%= format_route doc[:route] %>
          </dd>
        </dl>
      </div>
      <article class="document-body">
<%= markdown doc[:body] %>
        <h3>Formats</h3>
        <table class="formats">
          <% doc[:formats].each_pair do |type, desc| %>
            <tr>
              <td class="extension">
                <b>.<%= type %></b>
              </td>
              <td class="desc">
                <%= desc %>
              </td>
            </tr>
          <% end %>
        </table>
        <% if doc[:params] %>
          <%= partial 'docs/params', locals: { doc: doc } %>
        <% end %>
        <% if doc[:pairs] %>
          <h3>Fields</h3>
          <table class="fields">
            <% doc[:pairs].each do |field, desc| %>
              <tr>
                <td class="field">
                  <code><%= field %></code>
                </td>
                <td class="desc">
                  <%= desc %>
                </td>
              </tr>
            <% end %>
          </table>
        <% end %>
      </article>
      <% doc[:examples].each do |example| %>
        <div class="document-example">
          <form class="usage-example-form" action="#" method="GET">
            <fieldset>
              <legend><%= example[:desc] %></legend>
              <dl>
                <dt>
                  <div class="hide">
                    <label for="query">Query</label>
                  </div>
                </dt>
                <dd class="query-widget">
                  http://lcboapi.com
                  <input id="query" name="query" type="text" value="<%= example[:path] %>">
                  <input id="submit" name="commit" type="submit" value="Request">
                </dd>
                <dt class="hide">
                  Response
                </dt>
                <dd class="example-response">
                  <pre>
<code class="example-json-response">{}</code></pre>
                </dd>
              </dl>
            </fieldset>
          </form>
        </div>
      <% end %>
    <% else %>
      <div class="document-title">
        <h2><%= doc[:title] %></h2>
      </div>
      <div class="document-body">
<%= markdown doc[:body] %>
      </div>
    <% end %>
  </div>
</div>
